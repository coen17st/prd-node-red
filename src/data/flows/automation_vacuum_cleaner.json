[
    {
        "id": "55da1471.fda0fc",
        "type": "tab",
        "label": "automation_vacuum_cleaner",
        "disabled": false,
        "info": ""
    },
    {
        "id": "33fea7faee8e1f82",
        "type": "group",
        "z": "55da1471.fda0fc",
        "name": "notify two actions",
        "style": {
            "label": true
        },
        "nodes": [
            "8f3e39fd9d879f86",
            "d5ae8df68946471a",
            "d7f92782a71d3837",
            "b5cc0d26cf3e7ab2",
            "237a19020921825d",
            "09d4cdb039e852de",
            "0e83125ead481334"
        ],
        "x": 1834,
        "y": 459,
        "w": 472,
        "h": 202
    },
    {
        "id": "deb17c414e79ec63",
        "type": "group",
        "z": "55da1471.fda0fc",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "f60ecb3be0ebc2af",
            "dec04d7f3b819fb2",
            "c5f04c8242157305",
            "ba409d3499824364",
            "60b0a5eab5b0a9d6",
            "0fa8b59e2735c07d"
        ],
        "x": 1834,
        "y": 279,
        "w": 472,
        "h": 162
    },
    {
        "id": "faf17088fd1a6b16",
        "type": "group",
        "z": "55da1471.fda0fc",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "c8bc013c45f3ae72",
            "035b931bd0cea26e",
            "57488cc36dcd2d00",
            "051f31139e799468",
            "07d3b997feaf3f7b",
            "8205d58f610c05d0"
        ],
        "x": 1834,
        "y": 679,
        "w": 472,
        "h": 162
    },
    {
        "id": "237a19020921825d",
        "type": "junction",
        "z": "55da1471.fda0fc",
        "g": "33fea7faee8e1f82",
        "x": 1860,
        "y": 540,
        "wires": [
            [
                "d5ae8df68946471a",
                "8f3e39fd9d879f86",
                "09d4cdb039e852de",
                "0e83125ead481334"
            ]
        ]
    },
    {
        "id": "60b0a5eab5b0a9d6",
        "type": "junction",
        "z": "55da1471.fda0fc",
        "g": "deb17c414e79ec63",
        "x": 1860,
        "y": 340,
        "wires": [
            [
                "dec04d7f3b819fb2",
                "f60ecb3be0ebc2af",
                "0fa8b59e2735c07d"
            ]
        ]
    },
    {
        "id": "07d3b997feaf3f7b",
        "type": "junction",
        "z": "55da1471.fda0fc",
        "g": "faf17088fd1a6b16",
        "x": 1860,
        "y": 740,
        "wires": [
            [
                "035b931bd0cea26e",
                "c8bc013c45f3ae72",
                "8205d58f610c05d0"
            ]
        ]
    },
    {
        "id": "252893d959f094a0",
        "type": "junction",
        "z": "55da1471.fda0fc",
        "x": 660,
        "y": 300,
        "wires": [
            [
                "1351cb3a.cc7995"
            ]
        ]
    },
    {
        "id": "8f3e39fd9d879f86",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "33fea7faee8e1f82",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1950,
        "y": 580,
        "wires": [
            [
                "b5cc0d26cf3e7ab2"
            ]
        ]
    },
    {
        "id": "d5ae8df68946471a",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "33fea7faee8e1f82",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stofzuiger",
        "output": "str",
        "x": 1950,
        "y": 500,
        "wires": [
            [
                "b5cc0d26cf3e7ab2"
            ]
        ]
    },
    {
        "id": "d7f92782a71d3837",
        "type": "link out",
        "z": "55da1471.fda0fc",
        "g": "33fea7faee8e1f82",
        "name": "link_out_notify_2",
        "mode": "link",
        "links": [
            "c76d311bb4b6991b",
            "d1753081ba6b4004"
        ],
        "x": 2265,
        "y": 540,
        "wires": []
    },
    {
        "id": "b5cc0d26cf3e7ab2",
        "type": "join",
        "z": "55da1471.fda0fc",
        "g": "33fea7faee8e1f82",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "8",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2170,
        "y": 540,
        "wires": [
            [
                "d7f92782a71d3837"
            ]
        ]
    },
    {
        "id": "09d4cdb039e852de",
        "type": "change",
        "z": "55da1471.fda0fc",
        "g": "33fea7faee8e1f82",
        "name": "action titles",
        "rules": [
            {
                "t": "set",
                "p": "notify.action_1_title",
                "pt": "msg",
                "to": "JA",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2_title",
                "pt": "msg",
                "to": "NEE",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_1",
                "pt": "msg",
                "to": "IGNORE",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notify.action_2",
                "pt": "msg",
                "to": "VACUUM_AUTOCLEANING_OFF",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1970,
        "y": 540,
        "wires": [
            [
                "b5cc0d26cf3e7ab2"
            ]
        ]
    },
    {
        "id": "0e83125ead481334",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "33fea7faee8e1f82",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "vacuum",
        "output": "str",
        "x": 1970,
        "y": 620,
        "wires": [
            [
                "b5cc0d26cf3e7ab2"
            ]
        ]
    },
    {
        "id": "f60ecb3be0ebc2af",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "deb17c414e79ec63",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1970,
        "y": 360,
        "wires": [
            [
                "ba409d3499824364"
            ]
        ]
    },
    {
        "id": "dec04d7f3b819fb2",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "deb17c414e79ec63",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stofzuiger",
        "output": "str",
        "x": 1970,
        "y": 320,
        "wires": [
            [
                "ba409d3499824364"
            ]
        ]
    },
    {
        "id": "c5f04c8242157305",
        "type": "link out",
        "z": "55da1471.fda0fc",
        "g": "deb17c414e79ec63",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "aeee8468f3d1b7ad"
        ],
        "x": 2265,
        "y": 380,
        "wires": []
    },
    {
        "id": "ba409d3499824364",
        "type": "join",
        "z": "55da1471.fda0fc",
        "g": "deb17c414e79ec63",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2170,
        "y": 380,
        "wires": [
            [
                "c5f04c8242157305"
            ]
        ]
    },
    {
        "id": "0fa8b59e2735c07d",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "deb17c414e79ec63",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "vacuum",
        "output": "str",
        "x": 1990,
        "y": 400,
        "wires": [
            [
                "ba409d3499824364"
            ]
        ]
    },
    {
        "id": "c8bc013c45f3ae72",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "faf17088fd1a6b16",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1970,
        "y": 760,
        "wires": [
            [
                "051f31139e799468"
            ]
        ]
    },
    {
        "id": "035b931bd0cea26e",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "faf17088fd1a6b16",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stofzuiger",
        "output": "str",
        "x": 1970,
        "y": 720,
        "wires": [
            [
                "051f31139e799468"
            ]
        ]
    },
    {
        "id": "57488cc36dcd2d00",
        "type": "link out",
        "z": "55da1471.fda0fc",
        "g": "faf17088fd1a6b16",
        "name": "link_out_notify_3",
        "mode": "link",
        "links": [
            "c4660dc11fb0e5b8"
        ],
        "x": 2265,
        "y": 760,
        "wires": []
    },
    {
        "id": "051f31139e799468",
        "type": "join",
        "z": "55da1471.fda0fc",
        "g": "faf17088fd1a6b16",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 2170,
        "y": 760,
        "wires": [
            [
                "57488cc36dcd2d00"
            ]
        ]
    },
    {
        "id": "8205d58f610c05d0",
        "type": "template",
        "z": "55da1471.fda0fc",
        "g": "faf17088fd1a6b16",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "vacuum",
        "output": "str",
        "x": 1990,
        "y": 800,
        "wires": [
            [
                "051f31139e799468"
            ]
        ]
    },
    {
        "id": "b7cf63f8.77958",
        "type": "server-state-changed",
        "z": "55da1471.fda0fc",
        "name": "state group persons",
        "server": "4ba92433.2478cc",
        "version": 5,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entityId": "group.persons",
        "entityIdType": "exact",
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 200,
        "wires": [
            [
                "37466c93.d14b84"
            ]
        ]
    },
    {
        "id": "b6290ea8.c1e6f",
        "type": "server-state-changed",
        "z": "55da1471.fda0fc",
        "name": "state guest ",
        "server": "4ba92433.2478cc",
        "version": 5,
        "outputs": 1,
        "exposeAsEntityConfig": "",
        "entityId": "input_boolean.guest",
        "entityIdType": "exact",
        "outputInitially": false,
        "stateType": "str",
        "ifState": "",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 80,
        "y": 320,
        "wires": [
            [
                "c8eb1592.520518"
            ]
        ]
    },
    {
        "id": "c8eb1592.520518",
        "type": "switch",
        "z": "55da1471.fda0fc",
        "name": "on / off ",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 330,
        "y": 320,
        "wires": [
            [
                "252893d959f094a0"
            ],
            [
                "87dec77c.9877c8"
            ]
        ]
    },
    {
        "id": "37466c93.d14b84",
        "type": "switch",
        "z": "55da1471.fda0fc",
        "name": "home / ! home",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            },
            {
                "t": "neq",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 320,
        "y": 200,
        "wires": [
            [
                "1351cb3a.cc7995"
            ],
            [
                "6242c868ff3985eb"
            ]
        ]
    },
    {
        "id": "60f6cd3f.56a0f4",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "auto cleaning is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.auto_cleaning",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 910,
        "y": 360,
        "wires": [
            [
                "eccced83.41688",
                "564da01f0c297b52"
            ],
            []
        ]
    },
    {
        "id": "85128ba5.bef108",
        "type": "inject",
        "z": "55da1471.fda0fc",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 02 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "02:00 Payload 'off'",
        "payloadType": "str",
        "x": 110,
        "y": 140,
        "wires": [
            [
                "787efd3b.bd13e4"
            ]
        ]
    },
    {
        "id": "787efd3b.bd13e4",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "name": "turn on auto cleaning",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.auto_cleaning"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 320,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "a52152b0.f593b",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "name": "start vacuum",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "vacuum",
        "service": "start",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "vacuum.roborock_s6_pure"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1330,
        "y": 320,
        "wires": [
            [
                "700ffa065a57643e"
            ]
        ]
    },
    {
        "id": "2a9f3bf0.575684",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "name": "return to base",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "vacuum",
        "service": "return_to_base",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "vacuum.roborock_s6_pure"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1360,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "1351cb3a.cc7995",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "state is not docked",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "docked",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.roborock_s6_pure",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 950,
        "y": 180,
        "wires": [
            [
                "32d50dd7.16e062"
            ],
            []
        ]
    },
    {
        "id": "87dec77c.9877c8",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "state group persons is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 540,
        "y": 340,
        "wires": [
            [],
            [
                "353d562e.3dd04a"
            ]
        ]
    },
    {
        "id": "353d562e.3dd04a",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "guest is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 930,
        "y": 260,
        "wires": [
            [
                "60f6cd3f.56a0f4"
            ],
            []
        ]
    },
    {
        "id": "eccced83.41688",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "vacuum is not cleaning",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "cleaning",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.roborock_s6_pure",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1140,
        "y": 320,
        "wires": [
            [
                "a52152b0.f593b"
            ],
            []
        ]
    },
    {
        "id": "32d50dd7.16e062",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "state is not returning",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "returning",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.roborock_s6_pure",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1160,
        "y": 180,
        "wires": [
            [
                "2a9f3bf0.575684"
            ],
            []
        ]
    },
    {
        "id": "8e7bbae.f382348",
        "type": "comment",
        "z": "55da1471.fda0fc",
        "name": "robot vacuum cleaner",
        "info": "",
        "x": 120,
        "y": 40,
        "wires": []
    },
    {
        "id": "173b8941.c73507",
        "type": "server-state-changed",
        "z": "55da1471.fda0fc",
        "name": "sleep mode is on",
        "server": "4ba92433.2478cc",
        "version": 5,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entityId": "input_boolean.sleep_mode",
        "entityIdType": "exact",
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 480,
        "wires": [
            [
                "1c372f1.535d7d1"
            ],
            []
        ]
    },
    {
        "id": "1c372f1.535d7d1",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "auto cleaning is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.auto_cleaning",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 290,
        "y": 480,
        "wires": [
            [
                "c5ad7ab8.30fda8"
            ],
            []
        ]
    },
    {
        "id": "c643d4d4.2baf98",
        "type": "template",
        "z": "55da1471.fda0fc",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stofzuiger {{data.attributes.friendly_name}} is gestart.",
        "output": "str",
        "x": 1700,
        "y": 320,
        "wires": [
            [
                "60b0a5eab5b0a9d6"
            ]
        ]
    },
    {
        "id": "934221e4.b2d0d",
        "type": "stoptimer",
        "z": "55da1471.fda0fc",
        "duration": "10",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 720,
        "y": 420,
        "wires": [
            [
                "60f6cd3f.56a0f4"
            ],
            []
        ]
    },
    {
        "id": "3cf95b5d.b388f4",
        "type": "stoptimer",
        "z": "55da1471.fda0fc",
        "duration": "4",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 720,
        "y": 540,
        "wires": [
            [
                "71847fb30d3084f7"
            ],
            []
        ]
    },
    {
        "id": "c5ad7ab8.30fda8",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "vacuum is not cleaning",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "cleaning",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.roborock_s6_pure",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 500,
        "y": 480,
        "wires": [
            [
                "934221e4.b2d0d",
                "3cf95b5d.b388f4",
                "86f24a287db20768"
            ],
            []
        ]
    },
    {
        "id": "1494387d.fca0a8",
        "type": "server-state-changed",
        "z": "55da1471.fda0fc",
        "name": "vacuum state is cleaning",
        "server": "4ba92433.2478cc",
        "version": 5,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entityId": "vacuum.roborock_s6_pure",
        "entityIdType": "exact",
        "outputInitially": true,
        "stateType": "str",
        "ifState": "cleaning",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 640,
        "wires": [
            [
                "272212f1.26bb6e"
            ],
            []
        ]
    },
    {
        "id": "272212f1.26bb6e",
        "type": "ha-wait-until",
        "z": "55da1471.fda0fc",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 2,
        "outputs": 2,
        "entityId": "vacuum.roborock_s6_pure",
        "entityIdFilterType": "exact",
        "property": "state",
        "comparator": "is",
        "value": "returning",
        "valueType": "str",
        "timeout": "90",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "x": 320,
        "y": 640,
        "wires": [
            [
                "155ef739.0e1de9"
            ],
            []
        ]
    },
    {
        "id": "155ef739.0e1de9",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "auto cleaning is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.auto_cleaning",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 490,
        "y": 640,
        "wires": [
            [
                "a098e71.e0db718"
            ],
            []
        ]
    },
    {
        "id": "a098e71.e0db718",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "name": "turn off auto cleaning",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.auto_cleaning"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 700,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "734801f342d9257e",
        "type": "switch",
        "z": "55da1471.fda0fc",
        "name": "uptime is above 1 min",
        "property": "data.timeSinceChangedMs",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "60000",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 640,
        "y": 220,
        "wires": [
            [
                "353d562e.3dd04a"
            ]
        ]
    },
    {
        "id": "6242c868ff3985eb",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "uptime",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.uptime",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 470,
        "y": 220,
        "wires": [
            [
                "734801f342d9257e"
            ]
        ]
    },
    {
        "id": "cbb046587922e1c0",
        "type": "server-events",
        "z": "55da1471.fda0fc",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 3,
        "exposeAsEntityConfig": "",
        "eventType": "mobile_app_notification_action",
        "eventData": "{\"action\":\"VACUUM_AUTOCLEANING_OFF\"}",
        "waitForRunning": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "$outputData(\"eventData\").event_type",
                "valueType": "jsonata"
            }
        ],
        "event_type": "",
        "x": 170,
        "y": 740,
        "wires": [
            [
                "a098e71.e0db718"
            ]
        ]
    },
    {
        "id": "035179dc3e7fddad",
        "type": "comment",
        "z": "55da1471.fda0fc",
        "name": "listen to vacuum start clean \"no\" answer event ",
        "info": "",
        "x": 210,
        "y": 700,
        "wires": []
    },
    {
        "id": "5f66a79ec51e1612",
        "type": "comment",
        "z": "55da1471.fda0fc",
        "name": "turn back on auto cleaning at 02:00",
        "info": "",
        "x": 180,
        "y": 100,
        "wires": []
    },
    {
        "id": "86f24a287db20768",
        "type": "template",
        "z": "55da1471.fda0fc",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Moet over 10 minuten de stofzuiger starten?",
        "output": "str",
        "x": 1700,
        "y": 540,
        "wires": [
            [
                "237a19020921825d"
            ]
        ]
    },
    {
        "id": "71847fb30d3084f7",
        "type": "template",
        "z": "55da1471.fda0fc",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Over tien minuten start de stofzuiger.",
        "output": "str",
        "x": 1700,
        "y": 740,
        "wires": [
            [
                "07d3b997feaf3f7b"
            ]
        ]
    },
    {
        "id": "700ffa065a57643e",
        "type": "ha-wait-until",
        "z": "55da1471.fda0fc",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 2,
        "outputs": 2,
        "entityId": "vacuum.roborock_s6_pure",
        "entityIdFilterType": "exact",
        "property": "state",
        "comparator": "is",
        "value": "cleaning",
        "valueType": "str",
        "timeout": "2",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 1500,
        "y": 320,
        "wires": [
            [
                "c643d4d4.2baf98"
            ],
            [
                "64e882fa1c38e011"
            ]
        ]
    },
    {
        "id": "64e882fa1c38e011",
        "type": "template",
        "z": "55da1471.fda0fc",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Stofzuiger {{data.attributes.friendly_name}} kon niet worden gestart.",
        "output": "str",
        "x": 1700,
        "y": 360,
        "wires": [
            [
                "60b0a5eab5b0a9d6"
            ]
        ]
    },
    {
        "id": "564da01f0c297b52",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "vacuum is not cleaning",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "cleaning",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.robot_vacuum",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1140,
        "y": 380,
        "wires": [
            [
                "65eac4d0c7d4907d"
            ],
            []
        ]
    },
    {
        "id": "65eac4d0c7d4907d",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "name": "start vacuum",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "vacuum",
        "service": "start",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "vacuum.robot_vacuum"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1330,
        "y": 380,
        "wires": [
            [
                "12b21cf1b9684b45"
            ]
        ]
    },
    {
        "id": "12b21cf1b9684b45",
        "type": "ha-wait-until",
        "z": "55da1471.fda0fc",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 2,
        "outputs": 2,
        "entityId": "vacuum.robot_vacuum",
        "entityIdFilterType": "exact",
        "property": "state",
        "comparator": "is",
        "value": "cleaning",
        "valueType": "str",
        "timeout": "2",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 1500,
        "y": 380,
        "wires": [
            [
                "c643d4d4.2baf98"
            ],
            [
                "64e882fa1c38e011"
            ]
        ]
    },
    {
        "id": "4ba92433.2478cc",
        "type": "server",
        "name": "Home Assistant",
        "version": 5,
        "addon": false,
        "rejectUnauthorizedCerts": false,
        "ha_boolean": "y|yes|true|on|home|open",
        "connectionDelay": true,
        "cacheJson": true,
        "heartbeat": true,
        "heartbeatInterval": "30",
        "areaSelector": "id",
        "deviceSelector": "id",
        "entitySelector": "id",
        "statusSeparator": "at: ",
        "statusYear": "hidden",
        "statusMonth": "short",
        "statusDay": "numeric",
        "statusHourCycle": "h23",
        "statusTimeFormat": "h:m",
        "enableGlobalContextStore": true
    }
]