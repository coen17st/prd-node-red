[
    {
        "id": "65351372f52f2e2d",
        "type": "tab",
        "label": "notification_doorbell",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a36a86d8bb45f3d4",
        "type": "group",
        "z": "65351372f52f2e2d",
        "name": "notify tts",
        "style": {
            "label": true
        },
        "nodes": [
            "96c864b13b1ed44d",
            "6a5f068bc90a5bea",
            "7528bd2fef1d9090",
            "4cab768ec3304d77",
            "7bb3b10a5f621765",
            "504241c3de9c1592",
            "dfc54bd82a16e190"
        ],
        "x": 1614,
        "y": 479,
        "w": 412,
        "h": 202
    },
    {
        "id": "f259c1d245c5a0a4",
        "type": "group",
        "z": "65351372f52f2e2d",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "41bff044d8ff0723",
            "8d49d5b0a77fe3fa",
            "e188c5d43cc22d55",
            "cfbc58f0de8fb24f",
            "685ac1f9d97aa2a9",
            "f6739c6be49dd463",
            "887d3f0b3fca1ef1"
        ],
        "x": 1614,
        "y": 39,
        "w": 412,
        "h": 202
    },
    {
        "id": "dbf117e9be1363d0",
        "type": "group",
        "z": "65351372f52f2e2d",
        "name": "notify",
        "style": {
            "label": true
        },
        "nodes": [
            "4fcc37584fdaacfc",
            "f62f4165d866a393",
            "f118397ef51d377e",
            "f46aad79d4615dbf",
            "ca3c70923fa7cd35",
            "96104ca744a9942d",
            "187e38cbc867548d"
        ],
        "x": 1614,
        "y": 259,
        "w": 412,
        "h": 202
    },
    {
        "id": "1ff52cc50bb2b980",
        "type": "junction",
        "z": "65351372f52f2e2d",
        "x": 600,
        "y": 120,
        "wires": [
            [
                "926a03f5dc689826"
            ]
        ]
    },
    {
        "id": "7bb3b10a5f621765",
        "type": "junction",
        "z": "65351372f52f2e2d",
        "g": "a36a86d8bb45f3d4",
        "x": 1640,
        "y": 560,
        "wires": [
            [
                "6a5f068bc90a5bea",
                "96c864b13b1ed44d",
                "504241c3de9c1592",
                "dfc54bd82a16e190"
            ]
        ]
    },
    {
        "id": "685ac1f9d97aa2a9",
        "type": "junction",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "x": 1640,
        "y": 140,
        "wires": [
            [
                "8d49d5b0a77fe3fa",
                "41bff044d8ff0723",
                "f6739c6be49dd463",
                "887d3f0b3fca1ef1"
            ]
        ]
    },
    {
        "id": "ca3c70923fa7cd35",
        "type": "junction",
        "z": "65351372f52f2e2d",
        "g": "dbf117e9be1363d0",
        "x": 1640,
        "y": 360,
        "wires": [
            [
                "f62f4165d866a393",
                "4fcc37584fdaacfc",
                "96104ca744a9942d",
                "187e38cbc867548d"
            ]
        ]
    },
    {
        "id": "1389cd751a19cef8",
        "type": "junction",
        "z": "65351372f52f2e2d",
        "x": 280,
        "y": 80,
        "wires": [
            [
                "2be495a83d512501"
            ]
        ]
    },
    {
        "id": "5de4f38ec4c4075f",
        "type": "junction",
        "z": "65351372f52f2e2d",
        "x": 280,
        "y": 120,
        "wires": [
            [
                "1ff52cc50bb2b980"
            ]
        ]
    },
    {
        "id": "26c54bb35b060ee0",
        "type": "server-state-changed",
        "z": "65351372f52f2e2d",
        "name": "state doorbell button on",
        "server": "4ba92433.2478cc",
        "version": 6,
        "outputs": 2,
        "exposeAsEntityConfig": "",
        "entities": {
            "entity": [
                "binary_sensor.smart_doorbell_button"
            ],
            "substring": [],
            "regex": []
        },
        "outputInitially": false,
        "stateType": "str",
        "ifState": "on",
        "ifStateType": "str",
        "ifStateOperator": "is",
        "outputOnlyOnStateChange": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 140,
        "wires": [
            [
                "ef1caaf0e51df45f",
                "1389cd751a19cef8",
                "5de4f38ec4c4075f"
            ],
            []
        ]
    },
    {
        "id": "eb27a8504ea0ba20",
        "type": "ha-wait-until",
        "z": "65351372f52f2e2d",
        "name": "wait until front door is open",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "entities": {
            "entity": [
                "binary_sensor.frontdoor"
            ],
            "substring": [],
            "regex": []
        },
        "property": "state",
        "comparator": "is",
        "value": "on",
        "valueType": "str",
        "timeout": "60",
        "timeoutType": "num",
        "timeoutUnits": "seconds",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "x": 1060,
        "y": 200,
        "wires": [
            [
                "75259b56c62c6dc9"
            ],
            [
                "f26a8e6739f171d9"
            ]
        ]
    },
    {
        "id": "f26a8e6739f171d9",
        "type": "template",
        "z": "65351372f52f2e2d",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is aangebeld maar de voordeur is niet open gedaan. ",
        "output": "str",
        "x": 1480,
        "y": 220,
        "wires": [
            [
                "ca3c70923fa7cd35"
            ]
        ]
    },
    {
        "id": "75259b56c62c6dc9",
        "type": "template",
        "z": "65351372f52f2e2d",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is aangebeld en de voordeur is open gedaan.",
        "output": "str",
        "x": 1480,
        "y": 180,
        "wires": [
            [
                "ca3c70923fa7cd35"
            ]
        ]
    },
    {
        "id": "489f51dc5f080ea1",
        "type": "api-current-state",
        "z": "65351372f52f2e2d",
        "name": "state doorbell chime is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.smart_doorbell_active",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1050,
        "y": 260,
        "wires": [
            [
                "5ea0148e32967d9a"
            ],
            []
        ]
    },
    {
        "id": "324163187704260f",
        "type": "change",
        "z": "65351372f52f2e2d",
        "name": "set payload open",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "open",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 200,
        "wires": [
            [
                "926a03f5dc689826"
            ]
        ]
    },
    {
        "id": "ef1caaf0e51df45f",
        "type": "delay",
        "z": "65351372f52f2e2d",
        "name": "",
        "pauseType": "delay",
        "timeout": "7",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 340,
        "y": 200,
        "wires": [
            [
                "324163187704260f"
            ]
        ]
    },
    {
        "id": "63dd0580fe5a2988",
        "type": "change",
        "z": "65351372f52f2e2d",
        "name": "set payload close",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "close",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 770,
        "y": 180,
        "wires": [
            [
                "926a03f5dc689826"
            ]
        ]
    },
    {
        "id": "926a03f5dc689826",
        "type": "traffic",
        "z": "65351372f52f2e2d",
        "name": "traffic light",
        "property_allow": "payload",
        "filter_allow": "open",
        "ignore_case_allow": false,
        "negate_allow": false,
        "send_allow": false,
        "property_stop": "payload",
        "filter_stop": "close",
        "ignore_case_stop": false,
        "negate_stop": false,
        "send_stop": false,
        "default_start": true,
        "differ": false,
        "x": 750,
        "y": 240,
        "wires": [
            [
                "63dd0580fe5a2988",
                "eb27a8504ea0ba20",
                "489f51dc5f080ea1"
            ]
        ]
    },
    {
        "id": "5ea0148e32967d9a",
        "type": "template",
        "z": "65351372f52f2e2d",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is aangebeld.",
        "output": "str",
        "x": 1480,
        "y": 300,
        "wires": [
            [
                "7bb3b10a5f621765"
            ]
        ]
    },
    {
        "id": "9c072e7c1116b5c5",
        "type": "comment",
        "z": "65351372f52f2e2d",
        "name": "doorbell notification",
        "info": "",
        "x": 110,
        "y": 20,
        "wires": []
    },
    {
        "id": "2be495a83d512501",
        "type": "template",
        "z": "65351372f52f2e2d",
        "name": "message",
        "field": "notify.message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is aangebeld",
        "output": "str",
        "x": 1480,
        "y": 80,
        "wires": [
            [
                "685ac1f9d97aa2a9"
            ]
        ]
    },
    {
        "id": "96c864b13b1ed44d",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "a36a86d8bb45f3d4",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1730,
        "y": 560,
        "wires": [
            [
                "4cab768ec3304d77"
            ]
        ]
    },
    {
        "id": "6a5f068bc90a5bea",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "a36a86d8bb45f3d4",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Deurbel",
        "output": "str",
        "x": 1730,
        "y": 520,
        "wires": [
            [
                "4cab768ec3304d77"
            ]
        ]
    },
    {
        "id": "7528bd2fef1d9090",
        "type": "link out",
        "z": "65351372f52f2e2d",
        "g": "a36a86d8bb45f3d4",
        "name": "link_out_notify_3",
        "mode": "link",
        "links": [
            "c4660dc11fb0e5b8"
        ],
        "x": 1985,
        "y": 560,
        "wires": []
    },
    {
        "id": "4cab768ec3304d77",
        "type": "join",
        "z": "65351372f52f2e2d",
        "g": "a36a86d8bb45f3d4",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1890,
        "y": 560,
        "wires": [
            [
                "7528bd2fef1d9090"
            ]
        ]
    },
    {
        "id": "504241c3de9c1592",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "a36a86d8bb45f3d4",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "doorbell_rings",
        "output": "str",
        "x": 1750,
        "y": 600,
        "wires": [
            [
                "4cab768ec3304d77"
            ]
        ]
    },
    {
        "id": "dfc54bd82a16e190",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "a36a86d8bb45f3d4",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "doorbell",
        "output": "str",
        "x": 1730,
        "y": 640,
        "wires": [
            [
                "4cab768ec3304d77"
            ]
        ]
    },
    {
        "id": "41bff044d8ff0723",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1730,
        "y": 120,
        "wires": [
            [
                "cfbc58f0de8fb24f"
            ]
        ]
    },
    {
        "id": "8d49d5b0a77fe3fa",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Deurbel",
        "output": "str",
        "x": 1730,
        "y": 80,
        "wires": [
            [
                "cfbc58f0de8fb24f"
            ]
        ]
    },
    {
        "id": "e188c5d43cc22d55",
        "type": "link out",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "name": "link_out_notify_1",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b",
            "a97f87cfab413716",
            "aeee8468f3d1b7ad",
            "c13b2b4d87067c17"
        ],
        "x": 1985,
        "y": 120,
        "wires": []
    },
    {
        "id": "cfbc58f0de8fb24f",
        "type": "join",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1890,
        "y": 120,
        "wires": [
            [
                "e188c5d43cc22d55"
            ]
        ]
    },
    {
        "id": "f6739c6be49dd463",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "doorbell_rings",
        "output": "str",
        "x": 1750,
        "y": 160,
        "wires": [
            [
                "cfbc58f0de8fb24f"
            ]
        ]
    },
    {
        "id": "887d3f0b3fca1ef1",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "f259c1d245c5a0a4",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "doorbell",
        "output": "str",
        "x": 1730,
        "y": 200,
        "wires": [
            [
                "cfbc58f0de8fb24f"
            ]
        ]
    },
    {
        "id": "4fcc37584fdaacfc",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "dbf117e9be1363d0",
        "name": "icon",
        "field": "notify.icon",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "",
        "output": "str",
        "x": 1730,
        "y": 340,
        "wires": [
            [
                "f46aad79d4615dbf"
            ]
        ]
    },
    {
        "id": "f62f4165d866a393",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "dbf117e9be1363d0",
        "name": "title",
        "field": "notify.title",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Deurbel",
        "output": "str",
        "x": 1730,
        "y": 300,
        "wires": [
            [
                "f46aad79d4615dbf"
            ]
        ]
    },
    {
        "id": "f118397ef51d377e",
        "type": "link out",
        "z": "65351372f52f2e2d",
        "g": "dbf117e9be1363d0",
        "name": "link_out_notify_2",
        "mode": "link",
        "links": [
            "8ed3b0974336e55b"
        ],
        "x": 1985,
        "y": 340,
        "wires": []
    },
    {
        "id": "f46aad79d4615dbf",
        "type": "join",
        "z": "65351372f52f2e2d",
        "g": "dbf117e9be1363d0",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "notify",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "useparts": true,
        "accumulate": false,
        "timeout": "",
        "count": "5",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1890,
        "y": 340,
        "wires": [
            [
                "f118397ef51d377e"
            ]
        ]
    },
    {
        "id": "96104ca744a9942d",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "dbf117e9be1363d0",
        "name": "notification id",
        "field": "notify.notification_id",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "door_openend",
        "output": "str",
        "x": 1750,
        "y": 380,
        "wires": [
            [
                "f46aad79d4615dbf"
            ]
        ]
    },
    {
        "id": "187e38cbc867548d",
        "type": "template",
        "z": "65351372f52f2e2d",
        "g": "dbf117e9be1363d0",
        "name": "tag",
        "field": "notify.tag",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "doorbell",
        "output": "str",
        "x": 1730,
        "y": 420,
        "wires": [
            [
                "f46aad79d4615dbf"
            ]
        ]
    },
    {
        "id": "4ba92433.2478cc",
        "type": "server",
        "name": "Home Assistant",
        "version": 5,
        "addon": false,
        "rejectUnauthorizedCerts": false,
        "ha_boolean": "y|yes|true|on|home|open",
        "connectionDelay": true,
        "cacheJson": true,
        "heartbeat": true,
        "heartbeatInterval": "30",
        "areaSelector": "id",
        "deviceSelector": "id",
        "entitySelector": "id",
        "statusSeparator": "at: ",
        "statusYear": "hidden",
        "statusMonth": "short",
        "statusDay": "numeric",
        "statusHourCycle": "h23",
        "statusTimeFormat": "h:m",
        "enableGlobalContextStore": true
    }
]