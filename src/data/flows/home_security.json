[
	{
		"id": "b13ca13c.9328e",
		"type": "tab",
		"label": "home_security",
		"disabled": false,
		"info": ""
	},
	{
		"id": "24ab3051.7c08e",
		"type": "server-state-changed",
		"z": "b13ca13c.9328e",
		"name": "state backdoor",
		"server": "4ba92433.2478cc",
		"version": 3,
		"exposeToHomeAssistant": false,
		"haConfig": [
			{
				"property": "name",
				"value": ""
			},
			{
				"property": "icon",
				"value": ""
			}
		],
		"entityidfilter": "binary_sensor.backdoor_access_control_window_door_is_open",
		"entityidfiltertype": "exact",
		"outputinitially": false,
		"state_type": "str",
		"haltifstate": "",
		"halt_if_type": "str",
		"halt_if_compare": "is",
		"outputs": 1,
		"output_only_on_state_change": true,
		"for": "",
		"forType": "num",
		"forUnits": "minutes",
		"ignorePrevStateNull": false,
		"ignorePrevStateUnknown": false,
		"ignorePrevStateUnavailable": false,
		"ignoreCurrentStateUnknown": false,
		"ignoreCurrentStateUnavailable": false,
		"outputProperties": [
			{
				"property": "payload",
				"propertyType": "msg",
				"value": "",
				"valueType": "entityState"
			},
			{
				"property": "data",
				"propertyType": "msg",
				"value": "",
				"valueType": "eventData"
			},
			{
				"property": "topic",
				"propertyType": "msg",
				"value": "",
				"valueType": "triggerId"
			}
		],
		"x": 100,
		"y": 160,
		"wires": [["2231c04d.678c4"]]
	},
	{
		"id": "b2a6a7bd.0318b8",
		"type": "server-state-changed",
		"z": "b13ca13c.9328e",
		"name": "state front door",
		"server": "4ba92433.2478cc",
		"version": 3,
		"exposeToHomeAssistant": false,
		"haConfig": [
			{
				"property": "name",
				"value": ""
			},
			{
				"property": "icon",
				"value": ""
			}
		],
		"entityidfilter": "binary_sensor.frontdoor_access_control_window_door_is_open",
		"entityidfiltertype": "exact",
		"outputinitially": false,
		"state_type": "str",
		"haltifstate": "",
		"halt_if_type": "str",
		"halt_if_compare": "is",
		"outputs": 1,
		"output_only_on_state_change": true,
		"for": "",
		"forType": "num",
		"forUnits": "minutes",
		"ignorePrevStateNull": false,
		"ignorePrevStateUnknown": false,
		"ignorePrevStateUnavailable": false,
		"ignoreCurrentStateUnknown": false,
		"ignoreCurrentStateUnavailable": false,
		"outputProperties": [
			{
				"property": "payload",
				"propertyType": "msg",
				"value": "",
				"valueType": "entityState"
			},
			{
				"property": "data",
				"propertyType": "msg",
				"value": "",
				"valueType": "eventData"
			},
			{
				"property": "topic",
				"propertyType": "msg",
				"value": "",
				"valueType": "triggerId"
			}
		],
		"x": 100,
		"y": 100,
		"wires": [["4dbc6d3c.6b1e94"]]
	},
	{
		"id": "9b797c1b.4dc83",
		"type": "switch",
		"z": "b13ca13c.9328e",
		"name": "on/off",
		"property": "payload",
		"propertyType": "msg",
		"rules": [
			{
				"t": "eq",
				"v": "on",
				"vt": "str"
			},
			{
				"t": "eq",
				"v": "off",
				"vt": "str"
			}
		],
		"checkall": "true",
		"repair": false,
		"outputs": 2,
		"x": 410,
		"y": 120,
		"wires": [["e3f16390.e04ac"], []]
	},
	{
		"id": "5930459.94035bc",
		"type": "api-current-state",
		"z": "b13ca13c.9328e",
		"name": "home security is on",
		"server": "4ba92433.2478cc",
		"version": 3,
		"outputs": 2,
		"halt_if": "on",
		"halt_if_type": "str",
		"halt_if_compare": "is",
		"entity_id": "input_boolean.home_security",
		"state_type": "str",
		"blockInputOverrides": false,
		"outputProperties": [
			{
				"property": "input_boolean.home_security",
				"propertyType": "msg",
				"value": "",
				"valueType": "entityState"
			},
			{
				"property": "data",
				"propertyType": "msg",
				"value": "",
				"valueType": "entity"
			}
		],
		"for": 0,
		"forType": "num",
		"forUnits": "minutes",
		"x": 750,
		"y": 240,
		"wires": [
			["29fb388f.6b0768", "743671d6.44575", "4a56a5d0.e5ef1c", "40140a3.8383df4"],
			[]
		]
	},
	{
		"id": "743671d6.44575",
		"type": "delay",
		"z": "b13ca13c.9328e",
		"name": "",
		"pauseType": "delay",
		"timeout": "1",
		"timeoutUnits": "minutes",
		"rate": "1",
		"nbRateUnits": "1",
		"rateUnits": "second",
		"randomFirst": "1",
		"randomLast": "5",
		"randomUnits": "seconds",
		"drop": false,
		"x": 1220,
		"y": 320,
		"wires": [["76dade0f.884bb"]]
	},
	{
		"id": "76dade0f.884bb",
		"type": "api-current-state",
		"z": "b13ca13c.9328e",
		"name": "home security is on",
		"server": "4ba92433.2478cc",
		"version": 3,
		"outputs": 2,
		"halt_if": "on",
		"halt_if_type": "str",
		"halt_if_compare": "is",
		"entity_id": "input_boolean.home_security",
		"state_type": "str",
		"blockInputOverrides": false,
		"outputProperties": [
			{
				"property": "input_boolean.home_security",
				"propertyType": "msg",
				"value": "",
				"valueType": "entityState"
			},
			{
				"property": "data",
				"propertyType": "msg",
				"value": "",
				"valueType": "entity"
			}
		],
		"for": 0,
		"forType": "num",
		"forUnits": "minutes",
		"x": 1390,
		"y": 320,
		"wires": [["1e0c9024.40fd9", "5bee85e2.5958fc"], []]
	},
	{
		"id": "1e0c9024.40fd9",
		"type": "api-call-service",
		"z": "b13ca13c.9328e",
		"name": "turn on alarm",
		"server": "4ba92433.2478cc",
		"version": 3,
		"debugenabled": false,
		"service_domain": "input_boolean",
		"service": "turn_on",
		"entityId": "input_boolean.alarm",
		"data": "",
		"dataType": "json",
		"mergecontext": "",
		"mustacheAltTags": false,
		"outputProperties": [],
		"queue": "none",
		"x": 1690,
		"y": 360,
		"wires": [[]]
	},
	{
		"id": "50a28070.5f3b8",
		"type": "api-current-state",
		"z": "b13ca13c.9328e",
		"name": "state cancel home security timer active",
		"server": "4ba92433.2478cc",
		"version": 3,
		"outputs": 2,
		"halt_if": "active",
		"halt_if_type": "str",
		"halt_if_compare": "is",
		"entity_id": "timer.home_security",
		"state_type": "str",
		"blockInputOverrides": false,
		"outputProperties": [
			{
				"property": "timer.security",
				"propertyType": "msg",
				"value": "",
				"valueType": "entityState"
			},
			{
				"property": "data",
				"propertyType": "msg",
				"value": "",
				"valueType": "entity"
			}
		],
		"for": 0,
		"forType": "num",
		"forUnits": "minutes",
		"x": 510,
		"y": 340,
		"wires": [["3e130ee2.3c60c2"], []]
	},
	{
		"id": "3e130ee2.3c60c2",
		"type": "api-call-service",
		"z": "b13ca13c.9328e",
		"name": "cancel home security timer",
		"server": "4ba92433.2478cc",
		"version": 3,
		"debugenabled": false,
		"service_domain": "timer",
		"service": "cancel",
		"entityId": "timer.home_security",
		"data": "",
		"dataType": "json",
		"mergecontext": "",
		"mustacheAltTags": false,
		"outputProperties": [
			{
				"property": "payload",
				"propertyType": "msg",
				"value": "",
				"valueType": "data"
			}
		],
		"queue": "none",
		"x": 800,
		"y": 340,
		"wires": [["74c8186f.59ee08"]]
	},
	{
		"id": "29fb388f.6b0768",
		"type": "api-current-state",
		"z": "b13ca13c.9328e",
		"name": "outdoor is dark",
		"server": "4ba92433.2478cc",
		"version": 3,
		"outputs": 2,
		"halt_if": "dark",
		"halt_if_type": "str",
		"halt_if_compare": "is",
		"entity_id": "sensor.outdoor_light_dark",
		"state_type": "str",
		"blockInputOverrides": true,
		"outputProperties": [
			{
				"property": "payload",
				"propertyType": "msg",
				"value": "",
				"valueType": "entityState"
			},
			{
				"property": "data",
				"propertyType": "msg",
				"value": "",
				"valueType": "entity"
			}
		],
		"for": 0,
		"forType": "num",
		"forUnits": "minutes",
		"x": 960,
		"y": 120,
		"wires": [["3af8865a.e67f0a"], []]
	},
	{
		"id": "3af8865a.e67f0a",
		"type": "api-call-service",
		"z": "b13ca13c.9328e",
		"name": "turn on light backyard front door",
		"server": "4ba92433.2478cc",
		"version": 3,
		"debugenabled": false,
		"service_domain": "light",
		"service": "turn_on",
		"entityId": "light.shellydimmer_backyard_string_l, light.shelly1_front_door",
		"data": "{\"brightness\":60}",
		"dataType": "json",
		"mergecontext": "",
		"mustacheAltTags": false,
		"outputProperties": [],
		"queue": "none",
		"x": 1190,
		"y": 120,
		"wires": [[]]
	},
	{
		"id": "ef2d0bf8.6e4c38",
		"type": "api-call-service",
		"z": "b13ca13c.9328e",
		"name": "persistent notification",
		"server": "4ba92433.2478cc",
		"version": 3,
		"debugenabled": false,
		"service_domain": "persistent_notification",
		"service": "create",
		"entityId": "",
		"data": "{\"message\":\"{{message}}\",\"title\":\"{{topic}}\"}",
		"dataType": "json",
		"mergecontext": "",
		"mustacheAltTags": false,
		"outputProperties": [],
		"queue": "none",
		"x": 1960,
		"y": 320,
		"wires": [[]]
	},
	{
		"id": "f7d9db6.4177e28",
		"type": "api-call-service",
		"z": "b13ca13c.9328e",
		"name": "notify",
		"server": "4ba92433.2478cc",
		"version": 3,
		"debugenabled": false,
		"service_domain": "notify",
		"service": "notify",
		"entityId": "",
		"data": "{\"message\":\"{{message}}\",\"title\":\"{{topic}}\"}",
		"dataType": "json",
		"mergecontext": "",
		"mustacheAltTags": false,
		"outputProperties": [],
		"queue": "none",
		"x": 1910,
		"y": 260,
		"wires": [[]]
	},
	{
		"id": "d60f34c7.e15c08",
		"type": "comment",
		"z": "b13ca13c.9328e",
		"name": "home security",
		"info": "",
		"x": 90,
		"y": 40,
		"wires": []
	},
	{
		"id": "5bee85e2.5958fc",
		"type": "template",
		"z": "b13ca13c.9328e",
		"name": "message",
		"field": "message",
		"fieldType": "msg",
		"format": "handlebars",
		"syntax": "mustache",
		"template": "Het alarm gaat af! Schakel beveiliging uit via Home Assistant of Google Home.",
		"output": "str",
		"x": 1680,
		"y": 320,
		"wires": [
			["ef2d0bf8.6e4c38", "f7d9db6.4177e28", "3ac976e6.9a9d7a", "60473297.21616c"]
		]
	},
	{
		"id": "218b9cc3.1e7df4",
		"type": "server-state-changed",
		"z": "b13ca13c.9328e",
		"name": "state home securty",
		"server": "4ba92433.2478cc",
		"version": 3,
		"exposeToHomeAssistant": false,
		"haConfig": [
			{
				"property": "name",
				"value": ""
			},
			{
				"property": "icon",
				"value": ""
			}
		],
		"entityidfilter": "input_boolean.home_security",
		"entityidfiltertype": "exact",
		"outputinitially": false,
		"state_type": "str",
		"haltifstate": "",
		"halt_if_type": "str",
		"halt_if_compare": "is",
		"outputs": 1,
		"output_only_on_state_change": true,
		"for": "",
		"forType": "num",
		"forUnits": "minutes",
		"ignorePrevStateNull": false,
		"ignorePrevStateUnknown": false,
		"ignorePrevStateUnavailable": false,
		"ignoreCurrentStateUnknown": false,
		"ignoreCurrentStateUnavailable": false,
		"outputProperties": [
			{
				"property": "payload",
				"propertyType": "msg",
				"value": "",
				"valueType": "entityState"
			},
			{
				"property": "data",
				"propertyType": "msg",
				"value": "",
				"valueType": "eventData"
			},
			{
				"property": "topic",
				"propertyType": "msg",
				"value": "",
				"valueType": "triggerId"
			}
		],
		"x": 110,
		"y": 360,
		"wires": [["f717f95f.430aa8"]]
	},
	{
		"id": "f717f95f.430aa8",
		"type": "switch",
		"z": "b13ca13c.9328e",
		"name": "",
		"property": "payload",
		"propertyType": "msg",
		"rules": [
			{
				"t": "eq",
				"v": "on",
				"vt": "str"
			},
			{
				"t": "eq",
				"v": "off",
				"vt": "str"
			}
		],
		"checkall": "true",
		"repair": false,
		"outputs": 2,
		"x": 270,
		"y": 360,
		"wires": [["50a28070.5f3b8"], ["50a28070.5f3b8", "2f8f5ff2.f712d"]]
	},
	{
		"id": "2f8f5ff2.f712d",
		"type": "api-call-service",
		"z": "b13ca13c.9328e",
		"name": "turn off alarm",
		"server": "4ba92433.2478cc",
		"version": 3,
		"debugenabled": false,
		"service_domain": "input_boolean",
		"service": "turn_off",
		"entityId": "input_boolean.alarm",
		"data": "",
		"dataType": "json",
		"mergecontext": "",
		"mustacheAltTags": false,
		"outputProperties": [],
		"queue": "none",
		"x": 430,
		"y": 400,
		"wires": [["7a028f41.56997"]]
	},
	{
		"id": "74c8186f.59ee08",
		"type": "change",
		"z": "b13ca13c.9328e",
		"name": "",
		"rules": [
			{
				"t": "set",
				"p": "reset",
				"pt": "msg",
				"to": "reset",
				"tot": "str"
			}
		],
		"action": "",
		"property": "",
		"from": "",
		"to": "",
		"reg": false,
		"x": 1020,
		"y": 340,
		"wires": [["743671d6.44575"]]
	},
	{
		"id": "4a56a5d0.e5ef1c",
		"type": "api-call-service",
		"z": "b13ca13c.9328e",
		"name": "start alarm_countdown timer",
		"server": "4ba92433.2478cc",
		"version": 3,
		"debugenabled": false,
		"service_domain": "timer",
		"service": "start",
		"entityId": "timer.alarm_countdown",
		"data": "",
		"dataType": "json",
		"mergecontext": "",
		"mustacheAltTags": false,
		"outputProperties": [],
		"queue": "none",
		"x": 1180,
		"y": 160,
		"wires": [[]]
	},
	{
		"id": "7a028f41.56997",
		"type": "api-call-service",
		"z": "b13ca13c.9328e",
		"name": "cancel alarm countdown timer",
		"server": "4ba92433.2478cc",
		"version": 3,
		"debugenabled": false,
		"service_domain": "timer",
		"service": "cancel",
		"entityId": "timer.alarm_countdown",
		"data": "",
		"dataType": "json",
		"mergecontext": "",
		"mustacheAltTags": false,
		"outputProperties": [
			{
				"property": "payload",
				"propertyType": "msg",
				"value": "",
				"valueType": "data"
			}
		],
		"queue": "none",
		"x": 650,
		"y": 400,
		"wires": [[]]
	},
	{
		"id": "3ac976e6.9a9d7a",
		"type": "api-call-service",
		"z": "b13ca13c.9328e",
		"name": "google say",
		"server": "4ba92433.2478cc",
		"version": 3,
		"debugenabled": false,
		"service_domain": "tts",
		"service": "google_say",
		"entityId": "media_player.home_speaker",
		"data": "{\"message\":\"{{message}}\",\"language\":\"nl\"}",
		"dataType": "json",
		"mergecontext": "",
		"mustacheAltTags": false,
		"outputProperties": [],
		"queue": "none",
		"x": 1930,
		"y": 200,
		"wires": [[]]
	},
	{
		"id": "40140a3.8383df4",
		"type": "template",
		"z": "b13ca13c.9328e",
		"name": "message",
		"field": "message",
		"fieldType": "msg",
		"format": "handlebars",
		"syntax": "mustache",
		"template": "De {{door}} is geopend met beveiliging aan. Schakel beveiliging uit via Home Assistant of Google Home.",
		"output": "str",
		"x": 1680,
		"y": 280,
		"wires": [
			["3ac976e6.9a9d7a", "f7d9db6.4177e28", "ef2d0bf8.6e4c38", "60473297.21616c"]
		]
	},
	{
		"id": "4dbc6d3c.6b1e94",
		"type": "change",
		"z": "b13ca13c.9328e",
		"name": "",
		"rules": [
			{
				"t": "set",
				"p": "door",
				"pt": "msg",
				"to": "voordeur",
				"tot": "str"
			}
		],
		"action": "",
		"property": "",
		"from": "",
		"to": "",
		"reg": false,
		"x": 270,
		"y": 100,
		"wires": [["9b797c1b.4dc83"]]
	},
	{
		"id": "2231c04d.678c4",
		"type": "change",
		"z": "b13ca13c.9328e",
		"name": "",
		"rules": [
			{
				"t": "set",
				"p": "door",
				"pt": "msg",
				"to": "achterdeur",
				"tot": "str"
			}
		],
		"action": "",
		"property": "",
		"from": "",
		"to": "",
		"reg": false,
		"x": 270,
		"y": 160,
		"wires": [["9b797c1b.4dc83"]]
	},
	{
		"id": "e3f16390.e04ac",
		"type": "change",
		"z": "b13ca13c.9328e",
		"name": "",
		"rules": [
			{
				"t": "set",
				"p": "topic",
				"pt": "msg",
				"to": "Huis beveiliging",
				"tot": "str"
			}
		],
		"action": "",
		"property": "",
		"from": "",
		"to": "",
		"reg": false,
		"x": 550,
		"y": 120,
		"wires": [["5930459.94035bc"]]
	},
	{
		"id": "60473297.21616c",
		"type": "link out",
		"z": "b13ca13c.9328e",
		"name": "",
		"links": ["ebf4860d.603538"],
		"x": 1875,
		"y": 380,
		"wires": []
	}
]
