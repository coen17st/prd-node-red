[
    {
        "id": "0f710598d50e0596",
        "type": "subflow",
        "name": "entertainment_activity_uitschakelen",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 60,
                "wires": [
                    {
                        "id": "19c16b81a65ce03d"
                    },
                    {
                        "id": "7d78624dbc489f07"
                    },
                    {
                        "id": "f0aeb0277f95eebd"
                    },
                    {
                        "id": "6a12c49028cb62b2"
                    },
                    {
                        "id": "e8245e0ecd2f1f05"
                    }
                ]
            }
        ],
        "out": [],
        "env": [],
        "meta": {},
        "color": "#DDAA99"
    },
    {
        "id": "19c16b81a65ce03d",
        "type": "api-call-service",
        "z": "0f710598d50e0596",
        "name": "turn off media players",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "media_player",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.home_speaker",
            "media_player.lg_webos_smart_tv",
            "media_player.lise_s_kamer",
            "media_player.shield"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 220,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "7d78624dbc489f07",
        "type": "api-current-state",
        "z": "0f710598d50e0596",
        "name": "state input boolean tv is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.tv",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 240,
        "y": 340,
        "wires": [
            [
                "ed81a86bf1f06d72"
            ],
            []
        ]
    },
    {
        "id": "ed81a86bf1f06d72",
        "type": "api-call-service",
        "z": "0f710598d50e0596",
        "name": "turn off input boolean tv",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.tv"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 510,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "f0aeb0277f95eebd",
        "type": "api-current-state",
        "z": "0f710598d50e0596",
        "name": "state input boolean music is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.music",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 250,
        "y": 400,
        "wires": [
            [
                "7df266f8e004a08d"
            ],
            []
        ]
    },
    {
        "id": "7df266f8e004a08d",
        "type": "api-call-service",
        "z": "0f710598d50e0596",
        "name": "turn off input boolean music",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.music"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 520,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "f69679ab2ccbee4f",
        "type": "api-call-service",
        "z": "0f710598d50e0596",
        "name": "select radio uit",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.radio_station"
        ],
        "data": "{\"option\":\"Radio Uit\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 200,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "1f164f2207e30219",
        "type": "api-call-service",
        "z": "0f710598d50e0596",
        "name": "select spotify uit",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.spotify_playlist"
        ],
        "data": "{\"option\":\"Spotify Uit\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 200,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "6a12c49028cb62b2",
        "type": "api-call-service",
        "z": "0f710598d50e0596",
        "name": "turn off tv",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "webostv",
        "service": "command",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.lg_webos_smart_tv"
        ],
        "data": "{\"command\":\"system/turnOff\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 180,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "46e45a22c53e320a",
        "type": "api-call-service",
        "z": "0f710598d50e0596",
        "name": "turn off reciever",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "remote",
        "service": "send_command",
        "areaId": [
            "living_room"
        ],
        "deviceId": [
            "34a73fe47cda5c964dcb946e48f8a307"
        ],
        "entityId": [
            "remote.harmony_hub_01"
        ],
        "data": "{\"device\":\"53126254\",\"command\":\"PowerOff\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 200,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "01023f008e958a2c",
        "type": "comment",
        "z": "0f710598d50e0596",
        "name": "All actions when choose entertainment activity: Uitschakelen",
        "info": "",
        "x": 240,
        "y": 20,
        "wires": []
    },
    {
        "id": "e8245e0ecd2f1f05",
        "type": "api-call-service",
        "z": "0f710598d50e0596",
        "name": "stop bluesound powernode",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "media_player",
        "service": "media_stop",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.powernode_2i_ea48"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 240,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "ae0491bb.4f1eb",
        "type": "subflow",
        "name": "tv_screen_off_mode_on",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 100,
                "wires": [
                    {
                        "id": "8818e636f63e70c7"
                    },
                    {
                        "id": "9c8540912fe0314a"
                    },
                    {
                        "id": "4d611ca80c166571"
                    },
                    {
                        "id": "e324372da3a76b29"
                    }
                ]
            }
        ],
        "out": [],
        "env": [],
        "meta": {},
        "color": "#DDAA99"
    },
    {
        "id": "be65f0d63b84b58c",
        "type": "api-call-service",
        "z": "ae0491bb.4f1eb",
        "name": "turn on shield",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "media_player",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [
            "aa1a5fa6d13fc3224345d871874f8619"
        ],
        "entityId": [
            "media_player.shield"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 380,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "87a4edd77543d7f3",
        "type": "api-call-service",
        "z": "ae0491bb.4f1eb",
        "name": "turn on input boolean music",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.music"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 480,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "9c8540912fe0314a",
        "type": "api-current-state",
        "z": "ae0491bb.4f1eb",
        "name": "state input boolean tv off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.music",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 230,
        "y": 220,
        "wires": [
            [
                "87a4edd77543d7f3"
            ],
            []
        ]
    },
    {
        "id": "8818e636f63e70c7",
        "type": "api-current-state",
        "z": "ae0491bb.4f1eb",
        "name": "state shield off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.shield",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 200,
        "y": 160,
        "wires": [
            [
                "be65f0d63b84b58c"
            ],
            []
        ]
    },
    {
        "id": "4d611ca80c166571",
        "type": "api-call-service",
        "z": "ae0491bb.4f1eb",
        "name": "turn on receiver",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "remote",
        "service": "send_command",
        "areaId": [],
        "deviceId": [
            "34a73fe47cda5c964dcb946e48f8a307"
        ],
        "entityId": [
            "remote.harmony_hub_01"
        ],
        "data": "{\"device\":\"53126254\",\"command\":\"PowerOn\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 200,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "0cb67556a76c3eb6",
        "type": "api-call-service",
        "z": "ae0491bb.4f1eb",
        "name": "turn off screen",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "webostv",
        "service": "command",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.lg_webos_smart_tv"
        ],
        "data": "{\"command\":\"com.webos.service.tvpower/power/turnOffScreen\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 460,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "e324372da3a76b29",
        "type": "ha-wait-until",
        "z": "ae0491bb.4f1eb",
        "name": "wait until tv mediaplayer is on",
        "server": "4ba92433.2478cc",
        "version": 2,
        "outputs": 1,
        "entityId": "media_player.lg_webos_smart_tv",
        "entityIdFilterType": "exact",
        "property": "state",
        "comparator": "is",
        "value": "on",
        "valueType": "str",
        "timeout": "0",
        "timeoutType": "num",
        "timeoutUnits": "seconds",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "entityLocation": "data",
        "entityLocationType": "none",
        "x": 240,
        "y": 100,
        "wires": [
            [
                "0cb67556a76c3eb6"
            ]
        ]
    },
    {
        "id": "54d7a449b5482909",
        "type": "comment",
        "z": "ae0491bb.4f1eb",
        "name": "turn on tv and turn off screen for low energy usage",
        "info": "",
        "x": 210,
        "y": 40,
        "wires": []
    },
    {
        "id": "9ed9ce7ce8f74ca0",
        "type": "subflow",
        "name": "entertainment_activity_tv",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 60,
                "wires": [
                    {
                        "id": "cbffe613f7b4d2cd"
                    },
                    {
                        "id": "ab941695962a49ca"
                    },
                    {
                        "id": "71594be305815ee3"
                    },
                    {
                        "id": "2072915838e89250"
                    }
                ]
            }
        ],
        "out": [],
        "env": [],
        "meta": {},
        "color": "#DDAA99"
    },
    {
        "id": "cbffe613f7b4d2cd",
        "type": "api-current-state",
        "z": "9ed9ce7ce8f74ca0",
        "name": "state shield is not on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "media_player.shield",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 220,
        "y": 100,
        "wires": [
            [
                "210448aceed6c74e"
            ],
            []
        ]
    },
    {
        "id": "210448aceed6c74e",
        "type": "api-call-service",
        "z": "9ed9ce7ce8f74ca0",
        "name": "turn on shield",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "media_player",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [
            "aa1a5fa6d13fc3224345d871874f8619"
        ],
        "entityId": [
            "media_player.shield"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 460,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "e5c0ae3969af85fb",
        "type": "comment",
        "z": "9ed9ce7ce8f74ca0",
        "name": "turn on tv, shield mediaplayer and receiver",
        "info": "",
        "x": 180,
        "y": 40,
        "wires": []
    },
    {
        "id": "ab941695962a49ca",
        "type": "api-current-state",
        "z": "9ed9ce7ce8f74ca0",
        "name": "state input boolean tv is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.tv",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 240,
        "y": 140,
        "wires": [
            [
                "c5696bd905d5d0b2"
            ],
            []
        ]
    },
    {
        "id": "c5696bd905d5d0b2",
        "type": "api-call-service",
        "z": "9ed9ce7ce8f74ca0",
        "name": "turn on input boolean tv",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.tv"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 490,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "39676675d41d2349",
        "type": "api-call-service",
        "z": "9ed9ce7ce8f74ca0",
        "name": "turn on receiver",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "remote",
        "service": "send_command",
        "areaId": [],
        "deviceId": [
            "34a73fe47cda5c964dcb946e48f8a307"
        ],
        "entityId": [
            "remote.harmony_hub_01"
        ],
        "data": "{\"device\":\"53126254\",\"command\":\"PowerOn\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 200,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "71594be305815ee3",
        "type": "api-call-service",
        "z": "9ed9ce7ce8f74ca0",
        "name": "turn on screen",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "webostv",
        "service": "command",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.lg_webos_smart_tv"
        ],
        "data": "{\"command\":\"com.webos.service.tvpower/power/turnOnScreen\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 200,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "f03069dd7ff849fa",
        "type": "api-call-service",
        "z": "9ed9ce7ce8f74ca0",
        "name": "input select radio uit",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.radio_station"
        ],
        "data": "{\"option\":\"Radio Uit\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 220,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "2072915838e89250",
        "type": "api-call-service",
        "z": "9ed9ce7ce8f74ca0",
        "name": "select source optical input on bluesound powernode",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "media_player",
        "service": "select_source",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.powernode_2i_ea48"
        ],
        "data": "{\"source\":\"Optical Input 1\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 310,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "fd9cd80f14f860fe",
        "type": "tab",
        "label": "entertainment_activity",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "4ed88099e41abb6e",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "name": "tv and media entertaiment automations",
        "info": "",
        "x": 170,
        "y": 20,
        "wires": []
    },
    {
        "id": "017deb01f1ac5d06",
        "type": "server-state-changed",
        "z": "fd9cd80f14f860fe",
        "name": "state input select entertainment activity",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_select.entertainment_activity",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 170,
        "y": 100,
        "wires": [
            [
                "3a535b1014d0a45b"
            ]
        ]
    },
    {
        "id": "3a535b1014d0a45b",
        "type": "switch",
        "z": "fd9cd80f14f860fe",
        "name": "entertainment activity",
        "property": "data.new_state.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Uitschakelen",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "TV",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Radio",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Spotify",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 440,
        "y": 120,
        "wires": [
            [
                "096f54d8e83620b8"
            ],
            [
                "18165f435f394072"
            ],
            [
                "da2286d94f0884ba"
            ],
            []
        ]
    },
    {
        "id": "f1ffce13e75d6866",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "name": "frontend entertainment activity input select",
        "info": "",
        "x": 200,
        "y": 60,
        "wires": []
    },
    {
        "id": "952456911c2c70ae",
        "type": "switch",
        "z": "fd9cd80f14f860fe",
        "name": "App Name ",
        "property": "data.new_state.attributes.app_name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "NLZIET",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "Videoland",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "YouTube",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 410,
        "y": 380,
        "wires": [
            [
                "17b847758f17a48c"
            ],
            [
                "17b847758f17a48c"
            ],
            [
                "17b847758f17a48c"
            ]
        ]
    },
    {
        "id": "7ceb998163aa764b",
        "type": "server-state-changed",
        "z": "fd9cd80f14f860fe",
        "name": "state media player shield",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "media_player.shield",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "800",
        "forType": "num",
        "forUnits": "milliseconds",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 360,
        "wires": [
            [
                "952456911c2c70ae"
            ]
        ]
    },
    {
        "id": "f5f41857318bb062",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "name": "select entertainment activity TV",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.entertainment_activity"
        ],
        "data": "{\"option\":\"TV\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1070,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "17b847758f17a48c",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "input select media source livingroom tv",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Woonkamer TV",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.mediaplayer_destination",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_select.mediaplayer_destination",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 750,
        "y": 360,
        "wires": [
            [
                "f5f41857318bb062"
            ],
            []
        ]
    },
    {
        "id": "a7ae16757970717f",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "state person coen home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.coen",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 370,
        "y": 1080,
        "wires": [
            [
                "fdca445a404c15cc"
            ],
            []
        ]
    },
    {
        "id": "fdca445a404c15cc",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "state media player shield playing",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "playing",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.shield",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 650,
        "y": 1080,
        "wires": [
            [
                "f06607d23ea600e0",
                "7c90580485197cda"
            ],
            []
        ]
    },
    {
        "id": "34904c7210980bac",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "state person anne home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.anne",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 370,
        "y": 1140,
        "wires": [
            [
                "fdca445a404c15cc"
            ],
            []
        ]
    },
    {
        "id": "b9e865489ef34cee",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "name": "notify tv",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "lg_webos_smart_tv",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"{{{message}}}\",\"title\":\"Pauze\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1040,
        "y": 1120,
        "wires": [
            []
        ]
    },
    {
        "id": "7c90580485197cda",
        "type": "template",
        "z": "fd9cd80f14f860fe",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "TV gepauseerd i.v.m. telefoongesprek.",
        "output": "str",
        "x": 880,
        "y": 1140,
        "wires": [
            [
                "b9e865489ef34cee",
                "bf9aa0c71961791c"
            ]
        ]
    },
    {
        "id": "f06607d23ea600e0",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "name": "pause shield",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "media_player",
        "service": "media_pause",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.shield"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 890,
        "y": 1080,
        "wires": [
            []
        ]
    },
    {
        "id": "94ebde6817becd16",
        "type": "server-state-changed",
        "z": "fd9cd80f14f860fe",
        "name": "state phone coen offhook",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.phone_coen_phone_state",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "offhook",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 1080,
        "wires": [
            [
                "a7ae16757970717f"
            ],
            []
        ]
    },
    {
        "id": "578c617053355a5a",
        "type": "server-state-changed",
        "z": "fd9cd80f14f860fe",
        "name": "state phone anne offhook",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.phone_anne_phone_state_2",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "offhook",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 1140,
        "wires": [
            [
                "34904c7210980bac"
            ],
            []
        ]
    },
    {
        "id": "bf5ba3943578c959",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "name": "pause when phone is off hook",
        "info": "",
        "x": 160,
        "y": 1040,
        "wires": []
    },
    {
        "id": "bf9aa0c71961791c",
        "type": "link out",
        "z": "fd9cd80f14f860fe",
        "name": "",
        "links": [
            "ebf4860d.603538"
        ],
        "x": 995,
        "y": 1180,
        "wires": []
    },
    {
        "id": "494e70afb45368b6",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "name": "select entertainment activity based on nvidia shield content",
        "info": "",
        "x": 250,
        "y": 320,
        "wires": []
    },
    {
        "id": "da2286d94f0884ba",
        "type": "api-call-service",
        "z": "fd9cd80f14f860fe",
        "name": "play last played radio station from flow variable",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "media_player",
        "service": "select_source",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.powernode_2i_ea48"
        ],
        "data": "{\"source\":\"{{flow.last_played_radio_station}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 780,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "18165f435f394072",
        "type": "subflow:9ed9ce7ce8f74ca0",
        "z": "fd9cd80f14f860fe",
        "name": "",
        "x": 710,
        "y": 140,
        "wires": []
    },
    {
        "id": "2d9ffdbb9586b3f8",
        "type": "subflow:ae0491bb.4f1eb",
        "z": "fd9cd80f14f860fe",
        "name": "",
        "x": 710,
        "y": 180,
        "wires": []
    },
    {
        "id": "096f54d8e83620b8",
        "type": "subflow:0f710598d50e0596",
        "z": "fd9cd80f14f860fe",
        "name": "",
        "x": 740,
        "y": 100,
        "wires": []
    },
    {
        "id": "cb432a1862c0afc3",
        "type": "comment",
        "z": "fd9cd80f14f860fe",
        "name": "save played radio station into flow variable",
        "info": "",
        "x": 200,
        "y": 460,
        "wires": []
    },
    {
        "id": "dde533dbc0010c4b",
        "type": "server-state-changed",
        "z": "fd9cd80f14f860fe",
        "name": "powernode is playing",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "media_player.powernode_2i_ea48",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "playing",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "seconds",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 500,
        "wires": [
            [
                "46ed114b09503dc2"
            ],
            []
        ]
    },
    {
        "id": "46ed114b09503dc2",
        "type": "api-current-state",
        "z": "fd9cd80f14f860fe",
        "name": "input select entertainment activity is Radio",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Radio",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.entertainment_activity",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "input_select.mediaplayer_destination",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 400,
        "y": 500,
        "wires": [
            [
                "242e195c9af6a8db"
            ],
            []
        ]
    },
    {
        "id": "242e195c9af6a8db",
        "type": "change",
        "z": "fd9cd80f14f860fe",
        "name": "set radio station to flow variable",
        "rules": [
            {
                "t": "set",
                "p": "last_played_radio_station",
                "pt": "flow",
                "to": "data.new_state.attributes.source",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "4ba92433.2478cc",
        "type": "server",
        "name": "Home Assistant",
        "version": 5,
        "addon": false,
        "rejectUnauthorizedCerts": false,
        "ha_boolean": "y|yes|true|on|home|open",
        "connectionDelay": true,
        "cacheJson": true,
        "heartbeat": true,
        "heartbeatInterval": "30",
        "areaSelector": "id",
        "deviceSelector": "id",
        "entitySelector": "id",
        "statusSeparator": "at: ",
        "statusYear": "hidden",
        "statusMonth": "short",
        "statusDay": "numeric",
        "statusHourCycle": "h23",
        "statusTimeFormat": "h:m",
        "enableGlobalContextStore": true
    }
]