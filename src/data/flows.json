[
    {
        "id": "8aa6edec.5a013",
        "type": "tab",
        "label": "away_desired_state",
        "disabled": false,
        "info": ""
    },
    {
        "id": "df5d8f386b74d541",
        "type": "tab",
        "label": "sleep",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "c0da8379.b0dd3",
        "type": "tab",
        "label": "present_dark",
        "disabled": false,
        "info": ""
    },
    {
        "id": "4e909abe.0b62e4",
        "type": "tab",
        "label": "basement_ventilation",
        "disabled": false,
        "info": ""
    },
    {
        "id": "b1a9214c.4c71c",
        "type": "tab",
        "label": "basement_window",
        "disabled": false,
        "info": ""
    },
    {
        "id": "2751da37.549936",
        "type": "tab",
        "label": "calendar_events_babysitting",
        "disabled": false,
        "info": ""
    },
    {
        "id": "9605dd85.f395a",
        "type": "tab",
        "label": "calendar_events_development",
        "disabled": true,
        "info": ""
    },
    {
        "id": "46d98b35c2eee05b",
        "type": "tab",
        "label": "custom_energy_sensor",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "ccde11d9.8710d",
        "type": "tab",
        "label": "camera_snapshots",
        "disabled": true,
        "info": ""
    },
    {
        "id": "2437e768.8e34d8",
        "type": "tab",
        "label": "dishwasher",
        "disabled": false,
        "info": ""
    },
    {
        "id": "3637eeb0.d96232",
        "type": "tab",
        "label": "doorbell",
        "disabled": false,
        "info": ""
    },
    {
        "id": "a5c3a1afe9d96a84",
        "type": "tab",
        "label": "entertainment",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "4dd07a1d.6e53e4",
        "type": "tab",
        "label": "weather_station",
        "disabled": false,
        "info": ""
    },
    {
        "id": "f180ab88.925788",
        "type": "tab",
        "label": "shelly_i3",
        "disabled": false,
        "info": ""
    },
    {
        "id": "55da1471.fda0fc",
        "type": "tab",
        "label": "vacuum_cleaner",
        "disabled": false,
        "info": ""
    },
    {
        "id": "72ef82b8.9d086c",
        "type": "tab",
        "label": "thumble_dryer",
        "disabled": false,
        "info": ""
    },
    {
        "id": "c23003c7.1c978",
        "type": "tab",
        "label": "washing_machine",
        "disabled": false,
        "info": ""
    },
    {
        "id": "b13ca13c.9328e",
        "type": "tab",
        "label": "security_home",
        "disabled": false,
        "info": ""
    },
    {
        "id": "98a989e.d6bca78",
        "type": "tab",
        "label": "notification_gas_consumption",
        "disabled": false,
        "info": ""
    },
    {
        "id": "d5421f8d.f7208",
        "type": "tab",
        "label": "notification_outdoor_temperature",
        "disabled": false,
        "info": ""
    },
    {
        "id": "60541649.7e2a38",
        "type": "tab",
        "label": "notification_update_home_assistant",
        "disabled": false,
        "info": ""
    },
    {
        "id": "5a8d7bb1.6263b4",
        "type": "tab",
        "label": "notification_update_hacs",
        "disabled": false,
        "info": ""
    },
    {
        "id": "cde79c08.e4f488",
        "type": "tab",
        "label": "smoke_co_alarm",
        "disabled": false,
        "info": ""
    },
    {
        "id": "6135b991.c53398",
        "type": "tab",
        "label": "notification_pfsense",
        "disabled": false,
        "info": ""
    },
    {
        "id": "fa4b9474.ba9d68",
        "type": "tab",
        "label": "notification_dashboard_messages",
        "disabled": false,
        "info": ""
    },
    {
        "id": "61bef8ab2a5befa2",
        "type": "tab",
        "label": "Flow 1",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "79544bf2.1ff3a4",
        "type": "subflow",
        "name": "off_mode",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 100,
                "wires": [
                    {
                        "id": "3b9a1fc1.aafd9"
                    },
                    {
                        "id": "f9028094.57a62"
                    },
                    {
                        "id": "e0b2428a.a371b"
                    },
                    {
                        "id": "1cacf9f.2645206"
                    },
                    {
                        "id": "83808dcd.70439"
                    },
                    {
                        "id": "5644cdae.e32cc4"
                    },
                    {
                        "id": "8f9f8583.d61818"
                    },
                    {
                        "id": "70042c68d7934e2a"
                    },
                    {
                        "id": "107f8f280b2777b5"
                    }
                ]
            }
        ],
        "out": [],
        "env": [],
        "meta": {},
        "color": "#DDAA99"
    },
    {
        "id": "ae0491bb.4f1eb",
        "type": "subflow",
        "name": "lg tv screen off",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 80,
                "wires": [
                    {
                        "id": "27d24c41.6784e4"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1380,
                "y": 380,
                "wires": [
                    {
                        "id": "c1223607.623888",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#DDAA99"
    },
    {
        "id": "ae97b8c4.cadf68",
        "type": "subflow",
        "name": "mechanical ventilation position 0",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 80,
                "wires": [
                    {
                        "id": "6ee42911.2e8038"
                    },
                    {
                        "id": "88d9501e.62d3f"
                    },
                    {
                        "id": "dc46b98b.357d48"
                    },
                    {
                        "id": "503f2e1f.52099"
                    },
                    {
                        "id": "548afe85.bb99b"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 540,
                "y": 320,
                "wires": [
                    {
                        "id": "a25d7a80.b14218",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#DDAA99"
    },
    {
        "id": "db575387.da1ff",
        "type": "subflow",
        "name": "mechanical ventilation position 1",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 80,
                "wires": [
                    {
                        "id": "7d39d435.8e108c"
                    },
                    {
                        "id": "22d68758.286778"
                    },
                    {
                        "id": "f9710a73.bad7a8"
                    },
                    {
                        "id": "9ecd488b.368338"
                    },
                    {
                        "id": "8b040be5.93ed48"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 540,
                "y": 320,
                "wires": [
                    {
                        "id": "8668dce7.57953",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#DDAA99"
    },
    {
        "id": "279f5735.2f95d8",
        "type": "subflow",
        "name": "mechanical ventilation position 2",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 80,
                "wires": [
                    {
                        "id": "8a9d5b61.87e578"
                    },
                    {
                        "id": "87d1779f.504ce8"
                    },
                    {
                        "id": "f2672c4e.79f33"
                    },
                    {
                        "id": "c8732b7b.c22168"
                    },
                    {
                        "id": "208c6617.a5188a"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 540,
                "y": 320,
                "wires": [
                    {
                        "id": "181e942.589516c",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#DDAA99"
    },
    {
        "id": "7d5d30e3.483af",
        "type": "subflow",
        "name": "mechanical ventilation position 3",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 80,
                "wires": [
                    {
                        "id": "54b5ba76.827954"
                    },
                    {
                        "id": "ff1ccbdb.9906b8"
                    },
                    {
                        "id": "76af25f8.0585fc"
                    },
                    {
                        "id": "18f13f23.6c3a51"
                    },
                    {
                        "id": "30d47f9.e06228"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 540,
                "y": 320,
                "wires": [
                    {
                        "id": "16dea36a.4cb2cd",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#DDAA99"
    },
    {
        "id": "67a1c55d.b4b94c",
        "type": "subflow",
        "name": "christmas_tree_lights_on",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 100,
                "wires": [
                    {
                        "id": "acbe7857.d6ebf8"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 620,
                "y": 100,
                "wires": [
                    {
                        "id": "ee31ef8.f2bc11",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#DDAA99"
    },
    {
        "id": "99804b5f.9adb6",
        "type": "subflow",
        "name": "alarm lights",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 100,
                "wires": [
                    {
                        "id": "fd745c51.01fc5"
                    }
                ]
            }
        ],
        "out": [],
        "env": [],
        "color": "#DDAA99"
    },
    {
        "id": "0f710598d50e0596",
        "type": "subflow",
        "name": "turn_off_tv",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 40,
                "wires": [
                    {
                        "id": "6fd09e62187c11c3"
                    },
                    {
                        "id": "8e175d7684e5c54b"
                    },
                    {
                        "id": "19c16b81a65ce03d"
                    },
                    {
                        "id": "7d78624dbc489f07"
                    },
                    {
                        "id": "f0aeb0277f95eebd"
                    },
                    {
                        "id": "f69679ab2ccbee4f"
                    },
                    {
                        "id": "1f164f2207e30219"
                    }
                ]
            }
        ],
        "out": [],
        "env": [],
        "meta": {},
        "color": "#DDAA99"
    },
    {
        "id": "a0c733b89be2ea24",
        "type": "subflow",
        "name": "turn_on_tv",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 40,
                "wires": [
                    {
                        "id": "338d1d653883e09c"
                    },
                    {
                        "id": "9d6de1e8ac88dd57"
                    },
                    {
                        "id": "afac95cd3be3c75a"
                    }
                ]
            }
        ],
        "out": [],
        "env": [],
        "meta": {},
        "color": "#DDAA99"
    },
    {
        "id": "b1ddcd26d280c47d",
        "type": "subflow",
        "name": "turn_on_tv-screen-off",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 40,
                "wires": [
                    {
                        "id": "e87e52d59f0caacc"
                    }
                ]
            }
        ],
        "out": [],
        "env": [],
        "meta": {},
        "color": "#DDAA99"
    },
    {
        "id": "b93cc1561f32248d",
        "type": "subflow",
        "name": "temp_frontyard_powersocket_off",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 100,
                "wires": [
                    {
                        "id": "441696546b08b299"
                    }
                ]
            }
        ],
        "out": [],
        "env": [],
        "meta": {},
        "color": "#DDAA99"
    },
    {
        "id": "d7eb731ec2383a42",
        "type": "subflow",
        "name": "temp_frontyard_powersocket_on",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 100,
                "wires": [
                    {
                        "id": "4b6b1e831da55dcd"
                    }
                ]
            }
        ],
        "out": [],
        "env": [],
        "meta": {},
        "color": "#DDAA99"
    },
    {
        "id": "83da19b4eed2ddcd",
        "type": "junction",
        "z": "df5d8f386b74d541",
        "x": 620,
        "y": 120,
        "wires": [
            [
                "dc31aee5.5b1f3"
            ]
        ]
    },
    {
        "id": "fd0992d579e52c73",
        "type": "junction",
        "z": "8aa6edec.5a013",
        "x": 300,
        "y": 220,
        "wires": [
            [
                "fc85d1e2.ac029"
            ]
        ]
    },
    {
        "id": "76fc5cd8933d341b",
        "type": "junction",
        "z": "8aa6edec.5a013",
        "x": 680,
        "y": 180,
        "wires": [
            [
                "8afb3387.bc64f"
            ]
        ]
    },
    {
        "id": "4ba92433.2478cc",
        "type": "server",
        "name": "Home Assistant",
        "version": 5,
        "addon": false,
        "rejectUnauthorizedCerts": false,
        "ha_boolean": "y|yes|true|on|home|open",
        "connectionDelay": true,
        "cacheJson": true,
        "heartbeat": true,
        "heartbeatInterval": "30",
        "areaSelector": "friendlyName",
        "deviceSelector": "friendlyName",
        "entitySelector": "friendlyName",
        "statusSeparator": "at: ",
        "statusYear": "hidden",
        "statusMonth": "short",
        "statusDay": "numeric",
        "statusHourCycle": "h23",
        "statusTimeFormat": "h:m",
        "enableGlobalContextStore": true
    },
    {
        "id": "24b246c8.4c72fa",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "sensor config for Message Ventilatie",
        "version": 6,
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "message_mechanical_ventilation"
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "icon",
                "value": "mdi:message-text-clock"
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            },
            {
                "property": "last_reset",
                "value": ""
            }
        ],
        "resend": true
    },
    {
        "id": "7befa0b16196877c",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "sensor config for custom_energy",
        "version": 6,
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "custom_energy"
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": "Kw"
            },
            {
                "property": "state_class",
                "value": ""
            },
            {
                "property": "last_reset",
                "value": ""
            }
        ],
        "resend": true
    },
    {
        "id": "7ebeacd9.171704",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "binary sensor config for sensor dishwasher",
        "version": 6,
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "dishwasher"
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "icon",
                "value": "mdi:dishwasher"
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            },
            {
                "property": "last_reset",
                "value": ""
            }
        ],
        "resend": true
    },
    {
        "id": "b9f1299c.62c1b8",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "sensor config for b9f1299c.62c1b8",
        "version": 6,
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "rang_at"
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            },
            {
                "property": "last_reset",
                "value": ""
            }
        ],
        "resend": true
    },
    {
        "id": "5051592a.7844e8",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "sensor config for state outdoor light dark",
        "version": 6,
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "outdoor_light_dark"
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            },
            {
                "property": "last_reset",
                "value": ""
            }
        ],
        "resend": true
    },
    {
        "id": "891dab0e.0a8b18",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "binary sensor config for sensor tumble dryer",
        "version": 6,
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "tumble_dryer"
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "icon",
                "value": "mdi:tumble-dryer"
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            },
            {
                "property": "last_reset",
                "value": ""
            }
        ],
        "resend": true
    },
    {
        "id": "bdbe52c.932a5b",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "binary sensor config for sensor washing machine",
        "version": 6,
        "entityType": "binary_sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "washing_machine"
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "icon",
                "value": "mdi:washing-machine"
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            },
            {
                "property": "last_reset",
                "value": ""
            }
        ],
        "resend": true
    },
    {
        "id": "82e8bc89.afd6f",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "sensor config for time-and-message -> sensor message_home_page_1",
        "version": 6,
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "message_home_page_1"
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "icon",
                "value": "mdi:message-text-clock"
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            },
            {
                "property": "last_reset",
                "value": ""
            }
        ],
        "resend": false
    },
    {
        "id": "11bdffba.e4da8",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "sensor config for put sensor message_home_page_1 -> 2",
        "version": 6,
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "message_home_page_2"
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "icon",
                "value": "mdi:message-text-clock"
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            },
            {
                "property": "last_reset",
                "value": ""
            }
        ],
        "resend": true
    },
    {
        "id": "d5f7b717.f22508",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "sensor config for put sensor message_home_page_2 -> 3",
        "version": 6,
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "message_home_page_3"
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "icon",
                "value": "mdi:message-text-clock"
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            },
            {
                "property": "last_reset",
                "value": ""
            }
        ],
        "resend": true
    },
    {
        "id": "14fad9e1.42e016",
        "type": "ha-entity-config",
        "server": "4ba92433.2478cc",
        "deviceConfig": "",
        "name": "sensor config for put sensor message_home_page_3 -> 4",
        "version": 6,
        "entityType": "sensor",
        "haConfig": [
            {
                "property": "name",
                "value": "message_home_page_4"
            },
            {
                "property": "device_class",
                "value": ""
            },
            {
                "property": "icon",
                "value": "mdi:message-text-clock"
            },
            {
                "property": "unit_of_measurement",
                "value": ""
            },
            {
                "property": "state_class",
                "value": ""
            },
            {
                "property": "last_reset",
                "value": ""
            }
        ],
        "resend": true
    },
    {
        "id": "3b9a1fc1.aafd9",
        "type": "api-call-service",
        "z": "79544bf2.1ff3a4",
        "name": "input select harmonyhub alles uit",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.harmonyhub"
        ],
        "data": "{\"option\":\"Alles Uit\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 260,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "f9028094.57a62",
        "type": "ha-get-entities",
        "z": "79544bf2.1ff3a4",
        "name": "lookup climate is not auto",
        "server": "4ba92433.2478cc",
        "version": 0,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "climate.",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is_not",
                "value": "auto",
                "valueType": "str"
            }
        ],
        "output_type": "split",
        "output_empty_results": false,
        "output_location_type": "msg",
        "output_location": "payload",
        "output_results_count": 1,
        "x": 230,
        "y": 380,
        "wires": [
            [
                "397bbd3d.0bb3f2"
            ]
        ]
    },
    {
        "id": "397bbd3d.0bb3f2",
        "type": "api-call-service",
        "z": "79544bf2.1ff3a4",
        "name": "turn on climate auto mode",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "climate",
        "service": "set_hvac_mode",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "data": "{\"hvac_mode\":\"auto\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 570,
        "y": 380,
        "wires": [
            [
                "477c8f0e.c4289"
            ]
        ]
    },
    {
        "id": "477c8f0e.c4289",
        "type": "join",
        "z": "79544bf2.1ff3a4",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "payload.attributes.friendly_name",
        "propertyType": "msg",
        "key": "topic",
        "joiner": ", ",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 970,
        "y": 380,
        "wires": [
            [
                "b85d118c.fbdc4"
            ]
        ]
    },
    {
        "id": "b85d118c.fbdc4",
        "type": "template",
        "z": "79544bf2.1ff3a4",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De verwarming in {{payload.attributes.friendly_name}} is van handmatige naar automatische stand geschakeld.",
        "output": "str",
        "x": 1100,
        "y": 380,
        "wires": [
            [
                "ad7f00b7b2b0e671"
            ]
        ]
    },
    {
        "id": "e0b2428a.a371b",
        "type": "ha-get-entities",
        "z": "79544bf2.1ff3a4",
        "name": "lookup lights on",
        "server": "4ba92433.2478cc",
        "version": 0,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            }
        ],
        "output_type": "split",
        "output_empty_results": false,
        "output_location_type": "msg",
        "output_location": "payload",
        "output_results_count": 1,
        "x": 200,
        "y": 440,
        "wires": [
            [
                "9eb23897.6d9b38"
            ]
        ]
    },
    {
        "id": "9eb23897.6d9b38",
        "type": "api-call-service",
        "z": "79544bf2.1ff3a4",
        "name": "turn off lights",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 530,
        "y": 440,
        "wires": [
            [
                "fda4eae176ed738e"
            ]
        ]
    },
    {
        "id": "1cacf9f.2645206",
        "type": "ha-get-entities",
        "z": "79544bf2.1ff3a4",
        "name": "lookup media players is not off",
        "server": "4ba92433.2478cc",
        "version": 0,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "media_player",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is_not",
                "value": "off",
                "valueType": "str"
            }
        ],
        "output_type": "split",
        "output_empty_results": false,
        "output_location_type": "msg",
        "output_location": "payload",
        "output_results_count": 1,
        "x": 250,
        "y": 500,
        "wires": [
            [
                "73dcb69e.8515b8"
            ]
        ]
    },
    {
        "id": "73dcb69e.8515b8",
        "type": "api-call-service",
        "z": "79544bf2.1ff3a4",
        "name": "turn off media players",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "media_player",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 560,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "83808dcd.70439",
        "type": "api-call-service",
        "z": "79544bf2.1ff3a4",
        "name": "turn off water heater",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "water_heater",
        "service": "set_operation_mode",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "water_heater.warm_water"
        ],
        "data": "{\"operation_mode\":\"off\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 220,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "c57acb4f.9d1808",
        "type": "comment",
        "z": "79544bf2.1ff3a4",
        "name": "off mode actions",
        "info": "",
        "x": 100,
        "y": 40,
        "wires": []
    },
    {
        "id": "5644cdae.e32cc4",
        "type": "api-call-service",
        "z": "79544bf2.1ff3a4",
        "name": "turn off childlock kitchen",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.childlock_kitchen_switch"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 230,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "8f9f8583.d61818",
        "type": "api-call-service",
        "z": "79544bf2.1ff3a4",
        "name": "input select spotify playlist spotify uit",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.spotify_playlist"
        ],
        "data": "{\"option\":\"Spotify Uit\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 270,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "a680c17548559ce2",
        "type": "link out",
        "z": "79544bf2.1ff3a4",
        "name": "",
        "links": [],
        "x": 1375,
        "y": 400,
        "wires": []
    },
    {
        "id": "ad7f00b7b2b0e671",
        "type": "api-call-service",
        "z": "79544bf2.1ff3a4",
        "name": "In APP Notify",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "persistent_notification",
        "service": "create",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"{{message}}\",\"title\":\"Verwarming\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1250,
        "y": 380,
        "wires": [
            [
                "a680c17548559ce2"
            ]
        ]
    },
    {
        "id": "fda4eae176ed738e",
        "type": "template",
        "z": "79544bf2.1ff3a4",
        "name": "format friendly name",
        "field": "friendly_name",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{payload.attributes.friendly_name}}",
        "output": "str",
        "x": 800,
        "y": 440,
        "wires": [
            [
                "58d0a2479b16b408"
            ]
        ]
    },
    {
        "id": "58d0a2479b16b408",
        "type": "join",
        "z": "79544bf2.1ff3a4",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "friendly_name",
        "propertyType": "msg",
        "key": "topic",
        "joiner": ", ",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 970,
        "y": 440,
        "wires": [
            [
                "89625810ae98a2fc"
            ]
        ]
    },
    {
        "id": "89625810ae98a2fc",
        "type": "template",
        "z": "79544bf2.1ff3a4",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Niemand is aanwezig. {{{friendly_name}}} verlichting stond nog aan en is nu automatisch uitgeschakeld.",
        "output": "str",
        "x": 1100,
        "y": 440,
        "wires": [
            [
                "a8dadd67cf109c6d"
            ]
        ]
    },
    {
        "id": "a8dadd67cf109c6d",
        "type": "api-call-service",
        "z": "79544bf2.1ff3a4",
        "name": "In APP Notify",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "persistent_notification",
        "service": "create",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"{{message}}\",\"title\":\"Verlichting\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1250,
        "y": 440,
        "wires": [
            [
                "a680c17548559ce2"
            ]
        ]
    },
    {
        "id": "70042c68d7934e2a",
        "type": "subflow:b93cc1561f32248d",
        "z": "79544bf2.1ff3a4",
        "name": "",
        "x": 260,
        "y": 100,
        "wires": []
    },
    {
        "id": "107f8f280b2777b5",
        "type": "api-current-state",
        "z": "79544bf2.1ff3a4",
        "name": "reciever power > 1",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "1",
        "halt_if_type": "num",
        "halt_if_compare": "gt",
        "entity_id": "sensor.shellyplug_reciever_power",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 210,
        "y": 560,
        "wires": [
            [
                "52bea4fa61492a55"
            ],
            []
        ]
    },
    {
        "id": "52bea4fa61492a55",
        "type": "api-call-service",
        "z": "79544bf2.1ff3a4",
        "name": "send off command to reciever",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "remote",
        "service": "send_command",
        "areaId": [
            "living_room"
        ],
        "deviceId": [
            "34a73fe47cda5c964dcb946e48f8a307"
        ],
        "entityId": [
            "remote.harmony_hub_01"
        ],
        "data": "{\"device\":\"53126254\",\"command\":\"PowerOff\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 590,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "27d24c41.6784e4",
        "type": "api-call-service",
        "z": "ae0491bb.4f1eb",
        "name": "settings",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "remote",
        "service": "send_command",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"entity_id\":\"remote.harmony_hub_1\",\"command\":\"Settings\",\"device\":\"53126253\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 140,
        "y": 80,
        "wires": [
            [
                "bd4a65f1.2f10b8"
            ]
        ]
    },
    {
        "id": "bd4a65f1.2f10b8",
        "type": "delay",
        "z": "ae0491bb.4f1eb",
        "name": "",
        "pauseType": "delay",
        "timeout": "4",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 280,
        "y": 80,
        "wires": [
            [
                "c8a0bb04.4a9f38"
            ]
        ]
    },
    {
        "id": "c8a0bb04.4a9f38",
        "type": "api-call-service",
        "z": "ae0491bb.4f1eb",
        "name": "direction up",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "remote",
        "service": "send_command",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"entity_id\":\"remote.harmony_hub_1\",\"command\":\"DirectionUp\",\"device\":\"53126253\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 430,
        "y": 40,
        "wires": [
            [
                "2959c718.54e398"
            ]
        ]
    },
    {
        "id": "2959c718.54e398",
        "type": "api-call-service",
        "z": "ae0491bb.4f1eb",
        "name": "ok",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "remote",
        "service": "send_command",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"entity_id\":\"remote.harmony_hub_1\",\"command\":\"OK\",\"device\":\"53126253\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 570,
        "y": 40,
        "wires": [
            [
                "802f5285.e58e9"
            ]
        ]
    },
    {
        "id": "802f5285.e58e9",
        "type": "delay",
        "z": "ae0491bb.4f1eb",
        "name": "",
        "pauseType": "delay",
        "timeout": "4",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 700,
        "y": 40,
        "wires": [
            [
                "eb43c55d.638068"
            ]
        ]
    },
    {
        "id": "eb43c55d.638068",
        "type": "api-call-service",
        "z": "ae0491bb.4f1eb",
        "name": "direction right",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "remote",
        "service": "send_command",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"entity_id\":\"remote.harmony_hub_1\",\"command\":\"DirectionRight\",\"device\":\"53126253\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 860,
        "y": 40,
        "wires": [
            [
                "96014a75.b34268"
            ]
        ]
    },
    {
        "id": "96014a75.b34268",
        "type": "api-call-service",
        "z": "ae0491bb.4f1eb",
        "name": "direction down",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "remote",
        "service": "send_command",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"entity_id\":\"remote.harmony_hub_1\",\"command\":\"DirectionDown\",\"device\":\"53126253\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 860,
        "y": 80,
        "wires": [
            [
                "6b3a8704.250e08"
            ]
        ]
    },
    {
        "id": "6b3a8704.250e08",
        "type": "api-call-service",
        "z": "ae0491bb.4f1eb",
        "name": "direction down",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "remote",
        "service": "send_command",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"entity_id\":\"remote.harmony_hub_1\",\"command\":\"DirectionDown\",\"device\":\"53126253\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 860,
        "y": 120,
        "wires": [
            [
                "1e9c39aa.2122b6"
            ]
        ]
    },
    {
        "id": "1e9c39aa.2122b6",
        "type": "api-call-service",
        "z": "ae0491bb.4f1eb",
        "name": "ok",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "remote",
        "service": "send_command",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"entity_id\":\"remote.harmony_hub_1\",\"command\":\"OK\",\"device\":\"53126253\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1010,
        "y": 120,
        "wires": [
            [
                "806c67ec.155ab8"
            ]
        ]
    },
    {
        "id": "806c67ec.155ab8",
        "type": "delay",
        "z": "ae0491bb.4f1eb",
        "name": "",
        "pauseType": "delay",
        "timeout": "4",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1140,
        "y": 120,
        "wires": [
            [
                "6f77a077.2b592"
            ]
        ]
    },
    {
        "id": "6f77a077.2b592",
        "type": "api-call-service",
        "z": "ae0491bb.4f1eb",
        "name": "direction down",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "remote",
        "service": "send_command",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"entity_id\":\"remote.harmony_hub_1\",\"command\":\"DirectionDown\",\"device\":\"53126253\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1160,
        "y": 180,
        "wires": [
            [
                "8ad1f200.2c8b8"
            ]
        ]
    },
    {
        "id": "8ad1f200.2c8b8",
        "type": "api-call-service",
        "z": "ae0491bb.4f1eb",
        "name": "direction down",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "remote",
        "service": "send_command",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"entity_id\":\"remote.harmony_hub_1\",\"command\":\"DirectionDown\",\"device\":\"53126253\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1160,
        "y": 220,
        "wires": [
            [
                "9ab1aa55.96da68"
            ]
        ]
    },
    {
        "id": "9ab1aa55.96da68",
        "type": "api-call-service",
        "z": "ae0491bb.4f1eb",
        "name": "direction down",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "remote",
        "service": "send_command",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"entity_id\":\"remote.harmony_hub_1\",\"command\":\"DirectionDown\",\"device\":\"53126253\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1160,
        "y": 260,
        "wires": [
            [
                "a23d5005.46a28"
            ]
        ]
    },
    {
        "id": "a23d5005.46a28",
        "type": "api-call-service",
        "z": "ae0491bb.4f1eb",
        "name": "direction down",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "remote",
        "service": "send_command",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"entity_id\":\"remote.harmony_hub_1\",\"command\":\"DirectionDown\",\"device\":\"53126253\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1160,
        "y": 300,
        "wires": [
            [
                "3241ea16.67d666"
            ]
        ]
    },
    {
        "id": "3241ea16.67d666",
        "type": "api-call-service",
        "z": "ae0491bb.4f1eb",
        "name": "direction down",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "remote",
        "service": "send_command",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"entity_id\":\"remote.harmony_hub_1\",\"command\":\"DirectionDown\",\"device\":\"53126253\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1160,
        "y": 340,
        "wires": [
            [
                "c1223607.623888"
            ]
        ]
    },
    {
        "id": "c1223607.623888",
        "type": "api-call-service",
        "z": "ae0491bb.4f1eb",
        "name": "ok",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "remote",
        "service": "send_command",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"entity_id\":\"remote.harmony_hub_1\",\"command\":\"OK\",\"device\":\"53126253\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1130,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "a25d7a80.b14218",
        "type": "api-call-service",
        "z": "ae97b8c4.cadf68",
        "name": "turn off basement ventilation sw 01",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_01"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 320,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "b45f9d71.76535",
        "type": "api-call-service",
        "z": "ae97b8c4.cadf68",
        "name": "turn off basement ventilation sw 03",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_03"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 320,
        "y": 280,
        "wires": [
            [
                "173bc2da.660c4d"
            ]
        ]
    },
    {
        "id": "548afe85.bb99b",
        "type": "api-call-service",
        "z": "ae97b8c4.cadf68",
        "name": "turn off basement ventilation sw 04",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_04"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 320,
        "y": 240,
        "wires": [
            [
                "2f0fa5a0.865c7a"
            ]
        ]
    },
    {
        "id": "2f0fa5a0.865c7a",
        "type": "delay",
        "z": "ae97b8c4.cadf68",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 280,
        "wires": [
            [
                "b45f9d71.76535"
            ]
        ]
    },
    {
        "id": "173bc2da.660c4d",
        "type": "delay",
        "z": "ae97b8c4.cadf68",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 320,
        "wires": [
            [
                "a25d7a80.b14218"
            ]
        ]
    },
    {
        "id": "91170752.b5e108",
        "type": "api-call-service",
        "z": "ae97b8c4.cadf68",
        "name": "turn on mechanical ventilation position 0",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_0"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 680,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "88d9501e.62d3f",
        "type": "api-call-service",
        "z": "ae97b8c4.cadf68",
        "name": "turn off mechanical ventilation position 3",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_3"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 340,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "dc46b98b.357d48",
        "type": "api-call-service",
        "z": "ae97b8c4.cadf68",
        "name": "turn off mechanical ventilation position 2",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_2"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 340,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "503f2e1f.52099",
        "type": "api-call-service",
        "z": "ae97b8c4.cadf68",
        "name": "turn off mechanical ventilation position 1",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_1"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 340,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "6ee42911.2e8038",
        "type": "api-current-state",
        "z": "ae97b8c4.cadf68",
        "name": "state mechanical ventilation position 0 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 340,
        "y": 80,
        "wires": [
            [
                "91170752.b5e108"
            ],
            []
        ]
    },
    {
        "id": "79cbb9f5.420d88",
        "type": "comment",
        "z": "ae97b8c4.cadf68",
        "name": "TURN ON MECHANICAL VENTILATION POSITION 0 (OFF)",
        "info": "",
        "x": 260,
        "y": 20,
        "wires": []
    },
    {
        "id": "8668dce7.57953",
        "type": "api-call-service",
        "z": "db575387.da1ff",
        "name": "turn on basement ventilation sw 01",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_01"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 320,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "ffe39356.ffeb1",
        "type": "api-call-service",
        "z": "db575387.da1ff",
        "name": "turn off basement ventilation sw 03",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_03"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 320,
        "y": 280,
        "wires": [
            [
                "6b0e95f7.36172c"
            ]
        ]
    },
    {
        "id": "8b040be5.93ed48",
        "type": "api-call-service",
        "z": "db575387.da1ff",
        "name": "turn off basement ventilation sw 04",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_04"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 320,
        "y": 240,
        "wires": [
            [
                "1b5a44e0.60722b"
            ]
        ]
    },
    {
        "id": "1b5a44e0.60722b",
        "type": "delay",
        "z": "db575387.da1ff",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 280,
        "wires": [
            [
                "ffe39356.ffeb1"
            ]
        ]
    },
    {
        "id": "6b0e95f7.36172c",
        "type": "delay",
        "z": "db575387.da1ff",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 320,
        "wires": [
            [
                "8668dce7.57953"
            ]
        ]
    },
    {
        "id": "e27dc924.6fc2a8",
        "type": "api-call-service",
        "z": "db575387.da1ff",
        "name": "turn on mechanical ventilation position 1",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_1"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 680,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "22d68758.286778",
        "type": "api-call-service",
        "z": "db575387.da1ff",
        "name": "turn off mechanical ventilation position 2",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_2"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 340,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "f9710a73.bad7a8",
        "type": "api-call-service",
        "z": "db575387.da1ff",
        "name": "turn off mechanical ventilation position 3",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_3"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 340,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "9ecd488b.368338",
        "type": "api-call-service",
        "z": "db575387.da1ff",
        "name": "turn off mechanical ventilation position 0",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_0"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 340,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "7d39d435.8e108c",
        "type": "api-current-state",
        "z": "db575387.da1ff",
        "name": "state mechanical ventilation position 1 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_1",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 340,
        "y": 80,
        "wires": [
            [
                "e27dc924.6fc2a8"
            ],
            []
        ]
    },
    {
        "id": "a1e3c2c3.89f1",
        "type": "comment",
        "z": "db575387.da1ff",
        "name": "TURN ON MECHANICAL VENTILATION POSITION 1",
        "info": "",
        "x": 240,
        "y": 20,
        "wires": []
    },
    {
        "id": "181e942.589516c",
        "type": "api-call-service",
        "z": "279f5735.2f95d8",
        "name": "turn on basement ventilation sw 03",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_03"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 320,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "208c6617.a5188a",
        "type": "api-call-service",
        "z": "279f5735.2f95d8",
        "name": "turn off basement ventilation sw 04",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_04"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 320,
        "y": 240,
        "wires": [
            [
                "ad750753.bff338"
            ]
        ]
    },
    {
        "id": "7d3cfcb8.e589c4",
        "type": "delay",
        "z": "279f5735.2f95d8",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 320,
        "wires": [
            [
                "181e942.589516c"
            ]
        ]
    },
    {
        "id": "52801c6b.b0a794",
        "type": "api-call-service",
        "z": "279f5735.2f95d8",
        "name": "turn on mechanical ventilation position 2",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_2"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 680,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "87d1779f.504ce8",
        "type": "api-call-service",
        "z": "279f5735.2f95d8",
        "name": "turn off mechanical ventilation position 1",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_1"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 340,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "f2672c4e.79f33",
        "type": "api-call-service",
        "z": "279f5735.2f95d8",
        "name": "turn off mechanical ventilation position 3",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_3"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 340,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "c8732b7b.c22168",
        "type": "api-call-service",
        "z": "279f5735.2f95d8",
        "name": "turn off mechanical ventilation position 0",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_0"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 340,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "8a9d5b61.87e578",
        "type": "api-current-state",
        "z": "279f5735.2f95d8",
        "name": "state mechanical ventilation position 2 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_2",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 340,
        "y": 80,
        "wires": [
            [
                "52801c6b.b0a794"
            ],
            []
        ]
    },
    {
        "id": "22428d95.0b7e92",
        "type": "api-call-service",
        "z": "279f5735.2f95d8",
        "name": "turn on basement ventilation sw 01",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_01"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 320,
        "y": 280,
        "wires": [
            [
                "7d3cfcb8.e589c4"
            ]
        ]
    },
    {
        "id": "ad750753.bff338",
        "type": "delay",
        "z": "279f5735.2f95d8",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 280,
        "wires": [
            [
                "22428d95.0b7e92"
            ]
        ]
    },
    {
        "id": "f4b09ae3.f31bb8",
        "type": "comment",
        "z": "279f5735.2f95d8",
        "name": "TURN ON MECHANICAL VENTILATION POSITION 2",
        "info": "",
        "x": 240,
        "y": 20,
        "wires": []
    },
    {
        "id": "c54b81c6.cf925",
        "type": "api-call-service",
        "z": "7d5d30e3.483af",
        "name": "turn off basement ventilation sw 03",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_03"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 320,
        "y": 280,
        "wires": [
            [
                "60dd6167.2f76a"
            ]
        ]
    },
    {
        "id": "16dea36a.4cb2cd",
        "type": "api-call-service",
        "z": "7d5d30e3.483af",
        "name": "turn on basement ventilation sw 04",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_04"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 320,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "60dd6167.2f76a",
        "type": "delay",
        "z": "7d5d30e3.483af",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 320,
        "wires": [
            [
                "16dea36a.4cb2cd"
            ]
        ]
    },
    {
        "id": "720db208.aa887c",
        "type": "api-call-service",
        "z": "7d5d30e3.483af",
        "name": "turn on mechanical ventilation position 3",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_3"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 680,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "ff1ccbdb.9906b8",
        "type": "api-call-service",
        "z": "7d5d30e3.483af",
        "name": "turn off mechanical ventilation position 1",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_1"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 340,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "76af25f8.0585fc",
        "type": "api-call-service",
        "z": "7d5d30e3.483af",
        "name": "turn off mechanical ventilation position 2",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_2"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 340,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "18f13f23.6c3a51",
        "type": "api-call-service",
        "z": "7d5d30e3.483af",
        "name": "turn off mechanical ventilation position 0",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.mechanical_ventilation_position_0"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 340,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "54b5ba76.827954",
        "type": "api-current-state",
        "z": "7d5d30e3.483af",
        "name": "state mechanical ventilation position 3 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_3",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 340,
        "y": 80,
        "wires": [
            [
                "720db208.aa887c"
            ],
            []
        ]
    },
    {
        "id": "2e60ec0b.ebbaf4",
        "type": "delay",
        "z": "7d5d30e3.483af",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 280,
        "wires": [
            [
                "c54b81c6.cf925"
            ]
        ]
    },
    {
        "id": "c8c40934.304388",
        "type": "comment",
        "z": "7d5d30e3.483af",
        "name": "TURN ON MECHANICAL VENTILATION POSITION 3",
        "info": "",
        "x": 240,
        "y": 20,
        "wires": []
    },
    {
        "id": "30d47f9.e06228",
        "type": "api-call-service",
        "z": "7d5d30e3.483af",
        "name": "turn on basement ventilation sw 01",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.basement_ventilation_sw_01"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 320,
        "y": 240,
        "wires": [
            [
                "2e60ec0b.ebbaf4"
            ]
        ]
    },
    {
        "id": "ee31ef8.f2bc11",
        "type": "api-call-service",
        "z": "67a1c55d.b4b94c",
        "name": "turn on light christmas tree",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.christmas_tree"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 460,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "acbe7857.d6ebf8",
        "type": "api-current-state",
        "z": "67a1c55d.b4b94c",
        "name": "state christmas tree light off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.christmas_tree",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 200,
        "y": 100,
        "wires": [
            [
                "ee31ef8.f2bc11"
            ],
            []
        ]
    },
    {
        "id": "a4ceb3e9.e8677",
        "type": "comment",
        "z": "67a1c55d.b4b94c",
        "name": "turn on christmas tree lights",
        "info": "",
        "x": 140,
        "y": 40,
        "wires": []
    },
    {
        "id": "af7b80fc.c3023",
        "type": "api-call-service",
        "z": "99804b5f.9adb6",
        "name": "restore light on state",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "data": "{\"brightness\":\"{{payload.attributes.brightness}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1160,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "bcb3a700.ce17f8",
        "type": "ha-get-entities",
        "z": "99804b5f.9adb6",
        "name": "get all lights",
        "server": "4ba92433.2478cc",
        "version": 0,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.shelly",
                "valueType": "str"
            }
        ],
        "output_type": "split",
        "output_empty_results": false,
        "output_location_type": "msg",
        "output_location": "payload",
        "output_results_count": 1,
        "x": 330,
        "y": 100,
        "wires": [
            [
                "cf32e234.47719",
                "fc63001e.69dc4"
            ]
        ]
    },
    {
        "id": "5230c2e.d12123c",
        "type": "switch",
        "z": "99804b5f.9adb6",
        "name": "on / off",
        "property": "payload.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 950,
        "y": 180,
        "wires": [
            [
                "af7b80fc.c3023"
            ],
            [
                "e15ce8b1.b6e1b8"
            ]
        ]
    },
    {
        "id": "e15ce8b1.b6e1b8",
        "type": "api-call-service",
        "z": "99804b5f.9adb6",
        "name": "restore light off state",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "{{payload.domain}}",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{payload.entity_id}}"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1160,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "ff3fd036.814d8",
        "type": "delay",
        "z": "99804b5f.9adb6",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 740,
        "y": 280,
        "wires": [
            [
                "c6fb625.0c939a"
            ]
        ]
    },
    {
        "id": "c6fb625.0c939a",
        "type": "change",
        "z": "99804b5f.9adb6",
        "name": "send red to traffic",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "red",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 280,
        "wires": [
            [
                "b3c56923.a20108"
            ]
        ]
    },
    {
        "id": "fc63001e.69dc4",
        "type": "change",
        "z": "99804b5f.9adb6",
        "name": "set domain to light",
        "rules": [
            {
                "t": "set",
                "p": "payload.domain",
                "pt": "msg",
                "to": "light",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 140,
        "wires": [
            [
                "b3c56923.a20108"
            ]
        ]
    },
    {
        "id": "952a70ca.b8532",
        "type": "change",
        "z": "99804b5f.9adb6",
        "name": "send green to traffic",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "green",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 180,
        "wires": [
            [
                "b3c56923.a20108"
            ]
        ]
    },
    {
        "id": "fd745c51.01fc5",
        "type": "switch",
        "z": "99804b5f.9adb6",
        "name": "",
        "property": "alarm",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 150,
        "y": 100,
        "wires": [
            [
                "bcb3a700.ce17f8"
            ],
            [
                "952a70ca.b8532"
            ]
        ]
    },
    {
        "id": "449328ad.e5c798",
        "type": "api-call-service",
        "z": "99804b5f.9adb6",
        "name": "turn on all lights",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"entity_id\":\"{{payload.entity_id}}\",\"brightness\":255}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1140,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "b3c56923.a20108",
        "type": "traffic",
        "z": "99804b5f.9adb6",
        "name": "traffic",
        "property_allow": "payload",
        "filter_allow": "green",
        "ignore_case_allow": false,
        "negate_allow": false,
        "send_allow": false,
        "property_stop": "payload",
        "filter_stop": "red",
        "ignore_case_stop": false,
        "negate_stop": false,
        "send_stop": false,
        "default_start": false,
        "differ": true,
        "x": 730,
        "y": 180,
        "wires": [
            [
                "ff3fd036.814d8",
                "5230c2e.d12123c"
            ]
        ]
    },
    {
        "id": "cf32e234.47719",
        "type": "switch",
        "z": "99804b5f.9adb6",
        "name": "exclude light",
        "property": "payload.entity_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "light.shellydimmer_lises_room",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 510,
        "y": 100,
        "wires": [
            [
                "449328ad.e5c798"
            ]
        ]
    },
    {
        "id": "fb92086a.22ae98",
        "type": "comment",
        "z": "99804b5f.9adb6",
        "name": "input requirements",
        "info": "msg.alarm = off \nmsg.alarm = on",
        "x": 110,
        "y": 40,
        "wires": []
    },
    {
        "id": "6fd09e62187c11c3",
        "type": "api-call-service",
        "z": "0f710598d50e0596",
        "name": "turn off harmony activity",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "remote",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [
            "34a73fe47cda5c964dcb946e48f8a307"
        ],
        "entityId": [
            "remote.harmony_hub_01"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 210,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "8e175d7684e5c54b",
        "type": "api-call-service",
        "z": "0f710598d50e0596",
        "name": "turn off media player tv ",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "media_player",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [
            "04231b4687b2ffc01c97df5552a05026"
        ],
        "entityId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 200,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "19c16b81a65ce03d",
        "type": "api-call-service",
        "z": "0f710598d50e0596",
        "name": "turn off media players",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "media_player",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.lise_s_kamer",
            "media_player.shield",
            "media_player.tv_01"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 200,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "7d78624dbc489f07",
        "type": "api-current-state",
        "z": "0f710598d50e0596",
        "name": "state input boolean tv is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.tv",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 220,
        "y": 40,
        "wires": [
            [
                "ed81a86bf1f06d72"
            ],
            []
        ]
    },
    {
        "id": "ed81a86bf1f06d72",
        "type": "api-call-service",
        "z": "0f710598d50e0596",
        "name": "turn off input boolean tv",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.tv"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 490,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "f0aeb0277f95eebd",
        "type": "api-current-state",
        "z": "0f710598d50e0596",
        "name": "state input boolean music is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.music",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 230,
        "y": 80,
        "wires": [
            [
                "7df266f8e004a08d"
            ],
            []
        ]
    },
    {
        "id": "7df266f8e004a08d",
        "type": "api-call-service",
        "z": "0f710598d50e0596",
        "name": "turn off input boolean music",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.music"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 500,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "f69679ab2ccbee4f",
        "type": "api-call-service",
        "z": "0f710598d50e0596",
        "name": "select radio uit",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.radio_station"
        ],
        "data": "{\"option\":\"Radio Uit\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 180,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "1f164f2207e30219",
        "type": "api-call-service",
        "z": "0f710598d50e0596",
        "name": "select spotify uit",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.spotify_playlist"
        ],
        "data": "{\"option\":\"Spotify Uit\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 180,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "338d1d653883e09c",
        "type": "api-call-service",
        "z": "a0c733b89be2ea24",
        "name": "turn on harmony tv",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "remote",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [
            "34a73fe47cda5c964dcb946e48f8a307"
        ],
        "entityId": [
            "remote.harmony_hub_01"
        ],
        "data": "{\"activity\":\"TV\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 190,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "9d6de1e8ac88dd57",
        "type": "api-call-service",
        "z": "a0c733b89be2ea24",
        "name": "turn on media player shield",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "media_player",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.shield"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 220,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "ae7d2f091783073a",
        "type": "api-call-service",
        "z": "a0c733b89be2ea24",
        "name": "turn on input boolean tv",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.tv"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 470,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "afac95cd3be3c75a",
        "type": "api-current-state",
        "z": "a0c733b89be2ea24",
        "name": "state input boolean tv is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.tv",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 220,
        "y": 40,
        "wires": [
            [
                "ae7d2f091783073a"
            ],
            []
        ]
    },
    {
        "id": "e87e52d59f0caacc",
        "type": "api-call-service",
        "z": "b1ddcd26d280c47d",
        "name": "turn on harmony screen off",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "remote",
        "service": "turn_on",
        "areaId": [
            "living_room"
        ],
        "deviceId": [
            "34a73fe47cda5c964dcb946e48f8a307"
        ],
        "entityId": [
            "remote.harmony_hub_01",
            "switch.harmony_hub_01_scherm_uit"
        ],
        "data": "{\"activity\":\"Scherm Uit\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 200,
        "y": 40,
        "wires": [
            [
                "e42617fbbbe99380"
            ]
        ]
    },
    {
        "id": "e42617fbbbe99380",
        "type": "api-current-state",
        "z": "b1ddcd26d280c47d",
        "name": "state input boolean tv off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.music",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 450,
        "y": 40,
        "wires": [
            [
                "81105c06164d2a4f"
            ],
            []
        ]
    },
    {
        "id": "81105c06164d2a4f",
        "type": "api-call-service",
        "z": "b1ddcd26d280c47d",
        "name": "turn on input boolean music",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.music"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 700,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "441696546b08b299",
        "type": "api-call-service",
        "z": "b93cc1561f32248d",
        "name": "turn off frontyard powersocket",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.shelly1_frontyard_powersocket"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 210,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "ce4fb69f6baf8bae",
        "type": "comment",
        "z": "b93cc1561f32248d",
        "name": "temporary subflow to turn off powersocket christmas lights",
        "info": "",
        "x": 230,
        "y": 40,
        "wires": []
    },
    {
        "id": "4b6b1e831da55dcd",
        "type": "api-call-service",
        "z": "d7eb731ec2383a42",
        "name": "turn on frontyard powersocket",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.shelly1_frontyard_powersocket"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 210,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "31356d632aa7ee6a",
        "type": "comment",
        "z": "d7eb731ec2383a42",
        "name": "temporary subflow to turn on powersocket christmas lights",
        "info": "",
        "x": 230,
        "y": 40,
        "wires": []
    },
    {
        "id": "a8b7af48.25638",
        "type": "server-state-changed",
        "z": "8aa6edec.5a013",
        "name": "state group persons not_home",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "group.persons",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 100,
        "wires": [
            [
                "99dc8873.517068"
            ],
            []
        ]
    },
    {
        "id": "81ed119.13c84f",
        "type": "server-state-changed",
        "z": "8aa6edec.5a013",
        "name": "state guest off",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.guest",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 90,
        "y": 160,
        "wires": [
            [
                "86e3be2e.bc7b4"
            ],
            [
                "fd0992d579e52c73"
            ]
        ]
    },
    {
        "id": "99dc8873.517068",
        "type": "api-current-state",
        "z": "8aa6edec.5a013",
        "name": "state guest off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 380,
        "y": 100,
        "wires": [
            [
                "49ea77ab.4cfa28",
                "8d40faa88a9cd112"
            ],
            []
        ]
    },
    {
        "id": "86e3be2e.bc7b4",
        "type": "api-current-state",
        "z": "8aa6edec.5a013",
        "name": "state group persons home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 410,
        "y": 160,
        "wires": [
            [
                "ce720787.d6dd18"
            ],
            [
                "49ea77ab.4cfa28",
                "76fc5cd8933d341b",
                "f3398caf62b1ef7a"
            ]
        ]
    },
    {
        "id": "49ea77ab.4cfa28",
        "type": "delay",
        "z": "8aa6edec.5a013",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 740,
        "y": 100,
        "wires": [
            [
                "ab07aadadf97ba44"
            ]
        ]
    },
    {
        "id": "de807278.70c2",
        "type": "link out",
        "z": "8aa6edec.5a013",
        "name": "",
        "links": [
            "e0ebe989.841c68",
            "7b0f1685.0279d8"
        ],
        "x": 1385,
        "y": 140,
        "wires": []
    },
    {
        "id": "5a965a7.3bd68a4",
        "type": "template",
        "z": "8aa6edec.5a013",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Gast stand is uitgeschakeld {{payload.attributes.friendly_name}} is aanwezig.",
        "output": "str",
        "x": 1260,
        "y": 140,
        "wires": [
            [
                "de807278.70c2"
            ]
        ]
    },
    {
        "id": "ce720787.d6dd18",
        "type": "ha-get-entities",
        "z": "8aa6edec.5a013",
        "name": "lookup person home",
        "server": "4ba92433.2478cc",
        "version": 0,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "person.",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is",
                "value": "home",
                "valueType": "str"
            }
        ],
        "output_type": "split",
        "output_empty_results": false,
        "output_location_type": "msg",
        "output_location": "payload",
        "output_results_count": 1,
        "x": 780,
        "y": 140,
        "wires": [
            [
                "872aa09a.5c242"
            ]
        ]
    },
    {
        "id": "872aa09a.5c242",
        "type": "join",
        "z": "8aa6edec.5a013",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "payload.attributes.friendly_name",
        "propertyType": "msg",
        "key": "topic",
        "joiner": ", ",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 950,
        "y": 140,
        "wires": [
            [
                "5a965a7.3bd68a4"
            ]
        ]
    },
    {
        "id": "8afb3387.bc64f",
        "type": "template",
        "z": "8aa6edec.5a013",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Gast stand is uitgeschakeld en niemand is aanwezig. Lampen zijn uitgeschakeld en beveiliging ingeschakeld. ",
        "output": "str",
        "x": 1260,
        "y": 180,
        "wires": [
            [
                "de807278.70c2"
            ]
        ]
    },
    {
        "id": "fc85d1e2.ac029",
        "type": "template",
        "z": "8aa6edec.5a013",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Gast stand is ingeschakeld.",
        "output": "str",
        "x": 1260,
        "y": 220,
        "wires": [
            [
                "de807278.70c2"
            ]
        ]
    },
    {
        "id": "f3398caf62b1ef7a",
        "type": "api-current-state",
        "z": "8aa6edec.5a013",
        "name": "state home security off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 780,
        "y": 260,
        "wires": [
            [
                "30a120b8f94715ba"
            ],
            []
        ]
    },
    {
        "id": "30a120b8f94715ba",
        "type": "api-call-service",
        "z": "8aa6edec.5a013",
        "name": "turn on home security",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.home_security"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1020,
        "y": 260,
        "wires": [
            [
                "c54e1335a9784d8c"
            ]
        ]
    },
    {
        "id": "c54e1335a9784d8c",
        "type": "template",
        "z": "8aa6edec.5a013",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Huis beveiliging is automatisch ingeschakeld",
        "output": "str",
        "x": 1260,
        "y": 260,
        "wires": [
            [
                "de807278.70c2"
            ]
        ]
    },
    {
        "id": "ab07aadadf97ba44",
        "type": "subflow:79544bf2.1ff3a4",
        "z": "8aa6edec.5a013",
        "name": "",
        "x": 960,
        "y": 100,
        "wires": []
    },
    {
        "id": "e98d4730eef641b7",
        "type": "api-call-service",
        "z": "8aa6edec.5a013",
        "name": "turn on switch chime active",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.doorbell_chime_active"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1040,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "8d40faa88a9cd112",
        "type": "api-current-state",
        "z": "8aa6edec.5a013",
        "name": "state doorbell chime off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.doorbell_chime_active",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 790,
        "y": 320,
        "wires": [
            [
                "e98d4730eef641b7"
            ],
            []
        ]
    },
    {
        "id": "2e713f167c7e9287",
        "type": "comment",
        "z": "8aa6edec.5a013",
        "name": "the desired state when nobody is home and guest switch is off",
        "info": "",
        "x": 240,
        "y": 40,
        "wires": []
    },
    {
        "id": "5cae0c8061f75a53",
        "type": "subflow:79544bf2.1ff3a4",
        "z": "df5d8f386b74d541",
        "name": "",
        "x": 440,
        "y": 40,
        "wires": []
    },
    {
        "id": "de71b23081ef77cd",
        "type": "switch",
        "z": "df5d8f386b74d541",
        "name": "on / off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 250,
        "y": 160,
        "wires": [
            [
                "5cae0c8061f75a53",
                "6787b740.c04b28",
                "133eb9dcf3273f11",
                "79d70712bae7a67b",
                "e101cb7ce1fd0970"
            ],
            []
        ]
    },
    {
        "id": "c7ba0b7c7d7f42f4",
        "type": "server-state-changed",
        "z": "df5d8f386b74d541",
        "name": "state sleepmode",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.sleep_mode",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            },
            {
                "property": "house_event",
                "propertyType": "msg",
                "value": "sleepmode",
                "valueType": "str"
            }
        ],
        "x": 100,
        "y": 160,
        "wires": [
            [
                "de71b23081ef77cd"
            ]
        ]
    },
    {
        "id": "6787b740.c04b28",
        "type": "api-current-state",
        "z": "df5d8f386b74d541",
        "name": "state outdoor dark",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "dark",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.outdoor_light_dark",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 470,
        "y": 100,
        "wires": [
            [
                "134e114c720a4f35"
            ],
            [
                "83da19b4eed2ddcd"
            ]
        ]
    },
    {
        "id": "407ba343.c0affc",
        "type": "api-call-service",
        "z": "df5d8f386b74d541",
        "name": "turn on light kitchen",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_kitchen"
        ],
        "data": "{\"brightness_pct\":45}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 850,
        "y": 80,
        "wires": [
            [
                "69a0749d.4f467c"
            ]
        ]
    },
    {
        "id": "69a0749d.4f467c",
        "type": "delay",
        "z": "df5d8f386b74d541",
        "name": "",
        "pauseType": "delay",
        "timeout": "20",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1030,
        "y": 80,
        "wires": [
            [
                "dc31aee5.5b1f3"
            ]
        ]
    },
    {
        "id": "dc31aee5.5b1f3",
        "type": "api-call-service",
        "z": "df5d8f386b74d541",
        "name": "turn off light kitchen",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_kitchen"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1210,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "133eb9dcf3273f11",
        "type": "api-current-state",
        "z": "df5d8f386b74d541",
        "name": "state doorbell chime off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.doorbell_chime_active",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 490,
        "y": 180,
        "wires": [
            [
                "f99fb5b5de6ba970"
            ],
            []
        ]
    },
    {
        "id": "f99fb5b5de6ba970",
        "type": "api-call-service",
        "z": "df5d8f386b74d541",
        "name": "turn on switch chime active",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.doorbell_chime_active"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1240,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "c02a96fab9d6d716",
        "type": "api-call-service",
        "z": "df5d8f386b74d541",
        "name": "turn on home security",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.home_security"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1220,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "79d70712bae7a67b",
        "type": "api-current-state",
        "z": "df5d8f386b74d541",
        "name": "state home security off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 480,
        "y": 240,
        "wires": [
            [
                "5dbf80c959123905"
            ],
            []
        ]
    },
    {
        "id": "5dbf80c959123905",
        "type": "delay",
        "z": "df5d8f386b74d541",
        "name": "",
        "pauseType": "delay",
        "timeout": "20",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1030,
        "y": 240,
        "wires": [
            [
                "c02a96fab9d6d716"
            ]
        ]
    },
    {
        "id": "e101cb7ce1fd0970",
        "type": "api-current-state",
        "z": "df5d8f386b74d541",
        "name": "state home security off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 480,
        "y": 300,
        "wires": [
            [
                "502ed746a5dd4b84"
            ],
            []
        ]
    },
    {
        "id": "502ed746a5dd4b84",
        "type": "api-call-service",
        "z": "df5d8f386b74d541",
        "name": "start timer security",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "timer",
        "service": "start",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.home_security"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 850,
        "y": 300,
        "wires": [
            [
                "7fb9ce14.0e751"
            ]
        ]
    },
    {
        "id": "7fb9ce14.0e751",
        "type": "delay",
        "z": "df5d8f386b74d541",
        "name": "",
        "pauseType": "delay",
        "timeout": "20",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1030,
        "y": 300,
        "wires": [
            [
                "8a22a508.80a108"
            ]
        ]
    },
    {
        "id": "8a22a508.80a108",
        "type": "api-current-state",
        "z": "df5d8f386b74d541",
        "name": "state home security off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1220,
        "y": 300,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "134e114c720a4f35",
        "type": "delay",
        "z": "df5d8f386b74d541",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 680,
        "y": 80,
        "wires": [
            [
                "407ba343.c0affc"
            ]
        ]
    },
    {
        "id": "1a921b80.6cb295",
        "type": "api-call-service",
        "z": "df5d8f386b74d541",
        "name": "stop timer security",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "timer",
        "service": "cancel",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.home_security"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 670,
        "y": 520,
        "wires": [
            [
                "e6a0a8cb.534cc8"
            ]
        ]
    },
    {
        "id": "543ebe7.ceeb34",
        "type": "api-current-state",
        "z": "df5d8f386b74d541",
        "name": "state timer security active",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "active",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "timer.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "timer.security",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 450,
        "y": 520,
        "wires": [
            [
                "1a921b80.6cb295"
            ],
            []
        ]
    },
    {
        "id": "e0b2abfe.e5f668",
        "type": "api-current-state",
        "z": "df5d8f386b74d541",
        "name": "state home security off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 440,
        "y": 460,
        "wires": [
            [
                "ecbb9c1d.54996"
            ],
            []
        ]
    },
    {
        "id": "e6a0a8cb.534cc8",
        "type": "change",
        "z": "df5d8f386b74d541",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "reset",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 940,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "ecbb9c1d.54996",
        "type": "api-call-service",
        "z": "df5d8f386b74d541",
        "name": "start timer security",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "timer",
        "service": "start",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.home_security"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 670,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "bda1346b2f42aaaf",
        "type": "api-call-service",
        "z": "df5d8f386b74d541",
        "name": "turn on switch chime active",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.doorbell_chime_active"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 680,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "ec7fc97b85fc874f",
        "type": "api-current-state",
        "z": "df5d8f386b74d541",
        "name": "state doorbell chime off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.doorbell_chime_active",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 430,
        "y": 560,
        "wires": [
            [
                "bda1346b2f42aaaf"
            ],
            []
        ]
    },
    {
        "id": "9e995be6.7976b8",
        "type": "api-call-service",
        "z": "c0da8379.b0dd3",
        "name": "turn on light backyard",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_backyard_string_l"
        ],
        "data": "{\"brightness\":50}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1720,
        "y": 740,
        "wires": [
            [
                "13ca8b62.27a4a5"
            ]
        ]
    },
    {
        "id": "e137297f.088698",
        "type": "api-call-service",
        "z": "c0da8379.b0dd3",
        "name": "turn on light front door",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_front_door"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1720,
        "y": 800,
        "wires": [
            [
                "13ca8b62.27a4a5"
            ]
        ]
    },
    {
        "id": "d5736355.e4e8e",
        "type": "switch",
        "z": "c0da8379.b0dd3",
        "name": "payload light dark",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "light",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "dark",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 370,
        "y": 460,
        "wires": [
            [
                "9c489e3f.49b89",
                "298ec9d5.35e576",
                "5d939da2.20d8c4",
                "cc64f27a.c792c"
            ],
            [
                "c3dc83f5.77118",
                "b7ae8452.581398"
            ]
        ]
    },
    {
        "id": "f916039a.ab914",
        "type": "switch",
        "z": "c0da8379.b0dd3",
        "name": "state home not_home",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 380,
        "y": 600,
        "wires": [
            [
                "ed71f712.b69338",
                "60ffd46b.e9534c"
            ]
        ]
    },
    {
        "id": "ca6dfbcc.46ac18",
        "type": "api-call-service",
        "z": "c0da8379.b0dd3",
        "name": "turn off light front door ",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_front_door"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1720,
        "y": 220,
        "wires": [
            [
                "1ae2e15a.a292cf"
            ]
        ]
    },
    {
        "id": "c29767f.9905c98",
        "type": "api-call-service",
        "z": "c0da8379.b0dd3",
        "name": "turn off light backyard",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_backyard_string_l"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1720,
        "y": 160,
        "wires": [
            [
                "1ae2e15a.a292cf"
            ]
        ]
    },
    {
        "id": "c52b3e07.1a75e",
        "type": "server-state-changed",
        "z": "c0da8379.b0dd3",
        "name": "state persons",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "group.persons",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 600,
        "wires": [
            [
                "f916039a.ab914"
            ]
        ]
    },
    {
        "id": "d08ebe33.48973",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state backyard light off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shellydimmer_backyard_string_l",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1420,
        "y": 740,
        "wires": [
            [
                "9e995be6.7976b8"
            ],
            []
        ]
    },
    {
        "id": "cc18abb3.ae2a18",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state frontdoor light off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shelly1_front_door",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1420,
        "y": 800,
        "wires": [
            [
                "e137297f.088698"
            ],
            []
        ]
    },
    {
        "id": "9b31430f.b380a",
        "type": "server-state-changed",
        "z": "c0da8379.b0dd3",
        "name": "state outdoor light dark",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.outdoor_light_dark",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 460,
        "wires": [
            [
                "d5736355.e4e8e"
            ]
        ]
    },
    {
        "id": "e84b117e.dd59d",
        "type": "server-state-changed",
        "z": "c0da8379.b0dd3",
        "name": "state guest",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.guest",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 660,
        "wires": [
            [
                "9b83ef6.7af1c1"
            ]
        ]
    },
    {
        "id": "9b83ef6.7af1c1",
        "type": "switch",
        "z": "c0da8379.b0dd3",
        "name": "state guest on off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 370,
        "y": 660,
        "wires": [
            [
                "ed71f712.b69338",
                "9f66d88d.57dad8"
            ],
            []
        ]
    },
    {
        "id": "1f0643fe.cb32cc",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state frontdoor light on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shelly1_front_door",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1420,
        "y": 240,
        "wires": [
            [
                "ca6dfbcc.46ac18"
            ],
            []
        ]
    },
    {
        "id": "d48ea384.8d1d",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state backyard light on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shellydimmer_backyard_string_l",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1420,
        "y": 180,
        "wires": [
            [
                "c29767f.9905c98"
            ],
            []
        ]
    },
    {
        "id": "b86ec736.0cd658",
        "type": "server-state-changed",
        "z": "c0da8379.b0dd3",
        "name": "state person coen home",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "person.coen",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 740,
        "wires": [
            [
                "c0a73100.b726e"
            ],
            []
        ]
    },
    {
        "id": "f8f2314a.940eb",
        "type": "server-state-changed",
        "z": "c0da8379.b0dd3",
        "name": "state person anne home",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "person.anne",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 800,
        "wires": [
            [
                "b53f891b.1feb08"
            ],
            []
        ]
    },
    {
        "id": "c0a73100.b726e",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state person anne home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.anne",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 690,
        "y": 740,
        "wires": [
            [
                "5f497d57.150f44",
                "aab516c6.d5acf8",
                "ed71f712.b69338"
            ],
            []
        ]
    },
    {
        "id": "b53f891b.1feb08",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state person coen home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.coen",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 690,
        "y": 800,
        "wires": [
            [
                "aab516c6.d5acf8",
                "ed71f712.b69338",
                "5f497d57.150f44"
            ],
            []
        ]
    },
    {
        "id": "ce9cbf76.39de5",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state livingroom light off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shellydimmer_living_room",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "light.shellydimmer_living_room",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1190,
        "y": 540,
        "wires": [
            [
                "f7dd5719.04dbc8"
            ],
            []
        ]
    },
    {
        "id": "f7dd5719.04dbc8",
        "type": "api-call-service",
        "z": "c0da8379.b0dd3",
        "name": "turn on light livingroom ",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_living_room"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1720,
        "y": 420,
        "wires": [
            [
                "b50fb918.44f928"
            ]
        ]
    },
    {
        "id": "c3dc83f5.77118",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state harmony on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "remote.harmony_hub_01",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "remote.harmony_hub_01",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data_remote.harmony_hub_01",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 670,
        "y": 540,
        "wires": [
            [
                "171a4247.1ffeee"
            ],
            []
        ]
    },
    {
        "id": "171a4247.1ffeee",
        "type": "switch",
        "z": "c0da8379.b0dd3",
        "name": "activity harmony tv/netflix",
        "property": "data_remote.harmony_hub_01.attributes.current_activity",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "TV",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Netflix",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 950,
        "y": 540,
        "wires": [
            [
                "ce9cbf76.39de5"
            ],
            [
                "ce9cbf76.39de5"
            ]
        ]
    },
    {
        "id": "cea43bad.d11358",
        "type": "template",
        "z": "c0da8379.b0dd3",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Het is donker en er is iemand aanwezig. {{{data.attributes.friendly_name}}} verlichting is ingeschakeld.",
        "output": "str",
        "x": 2060,
        "y": 780,
        "wires": [
            [
                "9bfeecdc.f723d"
            ]
        ]
    },
    {
        "id": "9bfeecdc.f723d",
        "type": "link out",
        "z": "c0da8379.b0dd3",
        "name": "",
        "links": [
            "ebf4860d.603538"
        ],
        "x": 2255,
        "y": 480,
        "wires": []
    },
    {
        "id": "60ffd46b.e9534c",
        "type": "ha-get-entities",
        "z": "c0da8379.b0dd3",
        "name": "lookup person home",
        "server": "4ba92433.2478cc",
        "version": 0,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "person.",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is",
                "value": "home",
                "valueType": "str"
            }
        ],
        "output_type": "split",
        "output_empty_results": false,
        "output_location_type": "msg",
        "output_location": "payload",
        "output_results_count": 1,
        "x": 680,
        "y": 920,
        "wires": [
            [
                "6ca20d6c.62d004"
            ]
        ]
    },
    {
        "id": "b9ba0c85.bcd94",
        "type": "join",
        "z": "c0da8379.b0dd3",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "friendly_name_person",
        "propertyType": "msg",
        "key": "topic",
        "joiner": ", ",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1130,
        "y": 920,
        "wires": [
            [
                "a5f68bf8.968328"
            ]
        ]
    },
    {
        "id": "6ca20d6c.62d004",
        "type": "template",
        "z": "c0da8379.b0dd3",
        "name": "Format Friendly Name",
        "field": "friendly_name_person",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{payload.attributes.friendly_name}}",
        "output": "str",
        "x": 940,
        "y": 920,
        "wires": [
            [
                "b9ba0c85.bcd94"
            ]
        ]
    },
    {
        "id": "da57c41e.c506f8",
        "type": "ha-get-entities",
        "z": "c0da8379.b0dd3",
        "name": "lookup light on",
        "server": "4ba92433.2478cc",
        "version": 0,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "light.shelly",
                "valueType": "str"
            },
            {
                "property": "state",
                "logic": "is",
                "value": "on",
                "valueType": "str"
            }
        ],
        "output_type": "split",
        "output_empty_results": false,
        "output_location_type": "msg",
        "output_location": "payload",
        "output_results_count": 1,
        "x": 660,
        "y": 980,
        "wires": [
            [
                "fd3c7297.9684e"
            ]
        ]
    },
    {
        "id": "fd3c7297.9684e",
        "type": "template",
        "z": "c0da8379.b0dd3",
        "name": "Format Friendly Name",
        "field": "friendly_name_lampen",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{payload.attributes.friendly_name}}",
        "output": "str",
        "x": 940,
        "y": 980,
        "wires": [
            [
                "1928247d.6ddacc"
            ]
        ]
    },
    {
        "id": "1928247d.6ddacc",
        "type": "join",
        "z": "c0da8379.b0dd3",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "friendly_name_lampen",
        "propertyType": "msg",
        "key": "topic",
        "joiner": ", ",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1130,
        "y": 980,
        "wires": [
            [
                "d129b86a.aa0f58"
            ]
        ]
    },
    {
        "id": "d129b86a.aa0f58",
        "type": "template",
        "z": "c0da8379.b0dd3",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{friendly_name_person}} is thuis gekomen en het is donker. {{friendly_name_lampen}} verlichting is ingeschakeld",
        "output": "str",
        "x": 2060,
        "y": 980,
        "wires": [
            [
                "9bfeecdc.f723d"
            ]
        ]
    },
    {
        "id": "efdb1a4f.c5e9b8",
        "type": "template",
        "z": "c0da8379.b0dd3",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{data.attributes.friendly_name}} verlichting is automatisch uitgeschakeld",
        "output": "str",
        "x": 2060,
        "y": 180,
        "wires": [
            [
                "9bfeecdc.f723d"
            ]
        ]
    },
    {
        "id": "b50fb918.44f928",
        "type": "template",
        "z": "c0da8379.b0dd3",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{data.attributes.friendly_name}} verlichting is ingeschakeld omdat Harmony activiteit {{data_remote.harmony_hub_01.attributes.current_activity}} actief is. ",
        "output": "str",
        "x": 2060,
        "y": 340,
        "wires": [
            [
                "9bfeecdc.f723d"
            ]
        ]
    },
    {
        "id": "23da98f2.f85338",
        "type": "inject",
        "z": "c0da8379.b0dd3",
        "name": "06:30 'on' payload",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "30 06 * * 1,2,3,4,5",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "on",
        "payloadType": "str",
        "x": 130,
        "y": 120,
        "wires": [
            [
                "298ec9d5.35e576",
                "9c489e3f.49b89",
                "2175515c.be3ebe"
            ]
        ]
    },
    {
        "id": "e07b8aed.7d4548",
        "type": "inject",
        "z": "c0da8379.b0dd3",
        "name": "07:00 'on' payload",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 07 * * 6,0",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "on",
        "payloadType": "str",
        "x": 130,
        "y": 60,
        "wires": [
            [
                "298ec9d5.35e576",
                "9c489e3f.49b89",
                "2175515c.be3ebe"
            ]
        ]
    },
    {
        "id": "298ec9d5.35e576",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state persons home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 670,
        "y": 60,
        "wires": [
            [
                "aab516c6.d5acf8",
                "ed71f712.b69338",
                "6a1e682.ce28098"
            ],
            []
        ]
    },
    {
        "id": "aab516c6.d5acf8",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state sleep_mode on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.sleep_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1180,
        "y": 60,
        "wires": [
            [
                "f86b599d.352918"
            ],
            []
        ]
    },
    {
        "id": "9c489e3f.49b89",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state guest on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 660,
        "y": 120,
        "wires": [
            [
                "aab516c6.d5acf8",
                "ed71f712.b69338",
                "6a1e682.ce28098"
            ],
            []
        ]
    },
    {
        "id": "f86b599d.352918",
        "type": "api-call-service",
        "z": "c0da8379.b0dd3",
        "name": "turn off sleep mode",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.sleep_mode"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1710,
        "y": 40,
        "wires": [
            [
                "f9016d05.455ab"
            ]
        ]
    },
    {
        "id": "ed71f712.b69338",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state home_security on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1190,
        "y": 120,
        "wires": [
            [
                "1902dc19.17ed64"
            ],
            []
        ]
    },
    {
        "id": "1902dc19.17ed64",
        "type": "api-call-service",
        "z": "c0da8379.b0dd3",
        "name": "turn off home security",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.home_security"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1720,
        "y": 100,
        "wires": [
            [
                "2746e153.92344e"
            ]
        ]
    },
    {
        "id": "5f497d57.150f44",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state outdoor dark",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "dark",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.outdoor_light_dark",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 970,
        "y": 760,
        "wires": [
            [
                "bfdc7b40.f9a528"
            ],
            []
        ]
    },
    {
        "id": "6a1e682.ce28098",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state outdoor light",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "light",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.outdoor_light_dark",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1170,
        "y": 180,
        "wires": [
            [
                "d48ea384.8d1d",
                "1f0643fe.cb32cc",
                "4c07afb2e623f468"
            ],
            []
        ]
    },
    {
        "id": "a5f68bf8.968328",
        "type": "delay",
        "z": "c0da8379.b0dd3",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1380,
        "y": 920,
        "wires": [
            [
                "da57c41e.c506f8"
            ]
        ]
    },
    {
        "id": "13ca8b62.27a4a5",
        "type": "join",
        "z": "c0da8379.b0dd3",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "data.attributes.friendly_name",
        "propertyType": "msg",
        "key": "topic",
        "joiner": ", ",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "5",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 1910,
        "y": 780,
        "wires": [
            [
                "cea43bad.d11358"
            ]
        ]
    },
    {
        "id": "1ae2e15a.a292cf",
        "type": "join",
        "z": "c0da8379.b0dd3",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "data.attributes.friendly_name",
        "propertyType": "msg",
        "key": "topic",
        "joiner": ", ",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "5",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1930,
        "y": 180,
        "wires": [
            [
                "efdb1a4f.c5e9b8"
            ]
        ]
    },
    {
        "id": "a8a31543.6e54b8",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state livingroom light off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shellydimmer_living_room",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1430,
        "y": 860,
        "wires": [
            [
                "fd5eca9e.417048"
            ],
            []
        ]
    },
    {
        "id": "fd5eca9e.417048",
        "type": "api-call-service",
        "z": "c0da8379.b0dd3",
        "name": "turn on light livingroom",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_living_room"
        ],
        "data": "{\"brightness\":80}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1720,
        "y": 860,
        "wires": [
            [
                "13ca8b62.27a4a5"
            ]
        ]
    },
    {
        "id": "d1463709.a63de8",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state guest on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1160,
        "y": 680,
        "wires": [
            [
                "d08ebe33.48973",
                "cc18abb3.ae2a18",
                "96e8c657ef1ee07e"
            ],
            []
        ]
    },
    {
        "id": "ab57e30e.f2b96",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state group persons home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1190,
        "y": 620,
        "wires": [
            [
                "d08ebe33.48973",
                "cc18abb3.ae2a18"
            ],
            []
        ]
    },
    {
        "id": "255f30c3.c9935",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state sleep mode off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.sleep_mode",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 680,
        "y": 640,
        "wires": [
            [
                "ab57e30e.f2b96",
                "d1463709.a63de8"
            ],
            []
        ]
    },
    {
        "id": "bfdc7b40.f9a528",
        "type": "delay",
        "z": "c0da8379.b0dd3",
        "name": "",
        "pauseType": "delay",
        "timeout": "15",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1140,
        "y": 760,
        "wires": [
            [
                "d08ebe33.48973",
                "cc18abb3.ae2a18",
                "a8a31543.6e54b8"
            ]
        ]
    },
    {
        "id": "2175515c.be3ebe",
        "type": "api-current-state",
        "z": "c0da8379.b0dd3",
        "name": "state outdoor light dark",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.outdoor_light_dark",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 260,
        "y": 280,
        "wires": [
            [
                "d5736355.e4e8e"
            ]
        ]
    },
    {
        "id": "b7ae8452.581398",
        "type": "delay",
        "z": "c0da8379.b0dd3",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 340,
        "y": 520,
        "wires": [
            [
                "255f30c3.c9935"
            ]
        ]
    },
    {
        "id": "9f66d88d.57dad8",
        "type": "api-call-service",
        "z": "c0da8379.b0dd3",
        "name": "turn on water heater",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "water_heater",
        "service": "set_temperature",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "water_heater.warm_water"
        ],
        "data": "{\"temperature\":\"61\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1720,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "cc64f27a.c792c",
        "type": "api-call-service",
        "z": "c0da8379.b0dd3",
        "name": "turn off light front door",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_front_door"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 680,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "5d939da2.20d8c4",
        "type": "api-call-service",
        "z": "c0da8379.b0dd3",
        "name": "turn off light backyard",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_backyard_string_l"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 680,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "f9016d05.455ab",
        "type": "template",
        "z": "c0da8379.b0dd3",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Slaapstand is automatisch uitgeschakeld",
        "output": "str",
        "x": 2060,
        "y": 40,
        "wires": [
            [
                "9bfeecdc.f723d"
            ]
        ]
    },
    {
        "id": "2746e153.92344e",
        "type": "template",
        "z": "c0da8379.b0dd3",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Beveiliging is automatisch uitgeschakeld",
        "output": "str",
        "x": 2060,
        "y": 100,
        "wires": [
            [
                "9bfeecdc.f723d"
            ]
        ]
    },
    {
        "id": "4c07afb2e623f468",
        "type": "subflow:b93cc1561f32248d",
        "z": "c0da8379.b0dd3",
        "name": "",
        "x": 1760,
        "y": 300,
        "wires": []
    },
    {
        "id": "96e8c657ef1ee07e",
        "type": "subflow:d7eb731ec2383a42",
        "z": "c0da8379.b0dd3",
        "name": "",
        "x": 1750,
        "y": 680,
        "wires": []
    },
    {
        "id": "a0fea0e8.d9a66",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "name": "state heating power basement  > 5",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.basement_heating",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "num",
        "haltifstate": "5",
        "halt_if_type": "num",
        "halt_if_compare": "gt",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 400,
        "y": 320,
        "wires": [
            [
                "3c8358ad.4658e8"
            ],
            []
        ]
    },
    {
        "id": "cbe4be0.ad6c74",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state wall temperature basement < dewpoint living room",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "sensor.living_room_dewpoint",
        "halt_if_type": "msg",
        "halt_if_compare": "lt",
        "entity_id": "sensor.basement_wall_temperature_offset",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_wall_temperature_offset",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 770,
        "y": 140,
        "wires": [
            [
                "c12f7192.293c9"
            ],
            []
        ]
    },
    {
        "id": "ff0ab6a6.950ca8",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state wall temperature basement < dewpoint master bedroom",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "sensor.master_bedroom_dewpoint",
        "halt_if_type": "msg",
        "halt_if_compare": "lt",
        "entity_id": "sensor.basement_wall_temperature_offset",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_wall_temperature_offset",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 780,
        "y": 200,
        "wires": [
            [
                "d2804939.6f48f8"
            ],
            []
        ]
    },
    {
        "id": "8a2090d8.a2185",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state absolute humidity basement < absolute humidity living room",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "sensor.living_room_absolutehumidity",
        "halt_if_type": "msg",
        "halt_if_compare": "lt",
        "entity_id": "sensor.basement_absolutehumidity",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_absolutehumidity",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 800,
        "y": 260,
        "wires": [
            [
                "b8424afd.8d7fe8"
            ],
            []
        ]
    },
    {
        "id": "bfdcba16.625018",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state ventilation position 0 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanical_ventilation_position_1",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1220,
        "y": 720,
        "wires": [
            [
                "3f57f7c64c501b93"
            ],
            []
        ]
    },
    {
        "id": "71ae7bb3.7f9984",
        "type": "comment",
        "z": "4e909abe.0b62e4",
        "name": "MECHANICAL VENTILATION POSITION 0",
        "info": "",
        "x": 420,
        "y": 100,
        "wires": []
    },
    {
        "id": "ea6ec719.ab0d88",
        "type": "comment",
        "z": "4e909abe.0b62e4",
        "name": "CONDITIONS & DATA",
        "info": "",
        "x": 360,
        "y": 400,
        "wires": []
    },
    {
        "id": "75db2fdc.c1e22",
        "type": "inject",
        "z": "4e909abe.0b62e4",
        "name": "start_flow",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "900",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "start_flow",
        "payloadType": "str",
        "x": 90,
        "y": 100,
        "wires": [
            [
                "eaba4c18.04007",
                "476a9b5a.95d894",
                "4abb03cf.8c49ec",
                "599646a9.361b38"
            ]
        ]
    },
    {
        "id": "e07362ff.ad189",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state temperature outdoor <= 5",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "5",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "entity_id": "sensor.buienradar_temperature",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.buienradar_temperature",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 390,
        "y": 720,
        "wires": [
            [
                "f58250ec.e0fa1"
            ],
            [
                "240fac46.902e04"
            ]
        ]
    },
    {
        "id": "13e032a.2acbbcd",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state heating power basement <= 0%",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "0",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "entity_id": "sensor.basement_heating",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_heating",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1210,
        "y": 560,
        "wires": [
            [
                "4e1d6c0e.bd6b44"
            ],
            []
        ]
    },
    {
        "id": "eaba4c18.04007",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state dewpoint living room ",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.living_room_dewpoint",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.living_room_dewpoint",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 370,
        "y": 140,
        "wires": [
            [
                "cbe4be0.ad6c74"
            ]
        ]
    },
    {
        "id": "476a9b5a.95d894",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state dewpoint master bedroom ",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.master_bedroom_dewpoint",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.master_bedroom_dewpoint",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 390,
        "y": 200,
        "wires": [
            [
                "ff0ab6a6.950ca8"
            ]
        ]
    },
    {
        "id": "4abb03cf.8c49ec",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state absolute humidity living room",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.living_room_absolutehumidity",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.living_room_absolutehumidity",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 400,
        "y": 260,
        "wires": [
            [
                "8a2090d8.a2185"
            ]
        ]
    },
    {
        "id": "599646a9.361b38",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state dewpoint living room ",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.living_room_dewpoint",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.living_room_dewpoint",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 370,
        "y": 440,
        "wires": [
            [
                "87cfa72a.3e07e8"
            ]
        ]
    },
    {
        "id": "87cfa72a.3e07e8",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state wall temperature basement  < dewpoint living room",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "sensor.living_room_dewpoint",
        "halt_if_type": "msg",
        "halt_if_compare": "gt",
        "entity_id": "sensor.basement_wall_temperature_offset",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_wall_temperature_offset",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 770,
        "y": 440,
        "wires": [
            [
                "e07eea7c.6e4af8"
            ],
            []
        ]
    },
    {
        "id": "e07eea7c.6e4af8",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state master bedroom dewpoint",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.master_bedroom_dewpoint",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.master_bedroom_dewpoint",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 390,
        "y": 500,
        "wires": [
            [
                "a028c18f.9355b"
            ]
        ]
    },
    {
        "id": "a028c18f.9355b",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state wall temperature basement < dewpoint master bedroom",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "sensor.master_bedroom_dewpoint",
        "halt_if_type": "msg",
        "halt_if_compare": "gt",
        "entity_id": "sensor.basement_wall_temperature_offset",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_wall_temperature_offset",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 780,
        "y": 500,
        "wires": [
            [
                "4bc7b417.d7b80c"
            ],
            []
        ]
    },
    {
        "id": "4bc7b417.d7b80c",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state absolute humidity living room",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.living_room_absolutehumidity",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.living_room_absolutehumidity",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 400,
        "y": 560,
        "wires": [
            [
                "56b3697b.621e98"
            ]
        ]
    },
    {
        "id": "56b3697b.621e98",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state absolute humidity basement > absolute humidity living room",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "sensor.living_room_absolutehumidity",
        "halt_if_type": "msg",
        "halt_if_compare": "gt",
        "entity_id": "sensor.basement_absolutehumidity",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_absolutehumidity",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 800,
        "y": 560,
        "wires": [
            [
                "13e032a.2acbbcd"
            ],
            []
        ]
    },
    {
        "id": "5066d89a.d3afd8",
        "type": "comment",
        "z": "4e909abe.0b62e4",
        "name": "MECHANICAL VENTILATION POSITION 2",
        "info": "",
        "x": 420,
        "y": 780,
        "wires": []
    },
    {
        "id": "240fac46.902e04",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state group persons home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "group.persons",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 370,
        "y": 820,
        "wires": [
            [
                "610ee8e1.0e94b8"
            ],
            [
                "65f41c8.8e8cde4"
            ]
        ]
    },
    {
        "id": "46771664.f639e8",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state ventilation position 2 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_2",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanical_ventilation_position_2",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1220,
        "y": 800,
        "wires": [
            [
                "54922ba7.31ebb4"
            ],
            []
        ]
    },
    {
        "id": "48b7ec1c.3e71b4",
        "type": "comment",
        "z": "4e909abe.0b62e4",
        "name": "MECHANICAL VENTILATION POSITION 3",
        "info": "",
        "x": 420,
        "y": 900,
        "wires": []
    },
    {
        "id": "b5d8b43d.943a18",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state ventilation position 3 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_3",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanical_ventilation_position_3",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1220,
        "y": 940,
        "wires": [
            [
                "320c3cf2.5620d4"
            ],
            []
        ]
    },
    {
        "id": "defe3bd3.cdc4d8",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "name": "state group person",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "group.persons",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 160,
        "wires": [
            [
                "eaba4c18.04007",
                "476a9b5a.95d894",
                "4abb03cf.8c49ec",
                "599646a9.361b38"
            ]
        ]
    },
    {
        "id": "4146f6c2.d77108",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "name": "state guest",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.guest",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 80,
        "y": 220,
        "wires": [
            [
                "eaba4c18.04007",
                "476a9b5a.95d894",
                "4abb03cf.8c49ec",
                "599646a9.361b38"
            ]
        ]
    },
    {
        "id": "55ffc090.d9b5b",
        "type": "comment",
        "z": "4e909abe.0b62e4",
        "name": "MECHANICAL VENTILATION POSITION MANUAL",
        "info": "",
        "x": 450,
        "y": 1020,
        "wires": []
    },
    {
        "id": "7fcc0134.64917",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "name": "state mechanical ventilation position 1 on",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.mechanical_ventilation_position_1",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 420,
        "y": 1060,
        "wires": [
            [
                "9e8a7cf7.88d51"
            ],
            []
        ]
    },
    {
        "id": "1a262b04.0f6c75",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "name": "state autonomous",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.mechanical_ventilation_autonomous",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 280,
        "wires": [
            [
                "eaba4c18.04007",
                "476a9b5a.95d894",
                "4abb03cf.8c49ec",
                "599646a9.361b38"
            ]
        ]
    },
    {
        "id": "533ea7cb.8c5ca8",
        "type": "comment",
        "z": "4e909abe.0b62e4",
        "name": "MECHANICAL VENTILATION POSITION 1",
        "info": "",
        "x": 420,
        "y": 680,
        "wires": []
    },
    {
        "id": "4e1d6c0e.bd6b44",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state autonomous on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_autonomous",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanische_ventilatie_autonoom",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1480,
        "y": 560,
        "wires": [
            [
                "52a3b09f.ae48"
            ],
            []
        ]
    },
    {
        "id": "52a3b09f.ae48",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state humidity basement >= 60%",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "60",
        "halt_if_type": "num",
        "halt_if_compare": "gt",
        "entity_id": "sensor.basement_humidity",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_humidity",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 400,
        "y": 620,
        "wires": [
            [
                "e21c63fd.6345e"
            ],
            [
                "4b24c6f.ecf9538"
            ]
        ]
    },
    {
        "id": "e21c63fd.6345e",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state temperature basement ",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.basement_temperature",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_temperature",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 680,
        "y": 620,
        "wires": [
            [
                "d21542c5.837e4"
            ]
        ]
    },
    {
        "id": "d21542c5.837e4",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state temperature living room",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.living_room_temperature",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.living_room_temperature",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 940,
        "y": 620,
        "wires": [
            [
                "ea92ebb5.4d1288"
            ]
        ]
    },
    {
        "id": "ea92ebb5.4d1288",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state humidity living room",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.living_room_humidity",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.living_room_humidity",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1190,
        "y": 620,
        "wires": [
            [
                "a037b96e.97bc58"
            ]
        ]
    },
    {
        "id": "9a6df146.3a1aa",
        "type": "api-call-service",
        "z": "4e909abe.0b62e4",
        "name": "app notification",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "persistent_notification",
        "service": "create",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"notification_id\":\"{{notification_id}}\",\"message\":\"{{message}}\",\"title\":\"{{topic}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 2400,
        "y": 1160,
        "wires": [
            [
                "27cc17cd.025b08"
            ]
        ]
    },
    {
        "id": "c7b58913.752ad8",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{topic}} stand 2 is automatisch ingeschakeld.",
        "output": "str",
        "x": 1700,
        "y": 800,
        "wires": [
            [
                "8373567d.35b008"
            ]
        ]
    },
    {
        "id": "5ce9303e.d40b8",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{topic}} stand 3 is automatisch ingeschakeld.",
        "output": "str",
        "x": 1700,
        "y": 940,
        "wires": [
            [
                "8373567d.35b008"
            ]
        ]
    },
    {
        "id": "8373567d.35b008",
        "type": "change",
        "z": "4e909abe.0b62e4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Mechanische Ventilatie",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notification_id",
                "pt": "msg",
                "to": "Mechanische Ventilatie",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1980,
        "y": 1160,
        "wires": [
            [
                "1c8856d3.d19249",
                "289089f4.e41b76"
            ]
        ]
    },
    {
        "id": "a037b96e.97bc58",
        "type": "change",
        "z": "4e909abe.0b62e4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Mechanische ventilatie",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 620,
        "wires": [
            [
                "e07362ff.ad189"
            ]
        ]
    },
    {
        "id": "27cc17cd.025b08",
        "type": "delay",
        "z": "4e909abe.0b62e4",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 2560,
        "y": 1160,
        "wires": [
            [
                "f05f69b7b628264f"
            ]
        ]
    },
    {
        "id": "610ee8e1.0e94b8",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state humidity basement < 65%",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "65",
        "halt_if_type": "num",
        "halt_if_compare": "lt",
        "entity_id": "sensor.basement_humidity",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_humidity",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 730,
        "y": 820,
        "wires": [
            [
                "46771664.f639e8"
            ],
            [
                "adc16743.ab04f8"
            ]
        ]
    },
    {
        "id": "adc16743.ab04f8",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state thermostate living room off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "heat",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "climate.living_room",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 990,
        "y": 880,
        "wires": [
            [
                "65f41c8.8e8cde4"
            ],
            [
                "46771664.f639e8"
            ]
        ]
    },
    {
        "id": "65f41c8.8e8cde4",
        "type": "time-range-switch",
        "z": "4e909abe.0b62e4",
        "name": "",
        "lat": "52.04436",
        "lon": "5.67134",
        "startTime": "09:00",
        "endTime": "22:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 330,
        "y": 940,
        "wires": [
            [
                "b5d8b43d.943a18"
            ],
            [
                "46771664.f639e8"
            ]
        ]
    },
    {
        "id": "320c3cf2.5620d4",
        "type": "subflow:7d5d30e3.483af",
        "z": "4e909abe.0b62e4",
        "name": "",
        "env": [],
        "x": 1490,
        "y": 940,
        "wires": [
            [
                "5ce9303e.d40b8"
            ]
        ]
    },
    {
        "id": "d2804939.6f48f8",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Mechanische ventilatie is uitgeschakeld, lucht uit de slaapkamer condenseert tegen de koudste oppervlakte in de kelder. \\n \\nTemperatuur koudste oppervlakte in de kelder is {{sensor.basement_wall_temperature_offset}}  \\nDauwpunt van de lucht in de mslaapkmer is {{ssensor.master_bedroom_dewpoint}}    ",
        "output": "str",
        "x": 1120,
        "y": 200,
        "wires": [
            [
                "476cfb88.13ea74"
            ]
        ]
    },
    {
        "id": "b8424afd.8d7fe8",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Mechanische ventilatie is uitgeschakeld, de absolute vochtinhoud in de woonkamer {{sensor.living_room_absolutehumidity}} g/m is hoger dan in de kelder {{sensor.basement_absolutehumidity}} g/m",
        "output": "str",
        "x": 1120,
        "y": 260,
        "wires": [
            [
                "476cfb88.13ea74"
            ]
        ]
    },
    {
        "id": "3c8358ad.4658e8",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Mechanische ventilatie is uitgeschakeld, de verwarming in de kelder staat aan. \\n \\nKelder Heating Power is {{payload}}%",
        "output": "str",
        "x": 1120,
        "y": 320,
        "wires": [
            [
                "476cfb88.13ea74"
            ]
        ]
    },
    {
        "id": "476cfb88.13ea74",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state ventilation position 0 off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_position_0",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanische_ventilatie_stand_uit",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1340,
        "y": 220,
        "wires": [
            [
                "d38a7750.f848b8"
            ],
            []
        ]
    },
    {
        "id": "d38a7750.f848b8",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state mechanical ventilation autonomous on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_autonomous",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanische_ventilatie_autonoom",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1650,
        "y": 220,
        "wires": [
            [
                "83e00d58.7e733"
            ],
            []
        ]
    },
    {
        "id": "f5c03471.585f88",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "name": "state mechanical ventilation position 2 on",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.mechanical_ventilation_position_2",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 420,
        "y": 1120,
        "wires": [
            [
                "5fba04f5.3847ac"
            ],
            []
        ]
    },
    {
        "id": "fce79366.4dc17",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "name": "state mechanical ventilation position 3 on",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.mechanical_ventilation_position_3",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 420,
        "y": 1180,
        "wires": [
            [
                "cbdc5416.0cbcd8"
            ],
            []
        ]
    },
    {
        "id": "9c749cb3.fd1b8",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "name": "state mechanical ventilation position 0 on",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.mechanical_ventilation_position_0",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 420,
        "y": 1240,
        "wires": [
            [
                "91b0640c.1b4d68"
            ],
            []
        ]
    },
    {
        "id": "9e8a7cf7.88d51",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Mechanische Ventilatie stand 1 is handmatig ingeschakeld.",
        "output": "str",
        "x": 680,
        "y": 1060,
        "wires": [
            [
                "46d491e1.18c83"
            ]
        ]
    },
    {
        "id": "5fba04f5.3847ac",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Mechanische Ventilatie stand 2 is handmatig ingeschakeld.",
        "output": "str",
        "x": 680,
        "y": 1120,
        "wires": [
            [
                "46d491e1.18c83"
            ]
        ]
    },
    {
        "id": "cbdc5416.0cbcd8",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Mechanische Ventilatie stand 3 is handmatig ingeschakeld.",
        "output": "str",
        "x": 680,
        "y": 1180,
        "wires": [
            [
                "46d491e1.18c83"
            ]
        ]
    },
    {
        "id": "91b0640c.1b4d68",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Mechanische Ventilatie is handmatig uitgeschakeld.",
        "output": "str",
        "x": 680,
        "y": 1240,
        "wires": [
            [
                "46d491e1.18c83"
            ]
        ]
    },
    {
        "id": "46d491e1.18c83",
        "type": "api-current-state",
        "z": "4e909abe.0b62e4",
        "name": "state mechanical ventilation autonomous off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.mechanical_ventilation_autonomous",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.mechanische_ventilatie_autonoom",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 990,
        "y": 1160,
        "wires": [
            [
                "8373567d.35b008"
            ],
            []
        ]
    },
    {
        "id": "83e00d58.7e733",
        "type": "subflow:ae97b8c4.cadf68",
        "z": "4e909abe.0b62e4",
        "name": "",
        "env": [],
        "x": 1970,
        "y": 220,
        "wires": [
            [
                "8373567d.35b008"
            ]
        ]
    },
    {
        "id": "54922ba7.31ebb4",
        "type": "subflow:279f5735.2f95d8",
        "z": "4e909abe.0b62e4",
        "name": "",
        "x": 1490,
        "y": 800,
        "wires": [
            [
                "c7b58913.752ad8"
            ]
        ]
    },
    {
        "id": "7b52e1a6.51c84",
        "type": "comment",
        "z": "4e909abe.0b62e4",
        "name": "INPUT BOOLEAN MECHANICAL VENTILATION",
        "info": "",
        "x": 440,
        "y": 1300,
        "wires": []
    },
    {
        "id": "dcb087f1.7dab78",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "name": "state mechanical ventilation position 0 on",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.mechanical_ventilation_position_0",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 420,
        "y": 1340,
        "wires": [
            [
                "1bd4cbe8.185c54"
            ],
            []
        ]
    },
    {
        "id": "8e51a253.d8dde",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "name": "state mechanical ventilation position 1 on",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.mechanical_ventilation_position_1",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 420,
        "y": 1400,
        "wires": [
            [
                "234dfa41.bd6986"
            ],
            []
        ]
    },
    {
        "id": "c83efd35.f7a48",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "name": "state mechanical ventilation position 2 on",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.mechanical_ventilation_position_2",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 420,
        "y": 1460,
        "wires": [
            [
                "66f4c227.6b8aac"
            ],
            []
        ]
    },
    {
        "id": "cb035d1b.0d3f9",
        "type": "server-state-changed",
        "z": "4e909abe.0b62e4",
        "name": "state mechanical ventilation position 3 on",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.mechanical_ventilation_position_3",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 420,
        "y": 1520,
        "wires": [
            [
                "6e490cae.31f974"
            ],
            []
        ]
    },
    {
        "id": "234dfa41.bd6986",
        "type": "subflow:db575387.da1ff",
        "z": "4e909abe.0b62e4",
        "name": "",
        "env": [],
        "x": 750,
        "y": 1400,
        "wires": [
            []
        ]
    },
    {
        "id": "1bd4cbe8.185c54",
        "type": "subflow:ae97b8c4.cadf68",
        "z": "4e909abe.0b62e4",
        "name": "",
        "env": [],
        "x": 750,
        "y": 1340,
        "wires": [
            []
        ]
    },
    {
        "id": "6e490cae.31f974",
        "type": "subflow:7d5d30e3.483af",
        "z": "4e909abe.0b62e4",
        "name": "",
        "env": [],
        "x": 750,
        "y": 1520,
        "wires": [
            []
        ]
    },
    {
        "id": "66f4c227.6b8aac",
        "type": "subflow:279f5735.2f95d8",
        "z": "4e909abe.0b62e4",
        "name": "",
        "x": 750,
        "y": 1460,
        "wires": [
            []
        ]
    },
    {
        "id": "1c8856d3.d19249",
        "type": "change",
        "z": "4e909abe.0b62e4",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "message",
                "pt": "msg",
                "from": "\\n",
                "fromt": "str",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2180,
        "y": 1160,
        "wires": [
            [
                "9a6df146.3a1aa"
            ]
        ]
    },
    {
        "id": "c12f7192.293c9",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Mechanische ventilatie is uitgeschakeld, lucht van boven condenseert tegen de koudste oppervlakte in de kelder. \\n \\nTemperatuur koudste oppervlakte in de kelder is {{sensor.basement_wall_temperature_offset}}  \\nDauwpunt van de lucht in de woonkamer is{{sensor.living_room_dewpoint}}  ",
        "output": "str",
        "x": 1120,
        "y": 140,
        "wires": [
            [
                "476cfb88.13ea74"
            ]
        ]
    },
    {
        "id": "f58250ec.e0fa1",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{topic}} stand 1 is automatisch ingeschakeld. Het is buiten {{{sensor.buienradar_temperature}}} {{data.attributes.unit_of_measurement}}",
        "output": "str",
        "x": 980,
        "y": 740,
        "wires": [
            [
                "bfdcba16.625018"
            ]
        ]
    },
    {
        "id": "4b24c6f.ecf9538",
        "type": "template",
        "z": "4e909abe.0b62e4",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{topic}} stand 1 is automatisch ingeschakeld. De luchtvochtigheid in de kelder is {{sensor.basement_humidity}} {{data.attributes.unit_of_measurement}}",
        "output": "str",
        "x": 980,
        "y": 700,
        "wires": [
            [
                "bfdcba16.625018"
            ]
        ]
    },
    {
        "id": "289089f4.e41b76",
        "type": "link out",
        "z": "4e909abe.0b62e4",
        "name": "",
        "links": [
            "ebf4860d.603538"
        ],
        "x": 2095,
        "y": 1100,
        "wires": []
    },
    {
        "id": "f05f69b7b628264f",
        "type": "ha-sensor",
        "z": "4e909abe.0b62e4",
        "name": "Message Ventilatie",
        "entityConfig": "24b246c8.4c72fa",
        "version": 0,
        "state": "message",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 2750,
        "y": 1160,
        "wires": [
            []
        ]
    },
    {
        "id": "46fd77b05f226788",
        "type": "comment",
        "z": "4e909abe.0b62e4",
        "name": "basement ventilation",
        "info": "",
        "x": 110,
        "y": 40,
        "wires": []
    },
    {
        "id": "3f57f7c64c501b93",
        "type": "subflow:ae97b8c4.cadf68",
        "z": "4e909abe.0b62e4",
        "name": "",
        "x": 1490,
        "y": 720,
        "wires": [
            [
                "8373567d.35b008"
            ]
        ]
    },
    {
        "id": "968aec4f.db7b8",
        "type": "comment",
        "z": "b1a9214c.4c71c",
        "name": "basement window",
        "info": "",
        "x": 110,
        "y": 40,
        "wires": []
    },
    {
        "id": "8469a147.10964",
        "type": "server-state-changed",
        "z": "b1a9214c.4c71c",
        "name": "state buienradar precipitation > 0",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.buienradar_precipitation",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "num",
        "haltifstate": "0",
        "halt_if_type": "num",
        "halt_if_compare": "gt",
        "outputs": 2,
        "output_only_on_state_change": false,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "sensor.buienradar_precipitation",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 220,
        "wires": [
            [
                "c431f228.97084"
            ],
            [
                "6692dae9.7caa84"
            ]
        ]
    },
    {
        "id": "6692dae9.7caa84",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state absolute humidity basement",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.basement_absolutehumidity",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_absolutehumidity",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 500,
        "y": 320,
        "wires": [
            [
                "1c1129d.09d62d6"
            ]
        ]
    },
    {
        "id": "c0684245.6628d",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state absolute humidity outdoor > absolute humidity basement",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "sensor.basement_absolutehumidity",
        "halt_if_type": "msg",
        "halt_if_compare": "gt",
        "entity_id": "sensor.outdoor_absolutehumidity",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.outdoor_absolutehumidity",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 870,
        "y": 380,
        "wires": [
            [
                "98a47a1b.d6fcc8"
            ],
            [
                "fef0521b.1d64e"
            ]
        ]
    },
    {
        "id": "7adaadb8.c5f204",
        "type": "inject",
        "z": "b1a9214c.4c71c",
        "name": "start_flow",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "900",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "start_flow",
        "payloadType": "str",
        "x": 90,
        "y": 320,
        "wires": [
            [
                "6692dae9.7caa84"
            ]
        ]
    },
    {
        "id": "6822779.5aa9588",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state temperature outdoor > temperature basement",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "sensor.basement_temperature",
        "halt_if_type": "msg",
        "halt_if_compare": "gt",
        "entity_id": "sensor.buienradar_temperature",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.buienradar_temperature",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 550,
        "y": 620,
        "wires": [
            [
                "1991431c.890dcd"
            ],
            [
                "6f49345.883a1cc"
            ]
        ]
    },
    {
        "id": "b5938ee.f7bec7",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "Basement Heating Power <= 0%",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "0",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "entity_id": "sensor.basement_heating",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_heating",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 490,
        "y": 560,
        "wires": [
            [
                "6822779.5aa9588"
            ],
            []
        ]
    },
    {
        "id": "f82739ec.0019e8",
        "type": "server-state-changed",
        "z": "b1a9214c.4c71c",
        "name": "state heating power basement > 1%",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.basement_heating",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "num",
        "haltifstate": "1",
        "halt_if_type": "num",
        "halt_if_compare": "gt",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "sensor.basement_heating",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 160,
        "y": 100,
        "wires": [
            [
                "8c82a32b.762e7"
            ],
            [
                "6692dae9.7caa84"
            ]
        ]
    },
    {
        "id": "fef0521b.1d64e",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state precipitation buienradar <= 0",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "0",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "entity_id": "sensor.buienradar_precipitation",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.ede_precipitation",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 500,
        "y": 440,
        "wires": [
            [
                "5be90bde.fa4314"
            ],
            []
        ]
    },
    {
        "id": "ee13c1d1.9b3f2",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state basement window off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.basement_window",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.basement_ramen",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1440,
        "y": 520,
        "wires": [
            [
                "23480068.33efc"
            ],
            []
        ]
    },
    {
        "id": "23480068.33efc",
        "type": "api-call-service",
        "z": "b1a9214c.4c71c",
        "name": "turn on basement window",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.basement_ramen"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "basementraam",
                "propertyType": "msg",
                "value": "",
                "valueType": "data"
            }
        ],
        "queue": "none",
        "x": 1690,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "704b917a.b0214",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state basement window on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.basement_window",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.basement_ramen",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1440,
        "y": 420,
        "wires": [
            [
                "d4f8c710.220648"
            ],
            []
        ]
    },
    {
        "id": "d4f8c710.220648",
        "type": "api-call-service",
        "z": "b1a9214c.4c71c",
        "name": "turn off basement window",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.basement_window"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "basementraam",
                "propertyType": "msg",
                "value": "",
                "valueType": "data"
            }
        ],
        "queue": "none",
        "x": 1690,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "6f49345.883a1cc",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state temperature outdoor > 18",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "18",
        "halt_if_type": "num",
        "halt_if_compare": "gt",
        "entity_id": "sensor.buienradar_temperature",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.buienradar_temperature",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 490,
        "y": 680,
        "wires": [
            [
                "1991431c.890dcd"
            ],
            []
        ]
    },
    {
        "id": "b236d4c0.c39c38",
        "type": "server-state-changed",
        "z": "b1a9214c.4c71c",
        "name": "state buienradar condition rainy",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.buienradar_condition",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "rainy",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "weather.buienradar",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 160,
        "wires": [
            [
                "8bf50cc4.c9593"
            ],
            [
                "6692dae9.7caa84"
            ]
        ]
    },
    {
        "id": "5be90bde.fa4314",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state condidtion buienrader not rainy",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "rainy",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "sensor.buienradar_condition",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.ede_precipitation",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 510,
        "y": 500,
        "wires": [
            [
                "b5938ee.f7bec7"
            ],
            []
        ]
    },
    {
        "id": "8bf50cc4.c9593",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "name": "",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Sluit de ramen in de kelder, het regent.",
        "output": "str",
        "x": 1200,
        "y": 160,
        "wires": [
            [
                "704b917a.b0214",
                "d72ab58.1d91948"
            ]
        ]
    },
    {
        "id": "c431f228.97084",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "name": "",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Sluit de ramen in de kelder, dit uur gaat het {{payload}} mm regenen.",
        "output": "str",
        "x": 1200,
        "y": 220,
        "wires": [
            [
                "704b917a.b0214",
                "d72ab58.1d91948"
            ]
        ]
    },
    {
        "id": "1c1129d.09d62d6",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state basement temperature",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.basement_temperature",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.basement_temperature",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 780,
        "y": 320,
        "wires": [
            [
                "18c2e5bb.4c0cfa"
            ]
        ]
    },
    {
        "id": "18c2e5bb.4c0cfa",
        "type": "api-current-state",
        "z": "b1a9214c.4c71c",
        "name": "state buienradar temperature",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.buienradar_temperature",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "sensor.buienradar_temperature",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 480,
        "y": 380,
        "wires": [
            [
                "c0684245.6628d"
            ]
        ]
    },
    {
        "id": "8c82a32b.762e7",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Sluit de ramen, de verwarming in de kelder staat aan. \\n \\nKelder Heating Power is {{sensor.basement_heating}} %",
        "output": "str",
        "x": 1200,
        "y": 100,
        "wires": [
            [
                "704b917a.b0214",
                "d72ab58.1d91948"
            ]
        ]
    },
    {
        "id": "1991431c.890dcd",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Open de ramen in de kelder, buiten is de vochtinhoud lager en temperatuur hoger. \\n \\nAbsolute vochtinhoud buiten: {{sensor.outdoor_absolutehumidity}} g/m \\nAbsolute vochtinhoud basement: {{sensor.basement_absolutehumidity}} g/m \\n \\nTemperatuur buiten: {{sensor.buienradar_temperature}} C \\nTemperatuur basement: {{sensor.basement_temperature}} C",
        "output": "str",
        "x": 1200,
        "y": 520,
        "wires": [
            [
                "ee13c1d1.9b3f2",
                "d72ab58.1d91948"
            ]
        ]
    },
    {
        "id": "98a47a1b.d6fcc8",
        "type": "template",
        "z": "b1a9214c.4c71c",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Sluit de ramen in de basement, buiten is de vochtinhoud hoger of de temperatuur lager. \\n \\nAbsolute vochtinhoud buiten: {{sensor.outdoor_absolutehumidity}} g/m \\nAbsolute vochtinhoud basement: {{sensor.basement_absolutehumidity}} g/m \\n \\nTemperatuur buiten: {{sensor.buienradar_temperature}} C \\nTemperatuur basement: {{sensor.basement_temperature}} C",
        "output": "str",
        "x": 1200,
        "y": 380,
        "wires": [
            [
                "704b917a.b0214",
                "d72ab58.1d91948"
            ]
        ]
    },
    {
        "id": "d72ab58.1d91948",
        "type": "link out",
        "z": "b1a9214c.4c71c",
        "name": "",
        "links": [
            "ebf4860d.603538"
        ],
        "x": 1475,
        "y": 160,
        "wires": []
    },
    {
        "id": "7f384e9c.a03be",
        "type": "api-call-service",
        "z": "2751da37.549936",
        "name": "turn on guest mode",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.guest"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 870,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "71978835.1dc428",
        "type": "function",
        "z": "2751da37.549936",
        "name": "set start time",
        "func": "// Written by Coen Stam\n\n// Create time from start_time attribute\nmsg.payload = {};\nmsg.payload.ontime = msg.data.new_state.attributes.start_time.substr(11, 5);\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 490,
        "y": 100,
        "wires": [
            [
                "14e85e99.eee3d1"
            ]
        ]
    },
    {
        "id": "c033dd4a.d83ea",
        "type": "function",
        "z": "2751da37.549936",
        "name": "check word in message",
        "func": "// Written by Coen Stam\n\n// Check if new state contains word\nvar string = msg.data.new_state.attributes.message;\nvar word = \"past op\";\n\n// If new state contains word return msg\nif (string.includes(word))\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 290,
        "y": 100,
        "wires": [
            [
                "71978835.1dc428"
            ]
        ]
    },
    {
        "id": "64bd05aa.cd535c",
        "type": "server-state-changed",
        "z": "2751da37.549936",
        "name": "calendar lise",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "calendar.lise",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": false,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 90,
        "y": 100,
        "wires": [
            [
                "c033dd4a.d83ea"
            ]
        ]
    },
    {
        "id": "c01434c9.7568a8",
        "type": "comment",
        "z": "2751da37.549936",
        "name": "set guest mode to on when calendar event contains\"past op\" ",
        "info": "set guest mode to on when calendar event contains\"past op\" ",
        "x": 240,
        "y": 40,
        "wires": []
    },
    {
        "id": "14e85e99.eee3d1",
        "type": "schedex",
        "z": "2751da37.549936",
        "name": "schedule -90 min",
        "passthroughunhandled": false,
        "suspended": false,
        "lat": "",
        "lon": "",
        "ontime": "",
        "ontopic": "",
        "onpayload": "",
        "onoffset": "-90",
        "onrandomoffset": 0,
        "offtime": "",
        "offtopic": "",
        "offpayload": "",
        "offoffset": 0,
        "offrandomoffset": 0,
        "mon": true,
        "tue": true,
        "wed": true,
        "thu": true,
        "fri": true,
        "sat": true,
        "sun": true,
        "x": 670,
        "y": 100,
        "wires": [
            [
                "7f384e9c.a03be"
            ]
        ]
    },
    {
        "id": "785845af.a1799c",
        "type": "server-state-changed",
        "z": "9605dd85.f395a",
        "name": "calendar prompt7",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "calendar.prompt7",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            }
        ],
        "x": 100,
        "y": 100,
        "wires": [
            [
                "377073a9.cc38cc"
            ]
        ]
    },
    {
        "id": "377073a9.cc38cc",
        "type": "function",
        "z": "9605dd85.f395a",
        "name": "check word in message",
        "func": "// Written by Coen Stam\n\n// Check if new state contains word\nvar string = msg.data.new_state.attributes.message;\nvar word = \"DEVELOPMENT\";\n\n// If new state contains word return msg\nif (string.includes(word))\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 310,
        "y": 100,
        "wires": [
            [
                "cf80420b.1f783"
            ]
        ]
    },
    {
        "id": "cf80420b.1f783",
        "type": "function",
        "z": "9605dd85.f395a",
        "name": "set start time",
        "func": "// Written by Coen Stam\n\n// Create time from start_time attribute\nmsg.payload = {};\nmsg.payload.ontime = msg.data.new_state.attributes.start_time.substr(11, 5);\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 510,
        "y": 100,
        "wires": [
            [
                "6ad4cba8.7d5a14"
            ]
        ]
    },
    {
        "id": "e9171ff7.af43b",
        "type": "api-call-service",
        "z": "9605dd85.f395a",
        "name": "set temperature climate basement",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "climate",
        "service": "set_temperature",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.basement"
        ],
        "data": "{\"hvac_mode\":\"heat\",\"temperature\":19}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1140,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "2c83e3ef.9f7cac",
        "type": "comment",
        "z": "9605dd85.f395a",
        "name": "turn on basement heating when calendar event contains \"development\" and coen is home. When state person.coen changed to not_home heating will go to auto mode",
        "info": "turn on basement heating when calendar event contains \"development\" and coen is home. When state person.coen changed to not_home heating will go to auto mode",
        "x": 570,
        "y": 40,
        "wires": []
    },
    {
        "id": "2bbaf616.ec124a",
        "type": "api-current-state",
        "z": "9605dd85.f395a",
        "name": "person coen is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.coen",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 880,
        "y": 100,
        "wires": [
            [
                "e9171ff7.af43b"
            ],
            []
        ]
    },
    {
        "id": "aedcd937.1ca508",
        "type": "server-state-changed",
        "z": "9605dd85.f395a",
        "name": "person coen is not home",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "person.coen",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 160,
        "wires": [
            [
                "a2e5ff99.41b23"
            ],
            []
        ]
    },
    {
        "id": "a2894712.f96908",
        "type": "function",
        "z": "9605dd85.f395a",
        "name": "check word in message",
        "func": "// Written by Coen Stam\n\n// Check if new state contains word\nvar string = msg.data.attributes.message;\nvar word = \"DEVELOPMENT\";\n\n// If new state contains word return msg\nif (string.includes(word))\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 550,
        "y": 160,
        "wires": [
            [
                "1a80c797.424038"
            ]
        ]
    },
    {
        "id": "a2e5ff99.41b23",
        "type": "api-current-state",
        "z": "9605dd85.f395a",
        "name": "calendar state",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "calendar.prompt7",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 340,
        "y": 160,
        "wires": [
            [
                "a2894712.f96908"
            ]
        ]
    },
    {
        "id": "1a80c797.424038",
        "type": "api-call-service",
        "z": "9605dd85.f395a",
        "name": "set temperature climate basement",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "climate",
        "service": "set_hvac_mode",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.basement"
        ],
        "data": "{\"hvac_mode\":\"auto\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 920,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "6ad4cba8.7d5a14",
        "type": "schedex",
        "z": "9605dd85.f395a",
        "name": "schedule",
        "passthroughunhandled": false,
        "suspended": false,
        "lat": "",
        "lon": "",
        "ontime": "",
        "ontopic": "",
        "onpayload": "",
        "onoffset": "",
        "onrandomoffset": 0,
        "offtime": "",
        "offtopic": "",
        "offpayload": "",
        "offoffset": 0,
        "offrandomoffset": 0,
        "mon": true,
        "tue": true,
        "wed": true,
        "thu": true,
        "fri": true,
        "sat": true,
        "sun": true,
        "x": 680,
        "y": 100,
        "wires": [
            [
                "2bbaf616.ec124a"
            ]
        ]
    },
    {
        "id": "7f181c3a969cf13c",
        "type": "join",
        "z": "46d98b35c2eee05b",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "",
        "propertyType": "full",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 470,
        "y": 100,
        "wires": [
            [
                "ef67c1284ddb8eed"
            ]
        ]
    },
    {
        "id": "ef67c1284ddb8eed",
        "type": "function",
        "z": "46d98b35c2eee05b",
        "name": "calculation",
        "func": "// Make delivered value negative\nmsg.delivered =- parseFloat(msg.delivered);\n\n// Sum two values\nmsg.sum = parseFloat(msg.returned) + msg.delivered;\n\n// Set 3 decimals. Side effect is string value\nmsg.payload = msg.sum.toFixed(3) \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 100,
        "wires": [
            [
                "99a64ef46dadb061"
            ]
        ]
    },
    {
        "id": "ba77f8da98851350",
        "type": "api-current-state",
        "z": "46d98b35c2eee05b",
        "name": "state currently returned",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.dsmr_reading_electricity_currently_returned",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "returned",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 270,
        "y": 160,
        "wires": [
            [
                "7f181c3a969cf13c"
            ]
        ]
    },
    {
        "id": "6fc7768f0e0e7113",
        "type": "api-current-state",
        "z": "46d98b35c2eee05b",
        "name": "state currently delivered",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "entity_id": "sensor.dsmr_reading_electricity_currently_delivered",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "delivered",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 270,
        "y": 100,
        "wires": [
            [
                "7f181c3a969cf13c"
            ]
        ]
    },
    {
        "id": "8dc59865117f6040",
        "type": "inject",
        "z": "46d98b35c2eee05b",
        "name": "",
        "props": [],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "x": 70,
        "y": 100,
        "wires": [
            [
                "6fc7768f0e0e7113",
                "ba77f8da98851350"
            ]
        ]
    },
    {
        "id": "fc249a2f095e860f",
        "type": "comment",
        "z": "46d98b35c2eee05b",
        "name": "energy sensor",
        "info": "",
        "x": 90,
        "y": 40,
        "wires": []
    },
    {
        "id": "99a64ef46dadb061",
        "type": "ha-sensor",
        "z": "46d98b35c2eee05b",
        "name": "custom_energy",
        "entityConfig": "7befa0b16196877c",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 780,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "a9e7c050.c05b5",
        "type": "comment",
        "z": "ccde11d9.8710d",
        "name": "camera snapshot",
        "info": "",
        "x": 100,
        "y": 40,
        "wires": []
    },
    {
        "id": "7535c220.a30c6c",
        "type": "api-call-service",
        "z": "ccde11d9.8710d",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "shell_command",
        "service": "camera_snapshot",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 340,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "3534d5d4.983eca",
        "type": "cronplus",
        "z": "ccde11d9.8710d",
        "name": "every 5 minutes",
        "outputField": "payload",
        "timeZone": "",
        "persistDynamic": false,
        "commandResponseMsgOutput": "output1",
        "outputs": 1,
        "options": [
            {
                "name": "schedule1",
                "topic": "schedule1",
                "payloadType": "default",
                "payload": "",
                "expressionType": "cron",
                "expression": "*/5 * * * *",
                "location": "",
                "offset": "0",
                "solarType": "all",
                "solarEvents": "sunrise,sunset"
            }
        ],
        "x": 100,
        "y": 100,
        "wires": [
            [
                "7535c220.a30c6c"
            ]
        ]
    },
    {
        "id": "a204cf33.7f292",
        "type": "switch",
        "z": "2437e768.8e34d8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "2",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "1.5",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 510,
        "y": 100,
        "wires": [
            [
                "5914d077.55a55"
            ],
            [
                "ce869786.78dec8"
            ]
        ]
    },
    {
        "id": "36f24fd5.59924",
        "type": "change",
        "z": "2437e768.8e34d8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 80,
        "wires": [
            [
                "b2d5fbb39de423d4"
            ]
        ]
    },
    {
        "id": "54b1f381.39c02c",
        "type": "change",
        "z": "2437e768.8e34d8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 120,
        "wires": [
            [
                "b2d5fbb39de423d4"
            ]
        ]
    },
    {
        "id": "5914d077.55a55",
        "type": "api-current-state",
        "z": "2437e768.8e34d8",
        "name": "state is not on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "binary_sensor.dishwasher",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 660,
        "y": 80,
        "wires": [
            [
                "36f24fd5.59924"
            ],
            []
        ]
    },
    {
        "id": "ce869786.78dec8",
        "type": "api-current-state",
        "z": "2437e768.8e34d8",
        "name": "state is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "binary_sensor.dishwasher",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 660,
        "y": 120,
        "wires": [
            [
                "54b1f381.39c02c"
            ],
            []
        ]
    },
    {
        "id": "726bf3cc.81938c",
        "type": "trigger-state",
        "z": "2437e768.8e34d8",
        "name": "state dishwasher watt",
        "server": "4ba92433.2478cc",
        "version": 2,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityid": "sensor.wall_plug_switch_electric_consumption_w",
        "entityidfiltertype": "exact",
        "debugenabled": false,
        "constraints": [],
        "inputs": 1,
        "outputs": 2,
        "customoutputs": [],
        "outputinitially": true,
        "state_type": "num",
        "enableInput": true,
        "x": 120,
        "y": 100,
        "wires": [
            [
                "376373ce.b5758c"
            ],
            []
        ]
    },
    {
        "id": "df63c0c7.3e92",
        "type": "template",
        "z": "2437e768.8e34d8",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De vaatwasser is klaar.",
        "output": "str",
        "x": 1320,
        "y": 100,
        "wires": [
            [
                "6646c95c.546ca8"
            ]
        ]
    },
    {
        "id": "ef6b748.eeaf388",
        "type": "switch",
        "z": "2437e768.8e34d8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1190,
        "y": 100,
        "wires": [
            [
                "df63c0c7.3e92"
            ]
        ]
    },
    {
        "id": "376373ce.b5758c",
        "type": "stoptimer",
        "z": "2437e768.8e34d8",
        "duration": "10",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 350,
        "y": 100,
        "wires": [
            [
                "a204cf33.7f292"
            ],
            []
        ]
    },
    {
        "id": "b90a9b01.857bf8",
        "type": "comment",
        "z": "2437e768.8e34d8",
        "name": "dishwasher",
        "info": "",
        "x": 90,
        "y": 40,
        "wires": []
    },
    {
        "id": "6646c95c.546ca8",
        "type": "link out",
        "z": "2437e768.8e34d8",
        "name": "",
        "links": [
            "ebf4860d.603538"
        ],
        "x": 1415,
        "y": 100,
        "wires": []
    },
    {
        "id": "b2d5fbb39de423d4",
        "type": "ha-binary-sensor",
        "z": "2437e768.8e34d8",
        "name": "sensor dishwasher",
        "entityConfig": "7ebeacd9.171704",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1030,
        "y": 100,
        "wires": [
            [
                "ef6b748.eeaf388"
            ]
        ]
    },
    {
        "id": "aa8eb1c4.30d7e",
        "type": "server-state-changed",
        "z": "3637eeb0.d96232",
        "name": "state doorbell button on",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.doorbell_button",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 180,
        "wires": [
            [
                "f98986e3.e78848",
                "11f67152.16638f",
                "a97cf09e.3c5d8",
                "fa85ecea.e1cdd"
            ],
            []
        ]
    },
    {
        "id": "bc0b175d.2363b8",
        "type": "ha-wait-until",
        "z": "3637eeb0.d96232",
        "name": "wait until front door on",
        "server": "4ba92433.2478cc",
        "version": 2,
        "outputs": 2,
        "entityId": "binary_sensor.recessed_door_sensor_gen5_window_door_is_open",
        "entityIdFilterType": "exact",
        "property": "state",
        "comparator": "is",
        "value": "on",
        "valueType": "str",
        "timeout": "60",
        "timeoutType": "num",
        "timeoutUnits": "seconds",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "x": 900,
        "y": 260,
        "wires": [
            [
                "45dfd14d.84864"
            ],
            [
                "5fb184d4.6599ac"
            ]
        ]
    },
    {
        "id": "5fb184d4.6599ac",
        "type": "template",
        "z": "3637eeb0.d96232",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is aangebeld, de voordeur is niet open gedaan. ",
        "output": "str",
        "x": 1100,
        "y": 280,
        "wires": [
            [
                "32209a51.6b6536",
                "5841bec4.a2bed"
            ]
        ]
    },
    {
        "id": "45dfd14d.84864",
        "type": "template",
        "z": "3637eeb0.d96232",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is aangebeld, de voordeur is open gedaan. ",
        "output": "str",
        "x": 1100,
        "y": 240,
        "wires": [
            [
                "32209a51.6b6536",
                "5841bec4.a2bed"
            ]
        ]
    },
    {
        "id": "32209a51.6b6536",
        "type": "api-call-service",
        "z": "3637eeb0.d96232",
        "name": "notify phone coen",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "mobile_app_phone_coen",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"{{message}}\",\"title\":\"Deurbel\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1310,
        "y": 280,
        "wires": [
            [
                "aa2e94ac.c75bf8"
            ]
        ]
    },
    {
        "id": "7c117ebf.4e87b",
        "type": "template",
        "z": "3637eeb0.d96232",
        "name": "time and message",
        "field": "time",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{mydom}}-{{mymonth}} {{mytime}}",
        "output": "str",
        "x": 1110,
        "y": 180,
        "wires": [
            [
                "f44aaff0d8299e32"
            ]
        ]
    },
    {
        "id": "9f65aaf4.43f4c8",
        "type": "api-current-state",
        "z": "3637eeb0.d96232",
        "name": "state doorbell chime",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.doorbell_chime_active",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 900,
        "y": 340,
        "wires": [
            [
                "63738500.aace1c"
            ]
        ]
    },
    {
        "id": "63738500.aace1c",
        "type": "switch",
        "z": "3637eeb0.d96232",
        "name": "switch",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1070,
        "y": 340,
        "wires": [
            [],
            [
                "50618f0.36d7e7"
            ]
        ]
    },
    {
        "id": "aa2e94ac.c75bf8",
        "type": "api-current-state",
        "z": "3637eeb0.d96232",
        "name": "state persons not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1570,
        "y": 280,
        "wires": [
            [
                "d0000832.eafa28"
            ],
            []
        ]
    },
    {
        "id": "d0000832.eafa28",
        "type": "api-call-service",
        "z": "3637eeb0.d96232",
        "name": "notify phone anne",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "mobile_app_phone_anne",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"{{message}}\",\"title\":\"Deurbel\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1790,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "bff3378b.fb3928",
        "type": "server-state-changed",
        "z": "3637eeb0.d96232",
        "name": "state persons not home",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "group.persons",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 100,
        "wires": [
            [
                "59bbde6d.37f02"
            ],
            []
        ]
    },
    {
        "id": "59bbde6d.37f02",
        "type": "api-current-state",
        "z": "3637eeb0.d96232",
        "name": "state doorbell off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.doorbell_chime_active",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 360,
        "y": 100,
        "wires": [
            [
                "d1c2946f.425ad8"
            ],
            []
        ]
    },
    {
        "id": "d1c2946f.425ad8",
        "type": "api-call-service",
        "z": "3637eeb0.d96232",
        "name": "turn on doorbell chime",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.doorbell_chime_active"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 620,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "f98986e3.e78848",
        "type": "api-current-state",
        "z": "3637eeb0.d96232",
        "name": "state shield playing",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "playing",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.shield",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 370,
        "y": 400,
        "wires": [
            [
                "c1191c26.764cf"
            ],
            []
        ]
    },
    {
        "id": "c63cd5dd.2969b8",
        "type": "api-call-service",
        "z": "3637eeb0.d96232",
        "name": "pause shield",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "media_player",
        "service": "media_pause",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.shield"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 870,
        "y": 400,
        "wires": [
            [
                "74b0f721.d079c8"
            ]
        ]
    },
    {
        "id": "cdd2f7dd.b79268",
        "type": "api-call-service",
        "z": "3637eeb0.d96232",
        "name": "notify tv",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "tv_01",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"{{message}}\",\"title\":\"Deurbel\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1520,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "74b0f721.d079c8",
        "type": "template",
        "z": "3637eeb0.d96232",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is aangebeld. ",
        "output": "str",
        "x": 1070,
        "y": 400,
        "wires": [
            [
                "cdd2f7dd.b79268"
            ]
        ]
    },
    {
        "id": "11f67152.16638f",
        "type": "api-current-state",
        "z": "3637eeb0.d96232",
        "name": "state outdoor dark",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "dark",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.outdoor_light_dark",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 370,
        "y": 460,
        "wires": [
            [
                "d6c8ef4a.6f6e9"
            ],
            []
        ]
    },
    {
        "id": "c3f4b74d.a01278",
        "type": "api-call-service",
        "z": "3637eeb0.d96232",
        "name": "turn on light front door",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_front_door"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 900,
        "y": 460,
        "wires": [
            [
                "f39e3558.7e0a48"
            ]
        ]
    },
    {
        "id": "c1191c26.764cf",
        "type": "api-current-state",
        "z": "3637eeb0.d96232",
        "name": "state harmony screen off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Scherm Uit",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "input_select.harmonyhub",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 650,
        "y": 400,
        "wires": [
            [
                "c63cd5dd.2969b8"
            ],
            []
        ]
    },
    {
        "id": "26977249.cf194e",
        "type": "change",
        "z": "3637eeb0.d96232",
        "name": "set payload open",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "open",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 180,
        "wires": [
            [
                "fa85ecea.e1cdd"
            ]
        ]
    },
    {
        "id": "a97cf09e.3c5d8",
        "type": "delay",
        "z": "3637eeb0.d96232",
        "name": "",
        "pauseType": "delay",
        "timeout": "7",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 340,
        "y": 180,
        "wires": [
            [
                "26977249.cf194e"
            ]
        ]
    },
    {
        "id": "896e21b5.a4b9e",
        "type": "change",
        "z": "3637eeb0.d96232",
        "name": "set payload close",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "close",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 300,
        "wires": [
            [
                "fa85ecea.e1cdd"
            ]
        ]
    },
    {
        "id": "d6c8ef4a.6f6e9",
        "type": "api-current-state",
        "z": "3637eeb0.d96232",
        "name": "state light front door off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shelly1_front_door",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 640,
        "y": 460,
        "wires": [
            [
                "c3f4b74d.a01278"
            ],
            []
        ]
    },
    {
        "id": "4566a0c1.1b69e",
        "type": "api-call-service",
        "z": "3637eeb0.d96232",
        "name": "turn off light front door",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_front_door"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1560,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "9a850a23.0f7348",
        "type": "simpletime",
        "z": "3637eeb0.d96232",
        "name": "",
        "mydate": true,
        "myymd": true,
        "myyear": true,
        "mymonth": true,
        "mymonthn": true,
        "mydom": true,
        "mydoy": true,
        "myday": true,
        "myhourpm": true,
        "myhour": true,
        "mytime": true,
        "mytimes": true,
        "myminute": true,
        "myminutes": true,
        "mysecond": true,
        "mymillis": true,
        "myepoch": true,
        "myrawdate": true,
        "mypm": true,
        "x": 870,
        "y": 180,
        "wires": [
            [
                "7c117ebf.4e87b"
            ]
        ]
    },
    {
        "id": "fa85ecea.e1cdd",
        "type": "traffic",
        "z": "3637eeb0.d96232",
        "name": "traffic light",
        "property_allow": "payload",
        "filter_allow": "open",
        "ignore_case_allow": false,
        "negate_allow": false,
        "send_allow": false,
        "property_stop": "payload",
        "filter_stop": "close",
        "ignore_case_stop": false,
        "negate_stop": false,
        "send_stop": false,
        "default_start": true,
        "differ": false,
        "x": 630,
        "y": 240,
        "wires": [
            [
                "896e21b5.a4b9e",
                "9a850a23.0f7348",
                "bc0b175d.2363b8",
                "9f65aaf4.43f4c8"
            ]
        ]
    },
    {
        "id": "f39e3558.7e0a48",
        "type": "stoptimer",
        "z": "3637eeb0.d96232",
        "duration": "10",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 1100,
        "y": 460,
        "wires": [
            [
                "4566a0c1.1b69e"
            ],
            []
        ]
    },
    {
        "id": "211ffb19.e76354",
        "type": "api-call-service",
        "z": "3637eeb0.d96232",
        "name": "google say",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "tts",
        "service": "google_say",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.home_speaker"
        ],
        "data": "{\"message\":\"{{message}}\",\"language\":\"nl\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1530,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "50618f0.36d7e7",
        "type": "template",
        "z": "3637eeb0.d96232",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is aangebeld.",
        "output": "str",
        "x": 1280,
        "y": 340,
        "wires": [
            [
                "211ffb19.e76354"
            ]
        ]
    },
    {
        "id": "cc76e29e.b681",
        "type": "comment",
        "z": "3637eeb0.d96232",
        "name": "doorbell automation",
        "info": "doorbell automation",
        "x": 110,
        "y": 40,
        "wires": []
    },
    {
        "id": "5841bec4.a2bed",
        "type": "link out",
        "z": "3637eeb0.d96232",
        "name": "",
        "links": [
            "ebf4860d.603538"
        ],
        "x": 1235,
        "y": 220,
        "wires": []
    },
    {
        "id": "f44aaff0d8299e32",
        "type": "ha-sensor",
        "z": "3637eeb0.d96232",
        "name": "",
        "entityConfig": "b9f1299c.62c1b8",
        "version": 0,
        "state": "time",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1530,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "e2d3f671f7dd105c",
        "type": "comment",
        "z": "a5c3a1afe9d96a84",
        "name": "tv and media entertaiment automations",
        "info": "",
        "x": 170,
        "y": 20,
        "wires": []
    },
    {
        "id": "3fcd67a0447fd1c4",
        "type": "server-state-changed",
        "z": "a5c3a1afe9d96a84",
        "name": "state input select harmony hub",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_select.harmonyhub",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": false,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 140,
        "wires": [
            [
                "b812932c302a921c"
            ]
        ]
    },
    {
        "id": "b812932c302a921c",
        "type": "switch",
        "z": "a5c3a1afe9d96a84",
        "name": "harmony activity",
        "property": "data.new_state.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "TV",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Scherm Uit",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Alles Uit",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 400,
        "y": 140,
        "wires": [
            [
                "0f3d60e905e31024"
            ],
            [
                "62ca8444e83dd835"
            ],
            [
                "5690d4fd4de01d28"
            ]
        ]
    },
    {
        "id": "5690d4fd4de01d28",
        "type": "subflow:0f710598d50e0596",
        "z": "a5c3a1afe9d96a84",
        "name": "turn_off_tv",
        "x": 650,
        "y": 200,
        "wires": []
    },
    {
        "id": "0f3d60e905e31024",
        "type": "subflow:a0c733b89be2ea24",
        "z": "a5c3a1afe9d96a84",
        "name": "turn_on_tv",
        "x": 650,
        "y": 120,
        "wires": []
    },
    {
        "id": "62ca8444e83dd835",
        "type": "subflow:b1ddcd26d280c47d",
        "z": "a5c3a1afe9d96a84",
        "name": "turn_on_tv-screen-off",
        "x": 680,
        "y": 160,
        "wires": []
    },
    {
        "id": "db7aae72f8cf0c42",
        "type": "switch",
        "z": "a5c3a1afe9d96a84",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 370,
        "y": 280,
        "wires": [
            [
                "5ec215a104eabb47"
            ],
            [
                "e65b17d242639b1f"
            ]
        ]
    },
    {
        "id": "e8c4b97cbd9bf22f",
        "type": "switch",
        "z": "a5c3a1afe9d96a84",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 370,
        "y": 340,
        "wires": [
            [
                "e65b17d242639b1f"
            ],
            [
                "30413bc57e79a326"
            ]
        ]
    },
    {
        "id": "a3863a24641931af",
        "type": "api-call-service",
        "z": "a5c3a1afe9d96a84",
        "name": "input select my music",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.spotify_playlist"
        ],
        "data": "{\"option\":\"Mijn Muziek\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1140,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "f258298bd74771d2",
        "type": "server-state-changed",
        "z": "a5c3a1afe9d96a84",
        "name": "state input boolean music",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.music",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 340,
        "wires": [
            [
                "e8c4b97cbd9bf22f"
            ]
        ]
    },
    {
        "id": "0a9019075145f65a",
        "type": "server-state-changed",
        "z": "a5c3a1afe9d96a84",
        "name": "state input boolean tv",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.tv",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 280,
        "wires": [
            [
                "db7aae72f8cf0c42"
            ]
        ]
    },
    {
        "id": "80bd30f5b618ee92",
        "type": "comment",
        "z": "a5c3a1afe9d96a84",
        "name": "input boolean",
        "info": "",
        "x": 90,
        "y": 240,
        "wires": []
    },
    {
        "id": "30413bc57e79a326",
        "type": "api-current-state",
        "z": "a5c3a1afe9d96a84",
        "name": "input select spotify is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Spotify Uit",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.spotify_playlist",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 690,
        "y": 400,
        "wires": [
            [
                "637297e593cfa472"
            ],
            []
        ]
    },
    {
        "id": "637297e593cfa472",
        "type": "api-current-state",
        "z": "a5c3a1afe9d96a84",
        "name": "input select radio is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Radio Uit",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.radio_station",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 920,
        "y": 400,
        "wires": [
            [
                "a3863a24641931af"
            ],
            []
        ]
    },
    {
        "id": "5ec215a104eabb47",
        "type": "api-call-service",
        "z": "a5c3a1afe9d96a84",
        "name": "input select tv",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.harmonyhub"
        ],
        "data": "{\"option\":\"TV\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 660,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "e65b17d242639b1f",
        "type": "api-call-service",
        "z": "a5c3a1afe9d96a84",
        "name": "input select all off",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.harmonyhub"
        ],
        "data": "{\"option\":\"Alles Uit\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 670,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "7aca148a8ddcbb9d",
        "type": "comment",
        "z": "a5c3a1afe9d96a84",
        "name": "frontend input select",
        "info": "",
        "x": 110,
        "y": 100,
        "wires": []
    },
    {
        "id": "4e4f630f31f27237",
        "type": "switch",
        "z": "a5c3a1afe9d96a84",
        "name": "App Name ",
        "property": "data.new_state.attributes.app_name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "NLZIET",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "Ziggo GO",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "YouTube",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "Plex",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "Netflix",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "Spotify",
                "vt": "str"
            },
            {
                "t": "cont",
                "v": "TuneIn Free",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 7,
        "x": 390,
        "y": 540,
        "wires": [
            [
                "16f53cbdb0d942e9"
            ],
            [
                "16f53cbdb0d942e9"
            ],
            [
                "16f53cbdb0d942e9"
            ],
            [
                "16f53cbdb0d942e9"
            ],
            [
                "e635c954d92297d5"
            ],
            [
                "a5034d8cbec720d0"
            ],
            [
                "a5034d8cbec720d0"
            ]
        ]
    },
    {
        "id": "8ff0ddd3e8a3d70f",
        "type": "server-state-changed",
        "z": "a5c3a1afe9d96a84",
        "name": "state media player shield",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "media_player.shield",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": false,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 500,
        "wires": [
            [
                "4e4f630f31f27237"
            ]
        ]
    },
    {
        "id": "cf518ead452d2e0c",
        "type": "api-call-service",
        "z": "a5c3a1afe9d96a84",
        "name": "input select tv",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.harmonyhub"
        ],
        "data": "{\"option\":\"TV\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1000,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "7ec3b8e6504a5b31",
        "type": "api-call-service",
        "z": "a5c3a1afe9d96a84",
        "name": "input select screen off",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.harmonyhub"
        ],
        "data": "{\"option\":\"Scherm Uit\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1000,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "7438cd4e456ec075",
        "type": "comment",
        "z": "a5c3a1afe9d96a84",
        "name": "app in mediaplayer",
        "info": "",
        "x": 110,
        "y": 460,
        "wires": []
    },
    {
        "id": "16f53cbdb0d942e9",
        "type": "api-current-state",
        "z": "a5c3a1afe9d96a84",
        "name": "input select media source livingroom tv",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Woonkamer TV",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.mediaplayer_destination",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_select.mediaplayer_destination",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 730,
        "y": 520,
        "wires": [
            [
                "cf518ead452d2e0c"
            ],
            []
        ]
    },
    {
        "id": "e635c954d92297d5",
        "type": "api-current-state",
        "z": "a5c3a1afe9d96a84",
        "name": "state outdoor dark",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "dark",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.outdoor_light_dark",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 670,
        "y": 560,
        "wires": [
            [
                "936a8f4c061b1d1e"
            ],
            []
        ]
    },
    {
        "id": "936a8f4c061b1d1e",
        "type": "api-call-service",
        "z": "a5c3a1afe9d96a84",
        "name": "turn on light livingroom",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "shellydimmer_living_room"
        ],
        "data": "{\"brightness_pct\":\"20\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 900,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "a5034d8cbec720d0",
        "type": "api-current-state",
        "z": "a5c3a1afe9d96a84",
        "name": "input select media source livingroom tv",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Woonkamer TV",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.mediaplayer_destination",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_select.mediaplayer_destination",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 730,
        "y": 600,
        "wires": [
            [
                "7ec3b8e6504a5b31"
            ],
            []
        ]
    },
    {
        "id": "e8b586d68beb98a1",
        "type": "api-current-state",
        "z": "a5c3a1afe9d96a84",
        "name": "state person coen home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.coen",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 410,
        "y": 1540,
        "wires": [
            [
                "3bcc063dd020a359"
            ],
            []
        ]
    },
    {
        "id": "3bcc063dd020a359",
        "type": "api-current-state",
        "z": "a5c3a1afe9d96a84",
        "name": "state media player shield playing",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "playing",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "media_player.shield",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 690,
        "y": 1540,
        "wires": [
            [
                "d520d2dce894bb2f",
                "8ddab9a1176ba6a5"
            ],
            []
        ]
    },
    {
        "id": "6d10ea6013a91a92",
        "type": "api-current-state",
        "z": "a5c3a1afe9d96a84",
        "name": "state person anne home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "person.anne",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 410,
        "y": 1600,
        "wires": [
            [
                "3bcc063dd020a359"
            ],
            []
        ]
    },
    {
        "id": "4bfbf7a88b8a9cd1",
        "type": "api-call-service",
        "z": "a5c3a1afe9d96a84",
        "name": "notify tv",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "tv_01",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"{{{message}}}\",\"title\":\"Pauze\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1080,
        "y": 1580,
        "wires": [
            []
        ]
    },
    {
        "id": "8ddab9a1176ba6a5",
        "type": "template",
        "z": "a5c3a1afe9d96a84",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "TV gepauseerd i.v.m. telefoon gesprek.",
        "output": "str",
        "x": 920,
        "y": 1600,
        "wires": [
            [
                "4bfbf7a88b8a9cd1",
                "ff76935b03fd415e"
            ]
        ]
    },
    {
        "id": "d520d2dce894bb2f",
        "type": "api-call-service",
        "z": "a5c3a1afe9d96a84",
        "name": "pause shield",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "media_player",
        "service": "media_pause",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.shield"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 930,
        "y": 1540,
        "wires": [
            []
        ]
    },
    {
        "id": "8ad00735266da083",
        "type": "server-state-changed",
        "z": "a5c3a1afe9d96a84",
        "name": "state phone coen offhook",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.phone_coen_phone_state",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "offhook",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 170,
        "y": 1540,
        "wires": [
            [
                "e8b586d68beb98a1"
            ],
            []
        ]
    },
    {
        "id": "b466797343af2cc0",
        "type": "server-state-changed",
        "z": "a5c3a1afe9d96a84",
        "name": "state phone anne offhook",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.phone_anne_phone_state",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "offhook",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 170,
        "y": 1600,
        "wires": [
            [
                "6d10ea6013a91a92"
            ],
            []
        ]
    },
    {
        "id": "793b5c4fdc3664d5",
        "type": "comment",
        "z": "a5c3a1afe9d96a84",
        "name": "pause when phone is off hook",
        "info": "",
        "x": 180,
        "y": 1500,
        "wires": []
    },
    {
        "id": "ff76935b03fd415e",
        "type": "link out",
        "z": "a5c3a1afe9d96a84",
        "name": "",
        "links": [
            "ebf4860d.603538"
        ],
        "x": 1035,
        "y": 1640,
        "wires": []
    },
    {
        "id": "425751393b5f21b7",
        "type": "api-call-service",
        "z": "a5c3a1afe9d96a84",
        "name": "select all off",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.harmonyhub"
        ],
        "data": "{\"option\":\"Alles Uit\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1570,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "aa88b2ceea547c04",
        "type": "server-state-changed",
        "z": "a5c3a1afe9d96a84",
        "name": "state input select radio station",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_select.radio_station",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 780,
        "wires": [
            [
                "484e5b738b7cf319"
            ]
        ]
    },
    {
        "id": "484e5b738b7cf319",
        "type": "switch",
        "z": "a5c3a1afe9d96a84",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Radio Uit",
                "vt": "str"
            },
            {
                "t": "neq",
                "v": "Radio Uit",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "NPO Radio 1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "NPO Radio 2",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "NPO 3FM",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "NPO Radio 4",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Radio 538",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Radio 10",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Q-Music",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Q-Music Christmas",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "BNR Nieuwsradio",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "SLAM! FM",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "100% NL",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Veronica",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "SkyRadio",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "SubLime FM",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "KINK",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 17,
        "x": 630,
        "y": 820,
        "wires": [
            [
                "7de3042fd2c7c907"
            ],
            [
                "9a9d0b48f408cc75"
            ],
            [
                "ca88d0b069eba28d"
            ],
            [
                "ee169519506ea4f2"
            ],
            [
                "db6d358f4994dd1b"
            ],
            [
                "6a1f5b2019ed45c3"
            ],
            [
                "088697103c624174"
            ],
            [
                "d8775c6cd768d5c6"
            ],
            [
                "8cd14c067a396864"
            ],
            [
                "32713bae42bc2d4e"
            ],
            [
                "8ef7ab4c9d82b956"
            ],
            [
                "7ee372b655827399"
            ],
            [
                "071261f516704ad6"
            ],
            [
                "d91472d4f16b599b"
            ],
            [
                "ef07fef70b93ca2c"
            ],
            [
                "967c157a44228c0a"
            ],
            [
                "5325b5778e50a05d"
            ]
        ]
    },
    {
        "id": "54adb4bdc8246923",
        "type": "comment",
        "z": "a5c3a1afe9d96a84",
        "name": "RADIO",
        "info": "",
        "x": 70,
        "y": 680,
        "wires": []
    },
    {
        "id": "f894eda6a38cc9e0",
        "type": "server-state-changed",
        "z": "a5c3a1afe9d96a84",
        "name": "state media player source",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_select.mediaplayer_destination",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 720,
        "wires": [
            [
                "bd346da5711c9a10"
            ]
        ]
    },
    {
        "id": "ca88d0b069eba28d",
        "type": "change",
        "z": "a5c3a1afe9d96a84",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "http://icecast.omroep.nl/radio1-bb-aac",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "imageUrl",
                "pt": "msg",
                "to": "https://www.nporadio1.nl/templates/perfecttemplate/images/logo-npo-radio1.png",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "msg.contentTitle",
                "pt": "msg",
                "to": "msg.payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 860,
        "wires": [
            [
                "5bb7f1bee6db7996"
            ]
        ]
    },
    {
        "id": "ee169519506ea4f2",
        "type": "change",
        "z": "a5c3a1afe9d96a84",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "http://icecast.omroep.nl/radio2-bb-mp3",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "imageUrl",
                "pt": "msg",
                "to": "https://upload.wikimedia.org/wikipedia/commons/thumb/f/f4/NPO_Radio_2_logo.svg/1200px-NPO_Radio_2_logo.svg.png",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "msg.contentTitle",
                "pt": "msg",
                "to": "msg.payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 890,
        "wires": [
            [
                "5bb7f1bee6db7996"
            ]
        ]
    },
    {
        "id": "db6d358f4994dd1b",
        "type": "change",
        "z": "a5c3a1afe9d96a84",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "http://icecast.omroep.nl/3fm-bb-aac",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "imageUrl",
                "pt": "msg",
                "to": "https://upload.wikimedia.org/wikipedia/commons/4/46/NPO_3FM_logo_2020.png",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "msg.contentTitle",
                "pt": "msg",
                "to": "msg.payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 920,
        "wires": [
            [
                "5bb7f1bee6db7996"
            ]
        ]
    },
    {
        "id": "6a1f5b2019ed45c3",
        "type": "change",
        "z": "a5c3a1afe9d96a84",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "http://icecast.omroep.nl/radio4-bb-aac",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "imageUrl",
                "pt": "msg",
                "to": "https://upload.wikimedia.org/wikipedia/commons/thumb/b/b7/NPO_Radio_4_logo_2014.svg/1200px-NPO_Radio_4_logo_2014.svg.png",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "msg.contentTitle",
                "pt": "msg",
                "to": "msg.payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 950,
        "wires": [
            [
                "5bb7f1bee6db7996"
            ]
        ]
    },
    {
        "id": "088697103c624174",
        "type": "change",
        "z": "a5c3a1afe9d96a84",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "http://playerservices.streamtheworld.com/api/livestream-redirect/RADIO538AAC.aac",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "imageUrl",
                "pt": "msg",
                "to": "https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Logo_Radio_538_2014.svg/1200px-Logo_Radio_538_2014.svg.png",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "msg.contentTitle",
                "pt": "msg",
                "to": "msg.payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 980,
        "wires": [
            [
                "5bb7f1bee6db7996"
            ]
        ]
    },
    {
        "id": "d8775c6cd768d5c6",
        "type": "change",
        "z": "a5c3a1afe9d96a84",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "http://playerservices.streamtheworld.com/api/livestream-redirect/RADIO10AAC.aac",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "imageUrl",
                "pt": "msg",
                "to": "https://upload.wikimedia.org/wikipedia/commons/3/39/Radio_10_logo_2017.png",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "msg.contentTitle",
                "pt": "msg",
                "to": "msg.payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 1010,
        "wires": [
            [
                "5bb7f1bee6db7996"
            ]
        ]
    },
    {
        "id": "8cd14c067a396864",
        "type": "change",
        "z": "a5c3a1afe9d96a84",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "http://icecast-qmusic.cdp.triple-it.nl/Qmusic_nl_live_96.mp3",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "imageUrl",
                "pt": "msg",
                "to": "https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Qmusic_logo.svg/1200px-Qmusic_logo.svg.png",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "msg.contentTitle",
                "pt": "msg",
                "to": "msg.payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 1040,
        "wires": [
            [
                "5bb7f1bee6db7996"
            ]
        ]
    },
    {
        "id": "32713bae42bc2d4e",
        "type": "change",
        "z": "a5c3a1afe9d96a84",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "https://icecast-qmusicnl-cdp.triple-it.nl/Qmusic_nl_classics_96.mp3",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "imageUrl",
                "pt": "msg",
                "to": "https://static1.qmusic.medialaancdn.be/9/22/e1/43/1380936/Qmusic_ActionHeader_Kerst.jpg",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "msg.contentTitle",
                "pt": "msg",
                "to": "msg.payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 1070,
        "wires": [
            [
                "5bb7f1bee6db7996"
            ]
        ]
    },
    {
        "id": "8ef7ab4c9d82b956",
        "type": "change",
        "z": "a5c3a1afe9d96a84",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "http://icecast-bnr.cdp.triple-it.nl/bnr_mp3_128_03",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "imageUrl",
                "pt": "msg",
                "to": "https://theurbanfuture.com/wp-content/uploads/2018/03/logo-bnr-radio.png",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "msg.contentTitle",
                "pt": "msg",
                "to": "msg.payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 1100,
        "wires": [
            [
                "5bb7f1bee6db7996"
            ]
        ]
    },
    {
        "id": "7ee372b655827399",
        "type": "change",
        "z": "a5c3a1afe9d96a84",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "https://stream.slam.nl/web14_mp3",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "imageUrl",
                "pt": "msg",
                "to": "https://upload.wikimedia.org/wikipedia/commons/2/28/Slam%21FM-logo.png",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "msg.contentTitle",
                "pt": "msg",
                "to": "msg.payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 1130,
        "wires": [
            [
                "5bb7f1bee6db7996"
            ]
        ]
    },
    {
        "id": "071261f516704ad6",
        "type": "change",
        "z": "a5c3a1afe9d96a84",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "http://stream.100p.nl/100pctnl.mp3",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "imageUrl",
                "pt": "msg",
                "to": "https://static.marcomprocloud.eu/account/54e6f933ca6e54e2083918a8/files/d190ef616c588100ad8767d0ab373eaa.png",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "msg.contentTitle",
                "pt": "msg",
                "to": "msg.payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 1160,
        "wires": [
            [
                "5bb7f1bee6db7996"
            ]
        ]
    },
    {
        "id": "d91472d4f16b599b",
        "type": "change",
        "z": "a5c3a1afe9d96a84",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "http://playerservices.streamtheworld.com/api/livestream-redirect/VERONICAAAC.aac",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "imageUrl",
                "pt": "msg",
                "to": "https://upload.wikimedia.org/wikipedia/commons/a/a9/Radio-Veronica-logo.png",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "msg.contentTitle",
                "pt": "msg",
                "to": "msg.payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 1190,
        "wires": [
            [
                "5bb7f1bee6db7996"
            ]
        ]
    },
    {
        "id": "ef07fef70b93ca2c",
        "type": "change",
        "z": "a5c3a1afe9d96a84",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "http://playerservices.streamtheworld.com/api/livestream-redirect/SKYRADIO.mp3",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "imageUrl",
                "pt": "msg",
                "to": "https://upload.wikimedia.org/wikipedia/commons/d/d9/Sky_Radio.png",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "msg.contentTitle",
                "pt": "msg",
                "to": "msg.payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 1220,
        "wires": [
            [
                "5bb7f1bee6db7996"
            ]
        ]
    },
    {
        "id": "6d9ecac6a26da13f",
        "type": "api-current-state",
        "z": "a5c3a1afe9d96a84",
        "name": "input select media player source living room tv",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Woonkamer TV",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.mediaplayer_destination",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1380,
        "y": 1020,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "e949470a4f04a140",
        "type": "api-current-state",
        "z": "a5c3a1afe9d96a84",
        "name": "input select media player source living room google home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Woonkamer Google Home Speaker",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.mediaplayer_destination",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1410,
        "y": 1080,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "8e030edcea2265f8",
        "type": "api-current-state",
        "z": "a5c3a1afe9d96a84",
        "name": "input select media player source lise's google home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Lise's Google Home Speaker",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.mediaplayer_destination",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1390,
        "y": 1140,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "5bb7f1bee6db7996",
        "type": "switch",
        "z": "a5c3a1afe9d96a84",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "Radio Uit",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1090,
        "y": 1080,
        "wires": [
            [
                "e949470a4f04a140",
                "6d9ecac6a26da13f",
                "8e030edcea2265f8"
            ]
        ]
    },
    {
        "id": "967c157a44228c0a",
        "type": "change",
        "z": "a5c3a1afe9d96a84",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "http://stream.sublimefm.nl/SublimeFM_mp3",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "imageUrl",
                "pt": "msg",
                "to": "https://static.radio.net/images/broadcasts/d5/6d/10833/c300.png",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "msg.contentTitle",
                "pt": "msg",
                "to": "msg.payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 1250,
        "wires": [
            [
                "5bb7f1bee6db7996"
            ]
        ]
    },
    {
        "id": "bd346da5711c9a10",
        "type": "api-current-state",
        "z": "a5c3a1afe9d96a84",
        "name": "state input select radio station",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.radio_station",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 390,
        "y": 720,
        "wires": [
            [
                "484e5b738b7cf319"
            ]
        ]
    },
    {
        "id": "93a30ad5b9623115",
        "type": "switch",
        "z": "a5c3a1afe9d96a84",
        "name": "",
        "property": "input_select.mediaplayer_destination",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Woonkamer TV",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Woonkamer Google Home",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Lise's Google Home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 1150,
        "y": 720,
        "wires": [
            [
                "dbff6977b7ea3c9e"
            ],
            [
                "dc602bd832d1f587"
            ],
            [
                "5c28c20e0efeeb11"
            ]
        ]
    },
    {
        "id": "dc602bd832d1f587",
        "type": "api-call-service",
        "z": "a5c3a1afe9d96a84",
        "name": "turn off media player google home",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "media_player",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.home_speaker"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1380,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "5c28c20e0efeeb11",
        "type": "api-call-service",
        "z": "a5c3a1afe9d96a84",
        "name": "turn off lise's google home",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "media_player",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.lise_s_kamer"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1350,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "7de3042fd2c7c907",
        "type": "api-current-state",
        "z": "a5c3a1afe9d96a84",
        "name": "state media player source",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.mediaplayer_destination",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_select.mediaplayer_destination",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 890,
        "y": 720,
        "wires": [
            [
                "93a30ad5b9623115"
            ]
        ]
    },
    {
        "id": "9a9d0b48f408cc75",
        "type": "api-current-state",
        "z": "a5c3a1afe9d96a84",
        "name": "input select media player source living room tv",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Woonkamer TV",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.mediaplayer_destination",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_select.mediaplayer_destination",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 960,
        "y": 800,
        "wires": [
            [
                "b0d84ce59531f88a"
            ],
            []
        ]
    },
    {
        "id": "dbff6977b7ea3c9e",
        "type": "api-current-state",
        "z": "a5c3a1afe9d96a84",
        "name": "input select spotify spotify off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Spotify Uit",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.spotify_playlist",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1360,
        "y": 680,
        "wires": [
            [
                "425751393b5f21b7"
            ],
            []
        ]
    },
    {
        "id": "b0d84ce59531f88a",
        "type": "api-call-service",
        "z": "a5c3a1afe9d96a84",
        "name": "input select screen off",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.harmonyhub"
        ],
        "data": "{\"option\":\"Scherm Uit\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1340,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "5325b5778e50a05d",
        "type": "change",
        "z": "a5c3a1afe9d96a84",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "http://playerservices.streamtheworld.com/api/livestream-redirect/KINK.mp3",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "imageUrl",
                "pt": "msg",
                "to": "https://upload.wikimedia.org/wikipedia/commons/d/df/Kink_FM_logo.svg",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "msg.contentTitle",
                "pt": "msg",
                "to": "msg.payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 1280,
        "wires": [
            [
                "5bb7f1bee6db7996"
            ]
        ]
    },
    {
        "id": "49bcf8fe.de1de8",
        "type": "server-state-changed",
        "z": "4dd07a1d.6e53e4",
        "name": "illuminance weather station",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.weather_station_illuminance",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "num",
        "haltifstate": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 100,
        "wires": [
            [
                "98d4039.5ff7f"
            ]
        ]
    },
    {
        "id": "98d4039.5ff7f",
        "type": "switch",
        "z": "4dd07a1d.6e53e4",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lte",
                "v": "3",
                "vt": "str"
            },
            {
                "t": "gt",
                "v": "3",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 360,
        "y": 100,
        "wires": [
            [
                "5c56266b.e63438"
            ],
            [
                "818ba5a9.204658"
            ]
        ]
    },
    {
        "id": "5c56266b.e63438",
        "type": "change",
        "z": "4dd07a1d.6e53e4",
        "name": "dark",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "dark",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 80,
        "wires": [
            [
                "714f8f70.75ec6"
            ]
        ]
    },
    {
        "id": "818ba5a9.204658",
        "type": "change",
        "z": "4dd07a1d.6e53e4",
        "name": "light",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "light",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 120,
        "wires": [
            [
                "714f8f70.75ec6"
            ]
        ]
    },
    {
        "id": "714f8f70.75ec6",
        "type": "rbe",
        "z": "4dd07a1d.6e53e4",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "x": 630,
        "y": 100,
        "wires": [
            [
                "607a179b.d377f8"
            ]
        ]
    },
    {
        "id": "607a179b.d377f8",
        "type": "stoptimer",
        "z": "4dd07a1d.6e53e4",
        "duration": "40",
        "units": "Second",
        "payloadtype": "str",
        "payloadval": "reset",
        "name": "",
        "x": 790,
        "y": 100,
        "wires": [
            [
                "7d19b3aa717186ea"
            ],
            []
        ]
    },
    {
        "id": "e1f379a0.db9e58",
        "type": "comment",
        "z": "4dd07a1d.6e53e4",
        "name": "weather station esp sensors",
        "info": "",
        "x": 140,
        "y": 40,
        "wires": []
    },
    {
        "id": "7d19b3aa717186ea",
        "type": "ha-sensor",
        "z": "4dd07a1d.6e53e4",
        "name": "state outdoor light dark",
        "entityConfig": "5051592a.7844e8",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1000,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "1744a4b7.bf476b",
        "type": "http in",
        "z": "f180ab88.925788",
        "name": "",
        "url": "/shellyi3/sw2/shortpressed",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 150,
        "y": 660,
        "wires": [
            [
                "bd9414b6.e33db8",
                "bfb3705a.97302"
            ]
        ]
    },
    {
        "id": "bd9414b6.e33db8",
        "type": "template",
        "z": "f180ab88.925788",
        "name": "html page",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<html>\n    <head></head>\n    <body>\n        <h1>url: {{req.url}}</h1>\n        <h1>method: {{req.method}}</h1>\n    </body>\n</html>",
        "x": 440,
        "y": 120,
        "wires": [
            [
                "de8e98e8.de6cb8"
            ]
        ]
    },
    {
        "id": "de8e98e8.de6cb8",
        "type": "http response",
        "z": "f180ab88.925788",
        "name": "http response",
        "statusCode": "",
        "headers": {},
        "x": 600,
        "y": 120,
        "wires": []
    },
    {
        "id": "23adc282.4b50fe",
        "type": "api-call-service",
        "z": "f180ab88.925788",
        "name": "toggle childlock kitchen switch",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "toggle",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.childlock_kitchen_switch"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 830,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "dd28a240.39e4c",
        "type": "http in",
        "z": "f180ab88.925788",
        "name": "",
        "url": "/shellyi3/sw1/shortpressed",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 150,
        "y": 160,
        "wires": [
            [
                "7dc39f07.0f3dc",
                "bd9414b6.e33db8"
            ]
        ]
    },
    {
        "id": "7dc39f07.0f3dc",
        "type": "api-call-service",
        "z": "f180ab88.925788",
        "name": "toggle light backyard",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "toggle",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_backyard_string_l"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 800,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "4c6493d9.d3994c",
        "type": "http in",
        "z": "f180ab88.925788",
        "name": "",
        "url": "/shellyi3/sw1/2xshortpressed",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 150,
        "y": 280,
        "wires": [
            [
                "bd9414b6.e33db8",
                "93c5a708.6034b8"
            ]
        ]
    },
    {
        "id": "c035bfe3.65223",
        "type": "http in",
        "z": "f180ab88.925788",
        "name": "",
        "url": "/shellyi3/sw1/3xshortpressed",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 150,
        "y": 340,
        "wires": [
            [
                "c4aeda1d.85afa8",
                "bd9414b6.e33db8"
            ]
        ]
    },
    {
        "id": "b7cb4077.7c896",
        "type": "http in",
        "z": "f180ab88.925788",
        "name": "",
        "url": "/shellyi3/sw1/longpressed",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 150,
        "y": 220,
        "wires": [
            [
                "bd9414b6.e33db8"
            ]
        ]
    },
    {
        "id": "573a7c42.323584",
        "type": "http in",
        "z": "f180ab88.925788",
        "name": "",
        "url": "/shellyi3/sw1/shortlongpressed",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 160,
        "y": 400,
        "wires": [
            [
                "bd9414b6.e33db8",
                "a8a674f.b7a5f88"
            ]
        ]
    },
    {
        "id": "5aeec774.e42788",
        "type": "http in",
        "z": "f180ab88.925788",
        "name": "",
        "url": "/shellyi3/sw1/longshortpressed",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 160,
        "y": 480,
        "wires": [
            [
                "a682fb38.5bddb8",
                "bd9414b6.e33db8"
            ]
        ]
    },
    {
        "id": "2029a45c.da097c",
        "type": "http in",
        "z": "f180ab88.925788",
        "name": "",
        "url": "/shellyi3/sw2/2xshortpressed",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 150,
        "y": 780,
        "wires": [
            [
                "bd9414b6.e33db8",
                "23adc282.4b50fe"
            ]
        ]
    },
    {
        "id": "cfe4e96a.778968",
        "type": "http in",
        "z": "f180ab88.925788",
        "name": "",
        "url": "/shellyi3/sw2/3xshortpressed",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 150,
        "y": 840,
        "wires": [
            [
                "bd9414b6.e33db8",
                "4bf2349a.895f9c"
            ]
        ]
    },
    {
        "id": "ce607043.8c34d",
        "type": "http in",
        "z": "f180ab88.925788",
        "name": "",
        "url": "/shellyi3/sw2/longpressed",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 150,
        "y": 720,
        "wires": [
            [
                "bd9414b6.e33db8"
            ]
        ]
    },
    {
        "id": "34269c6c.0fe4c4",
        "type": "http in",
        "z": "f180ab88.925788",
        "name": "",
        "url": "/shellyi3/sw2/shortlongpressed",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 160,
        "y": 900,
        "wires": [
            [
                "bd9414b6.e33db8"
            ]
        ]
    },
    {
        "id": "fe2d0c08.d90d",
        "type": "http in",
        "z": "f180ab88.925788",
        "name": "",
        "url": "/shellyi3/sw2/longshortpressed",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 160,
        "y": 960,
        "wires": [
            [
                "bd9414b6.e33db8"
            ]
        ]
    },
    {
        "id": "c4aeda1d.85afa8",
        "type": "api-call-service",
        "z": "f180ab88.925788",
        "name": "toggle switch sleepmode",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "toggle",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.sleep_mode"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 810,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "a682fb38.5bddb8",
        "type": "api-current-state",
        "z": "f180ab88.925788",
        "name": "state radio station ",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Radio Uit",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.radio_station",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 570,
        "y": 480,
        "wires": [
            [
                "c3116dd.2ddc69"
            ],
            [
                "8cf0345.f0a8ec8"
            ]
        ]
    },
    {
        "id": "c3116dd.2ddc69",
        "type": "api-call-service",
        "z": "f180ab88.925788",
        "name": "select radio station",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.radio_station"
        ],
        "data": "{\"option\":\"NPO Radio 2\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 790,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "8cf0345.f0a8ec8",
        "type": "api-call-service",
        "z": "f180ab88.925788",
        "name": "select radio station",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.radio_station"
        ],
        "data": "{\"option\":\"Radio Uit\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 790,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "a8a674f.b7a5f88",
        "type": "api-current-state",
        "z": "f180ab88.925788",
        "name": "state spotify playlist",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "Spotify Uit",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_select.spotify_playlist",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 570,
        "y": 400,
        "wires": [
            [
                "5d60f805.0a0708"
            ],
            [
                "8e12adb4.621f8"
            ]
        ]
    },
    {
        "id": "5d60f805.0a0708",
        "type": "api-call-service",
        "z": "f180ab88.925788",
        "name": "select spotify playlist",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.spotify_playlist"
        ],
        "data": "{\"option\":\"Mijn Muziek\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 800,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "8e12adb4.621f8",
        "type": "api-call-service",
        "z": "f180ab88.925788",
        "name": "select spotify playlist",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_select",
        "service": "select_option",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_select.radio_station"
        ],
        "data": "{\"option\":\"Spotify Uit\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 800,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "bfb3705a.97302",
        "type": "api-call-service",
        "z": "f180ab88.925788",
        "name": "toggle light barn hanging lamp",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "toggle",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_barn_hanging_lamp"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 830,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "4bf2349a.895f9c",
        "type": "subflow:79544bf2.1ff3a4",
        "z": "f180ab88.925788",
        "name": "",
        "x": 750,
        "y": 840,
        "wires": []
    },
    {
        "id": "93c5a708.6034b8",
        "type": "api-call-service",
        "z": "f180ab88.925788",
        "d": true,
        "name": "toggle light christmas tree",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "toggle",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.christmas_tree"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 810,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "be5d4d4b.0809d",
        "type": "comment",
        "z": "f180ab88.925788",
        "name": "shelly i3 actions ",
        "info": "[shellyi3.lan](http://shellyi3.lan)",
        "x": 100,
        "y": 40,
        "wires": []
    },
    {
        "id": "107c0d4b.910593",
        "type": "comment",
        "z": "f180ab88.925788",
        "name": "shelly i3 actions",
        "info": "",
        "x": 100,
        "y": 620,
        "wires": []
    },
    {
        "id": "b7cf63f8.77958",
        "type": "server-state-changed",
        "z": "55da1471.fda0fc",
        "name": "state group persons",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "group.persons",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 140,
        "wires": [
            [
                "37466c93.d14b84"
            ]
        ]
    },
    {
        "id": "b6290ea8.c1e6f",
        "type": "server-state-changed",
        "z": "55da1471.fda0fc",
        "name": "state guest ",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.guest",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 80,
        "y": 200,
        "wires": [
            [
                "c8eb1592.520518"
            ]
        ]
    },
    {
        "id": "c8eb1592.520518",
        "type": "switch",
        "z": "55da1471.fda0fc",
        "name": "on / off ",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 330,
        "y": 200,
        "wires": [
            [
                "1351cb3a.cc7995"
            ],
            [
                "87dec77c.9877c8"
            ]
        ]
    },
    {
        "id": "37466c93.d14b84",
        "type": "switch",
        "z": "55da1471.fda0fc",
        "name": "home / ! home",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            },
            {
                "t": "neq",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 300,
        "y": 140,
        "wires": [
            [
                "1351cb3a.cc7995"
            ],
            [
                "353d562e.3dd04a"
            ]
        ]
    },
    {
        "id": "60f6cd3f.56a0f4",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "cleaned today is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.vacuum_cleaned",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 950,
        "y": 220,
        "wires": [
            [
                "eccced83.41688"
            ],
            []
        ]
    },
    {
        "id": "85128ba5.bef108",
        "type": "inject",
        "z": "55da1471.fda0fc",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 02 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "02:00 Payload 'off'",
        "payloadType": "str",
        "x": 110,
        "y": 80,
        "wires": [
            [
                "787efd3b.bd13e4"
            ]
        ]
    },
    {
        "id": "787efd3b.bd13e4",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "name": "turn off vacuum cleaned ",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.vacuum_cleaned"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 350,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "a52152b0.f593b",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "name": "start vacuum",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "vacuum",
        "service": "start",
        "areaId": [],
        "deviceId": [
            "59644701f2397363b328494ea9691d33"
        ],
        "entityId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1350,
        "y": 220,
        "wires": [
            [
                "c643d4d4.2baf98"
            ]
        ]
    },
    {
        "id": "2a9f3bf0.575684",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "name": "return to base",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "vacuum",
        "service": "return_to_base",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "vacuum.roborock_vacuum_s6"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 940,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "1351cb3a.cc7995",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "state is not docked",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "docked",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.roborock_vacuum_s6",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 510,
        "y": 120,
        "wires": [
            [
                "32d50dd7.16e062"
            ],
            []
        ]
    },
    {
        "id": "87dec77c.9877c8",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "state group persons is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 540,
        "y": 200,
        "wires": [
            [],
            [
                "353d562e.3dd04a"
            ]
        ]
    },
    {
        "id": "353d562e.3dd04a",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "guest is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 750,
        "y": 160,
        "wires": [
            [
                "60f6cd3f.56a0f4"
            ],
            []
        ]
    },
    {
        "id": "eccced83.41688",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "vacuum is not cleaning",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "cleaning",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.roborock_vacuum_s6",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1160,
        "y": 220,
        "wires": [
            [
                "a52152b0.f593b"
            ],
            []
        ]
    },
    {
        "id": "32d50dd7.16e062",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "state is not returning",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "returning",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.roborock_vacuum_s6",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 720,
        "y": 120,
        "wires": [
            [
                "2a9f3bf0.575684"
            ],
            []
        ]
    },
    {
        "id": "8e7bbae.f382348",
        "type": "comment",
        "z": "55da1471.fda0fc",
        "name": "robot vacuum cleaner",
        "info": "",
        "x": 120,
        "y": 40,
        "wires": []
    },
    {
        "id": "a236a61.195e958",
        "type": "server-state-changed",
        "z": "55da1471.fda0fc",
        "name": "Vacuum State is error",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "vacuum.roborock_vacuum_s6",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "error",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 260,
        "wires": [
            [
                "b555794d.5740c8"
            ],
            []
        ]
    },
    {
        "id": "e4d25a8e.b5b258",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "name": "in app notification",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "persistent_notification",
        "service": "create",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"{{message}}\",\"title\":\"Stofzuiger\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1750,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "173b8941.c73507",
        "type": "server-state-changed",
        "z": "55da1471.fda0fc",
        "name": "sleep mode is on",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.sleep_mode",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 320,
        "wires": [
            [
                "1c372f1.535d7d1"
            ],
            []
        ]
    },
    {
        "id": "1c372f1.535d7d1",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "cleaned today is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.vacuum_cleaned",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 290,
        "y": 320,
        "wires": [
            [
                "c5ad7ab8.30fda8"
            ],
            []
        ]
    },
    {
        "id": "c643d4d4.2baf98",
        "type": "template",
        "z": "55da1471.fda0fc",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De stofzuiger is gestart.",
        "output": "str",
        "x": 1520,
        "y": 280,
        "wires": [
            [
                "3c488237.d82a4e"
            ]
        ]
    },
    {
        "id": "b555794d.5740c8",
        "type": "template",
        "z": "55da1471.fda0fc",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De stofzuiger zit vast en heeft hulp nodig.",
        "output": "str",
        "x": 1520,
        "y": 320,
        "wires": [
            [
                "e4d25a8e.b5b258",
                "3c488237.d82a4e"
            ]
        ]
    },
    {
        "id": "934221e4.b2d0d",
        "type": "stoptimer",
        "z": "55da1471.fda0fc",
        "duration": "10",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 720,
        "y": 300,
        "wires": [
            [
                "60f6cd3f.56a0f4"
            ],
            []
        ]
    },
    {
        "id": "3cf95b5d.b388f4",
        "type": "stoptimer",
        "z": "55da1471.fda0fc",
        "duration": "5",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 720,
        "y": 340,
        "wires": [
            [
                "6bd54ad5.5aea04"
            ],
            []
        ]
    },
    {
        "id": "c5ad7ab8.30fda8",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "vacuum is not cleaning",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "cleaning",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "vacuum.roborock_vacuum_s6",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 500,
        "y": 320,
        "wires": [
            [
                "934221e4.b2d0d",
                "3cf95b5d.b388f4"
            ],
            []
        ]
    },
    {
        "id": "6bd54ad5.5aea04",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "name": "google say",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "tts",
        "service": "google_say",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.home_speaker"
        ],
        "data": "{\"message\":\"over tien minuten start de stofzuiger\",\"language\":\"nl\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 910,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "1494387d.fca0a8",
        "type": "server-state-changed",
        "z": "55da1471.fda0fc",
        "name": "vacuum state is cleaning",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "vacuum.roborock_vacuum_s6",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "cleaning",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 380,
        "wires": [
            [
                "272212f1.26bb6e"
            ],
            []
        ]
    },
    {
        "id": "272212f1.26bb6e",
        "type": "ha-wait-until",
        "z": "55da1471.fda0fc",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 2,
        "outputs": 2,
        "entityId": "vacuum.roborock_vacuum_s6",
        "entityIdFilterType": "exact",
        "property": "state",
        "comparator": "is",
        "value": "returning",
        "valueType": "str",
        "timeout": "90",
        "timeoutType": "num",
        "timeoutUnits": "minutes",
        "checkCurrentState": true,
        "blockInputOverrides": true,
        "outputProperties": [],
        "x": 320,
        "y": 380,
        "wires": [
            [
                "155ef739.0e1de9"
            ],
            []
        ]
    },
    {
        "id": "155ef739.0e1de9",
        "type": "api-current-state",
        "z": "55da1471.fda0fc",
        "name": "cleaned today is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.vacuum_cleaned",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 490,
        "y": 380,
        "wires": [
            [
                "a098e71.e0db718"
            ],
            []
        ]
    },
    {
        "id": "a098e71.e0db718",
        "type": "api-call-service",
        "z": "55da1471.fda0fc",
        "name": "turn off vacuum cleaned ",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 710,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "3c488237.d82a4e",
        "type": "link out",
        "z": "55da1471.fda0fc",
        "name": "",
        "links": [
            "ebf4860d.603538"
        ],
        "x": 1675,
        "y": 240,
        "wires": []
    },
    {
        "id": "6bda6302.ca5bcc",
        "type": "switch",
        "z": "72ef82b8.9d086c",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "310",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "2",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 490,
        "y": 100,
        "wires": [
            [
                "78d208e5.9e2828"
            ],
            [
                "61c558b2.b38c78"
            ]
        ]
    },
    {
        "id": "4a449402.69359c",
        "type": "change",
        "z": "72ef82b8.9d086c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 80,
        "wires": [
            [
                "f2f5e3d5cd8dec8d"
            ]
        ]
    },
    {
        "id": "401de4c3.c5e84c",
        "type": "change",
        "z": "72ef82b8.9d086c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 120,
        "wires": [
            [
                "f2f5e3d5cd8dec8d"
            ]
        ]
    },
    {
        "id": "78d208e5.9e2828",
        "type": "api-current-state",
        "z": "72ef82b8.9d086c",
        "name": "state is not on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "binary_sensor.tumble_dryer",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 640,
        "y": 80,
        "wires": [
            [
                "4a449402.69359c"
            ],
            []
        ]
    },
    {
        "id": "61c558b2.b38c78",
        "type": "api-current-state",
        "z": "72ef82b8.9d086c",
        "name": "state is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "binary_sensor.tumble_dryer",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 640,
        "y": 120,
        "wires": [
            [
                "401de4c3.c5e84c"
            ],
            []
        ]
    },
    {
        "id": "90a01313.ddff9",
        "type": "trigger-state",
        "z": "72ef82b8.9d086c",
        "name": "state tumble dryer watt",
        "server": "4ba92433.2478cc",
        "version": 2,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityid": "sensor.shellyplug_tumble_dryer_power",
        "entityidfiltertype": "exact",
        "debugenabled": false,
        "constraints": [],
        "inputs": 1,
        "outputs": 2,
        "customoutputs": [],
        "outputinitially": false,
        "state_type": "num",
        "enableInput": true,
        "x": 120,
        "y": 100,
        "wires": [
            [
                "bcdcd79d.345708"
            ],
            []
        ]
    },
    {
        "id": "3fc15b9e.090ff4",
        "type": "change",
        "z": "72ef82b8.9d086c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "http://192.168.1.20:8123/local/audio/droger_klaar.mp3",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1350,
        "y": 100,
        "wires": [
            [
                "b308af36.44fe6"
            ]
        ]
    },
    {
        "id": "1bb11f6a.844f91",
        "type": "api-call-service",
        "z": "72ef82b8.9d086c",
        "name": "in app notification",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "persistent_notification",
        "service": "create",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"{{message}}\",\"title\":\"Droger\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1730,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "8b3e6f5f.1134b",
        "type": "api-call-service",
        "z": "72ef82b8.9d086c",
        "name": "media_stop",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "media_player",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.home_speaker"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1710,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "e78c18ee.1eb558",
        "type": "switch",
        "z": "72ef82b8.9d086c",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1210,
        "y": 100,
        "wires": [
            [
                "3fc15b9e.090ff4",
                "95286ff3.9f33d"
            ]
        ]
    },
    {
        "id": "95286ff3.9f33d",
        "type": "template",
        "z": "72ef82b8.9d086c",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De droger is klaar.",
        "output": "str",
        "x": 1340,
        "y": 140,
        "wires": [
            [
                "1bb11f6a.844f91",
                "5bc9b42e.a8dc5c",
                "9f9c99bd.1dfe08"
            ]
        ]
    },
    {
        "id": "bcdcd79d.345708",
        "type": "stoptimer",
        "z": "72ef82b8.9d086c",
        "duration": "15",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 330,
        "y": 100,
        "wires": [
            [
                "6bda6302.ca5bcc"
            ],
            []
        ]
    },
    {
        "id": "b308af36.44fe6",
        "type": "stoptimer",
        "z": "72ef82b8.9d086c",
        "duration": "10",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 1530,
        "y": 100,
        "wires": [
            [
                "8b3e6f5f.1134b"
            ],
            []
        ]
    },
    {
        "id": "e0083fb4.5a45",
        "type": "comment",
        "z": "72ef82b8.9d086c",
        "name": "Set thumble dryer binary sensor on or off based on power measurements",
        "info": "Set thumble dryer binary sensor on or off based on power measurements`",
        "x": 280,
        "y": 40,
        "wires": []
    },
    {
        "id": "5bc9b42e.a8dc5c",
        "type": "api-call-service",
        "z": "72ef82b8.9d086c",
        "name": "google say",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "tts",
        "service": "google_say",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.home_speaker"
        ],
        "data": "{\"message\":\"{{message}}\",\"language\":\"nl\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1710,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "9f9c99bd.1dfe08",
        "type": "link out",
        "z": "72ef82b8.9d086c",
        "name": "",
        "links": [
            "ebf4860d.603538"
        ],
        "x": 1655,
        "y": 220,
        "wires": []
    },
    {
        "id": "f2f5e3d5cd8dec8d",
        "type": "ha-binary-sensor",
        "z": "72ef82b8.9d086c",
        "name": "sensor tumble dryer",
        "entityConfig": "891dab0e.0a8b18",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1020,
        "y": 100,
        "wires": [
            [
                "e78c18ee.1eb558"
            ]
        ]
    },
    {
        "id": "3e4cd67e.efae1a",
        "type": "switch",
        "z": "c23003c7.1c978",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "10",
                "vt": "num"
            },
            {
                "t": "lte",
                "v": "3.9",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 530,
        "y": 100,
        "wires": [
            [
                "487d5ed4.e5e61"
            ],
            [
                "bf29d7a3.4b42e8"
            ]
        ]
    },
    {
        "id": "9def52c1.f5b5a",
        "type": "trigger-state",
        "z": "c23003c7.1c978",
        "name": "state washing machine watt",
        "server": "4ba92433.2478cc",
        "version": 2,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityid": "sensor.metered_wall_plug_switch_power",
        "entityidfiltertype": "exact",
        "debugenabled": false,
        "constraints": [],
        "inputs": 1,
        "outputs": 2,
        "customoutputs": [],
        "outputinitially": false,
        "state_type": "num",
        "enableInput": true,
        "x": 140,
        "y": 100,
        "wires": [
            [
                "1de77a16.189c66"
            ],
            []
        ]
    },
    {
        "id": "8de0025c.f9ce2",
        "type": "comment",
        "z": "c23003c7.1c978",
        "name": "Set washing machine binary sensor on or off based on power measurements",
        "info": "Set washing machine binary sensor on or off based on power measurements",
        "x": 290,
        "y": 40,
        "wires": []
    },
    {
        "id": "e7bf73ef.78973",
        "type": "change",
        "z": "c23003c7.1c978",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "http://192.168.1.20:8123/local/audio/wasmachine_klaar.mp3",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1390,
        "y": 100,
        "wires": [
            [
                "624c4873.555098"
            ]
        ]
    },
    {
        "id": "92b6fff2.40bfa",
        "type": "api-call-service",
        "z": "c23003c7.1c978",
        "name": "in app notification",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "persistent_notification",
        "service": "create",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"{{message}}\",\"title\":\"Wasmachine\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1770,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "ca2d6f4.4a1db9",
        "type": "api-call-service",
        "z": "c23003c7.1c978",
        "name": "media_stop",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "media_player",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.home_speaker"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1750,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "4bbf608.80d0ca",
        "type": "change",
        "z": "c23003c7.1c978",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 80,
        "wires": [
            [
                "84dfbc214d4e3a8d"
            ]
        ]
    },
    {
        "id": "26d18854.3c6808",
        "type": "change",
        "z": "c23003c7.1c978",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 120,
        "wires": [
            [
                "84dfbc214d4e3a8d"
            ]
        ]
    },
    {
        "id": "487d5ed4.e5e61",
        "type": "api-current-state",
        "z": "c23003c7.1c978",
        "name": "state is not on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "binary_sensor.washing_machine",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 680,
        "y": 80,
        "wires": [
            [
                "4bbf608.80d0ca"
            ],
            []
        ]
    },
    {
        "id": "bf29d7a3.4b42e8",
        "type": "api-current-state",
        "z": "c23003c7.1c978",
        "name": "state is not off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "binary_sensor.washing_machine",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 680,
        "y": 120,
        "wires": [
            [
                "26d18854.3c6808"
            ],
            []
        ]
    },
    {
        "id": "48fe7380.0c049c",
        "type": "switch",
        "z": "c23003c7.1c978",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1250,
        "y": 100,
        "wires": [
            [
                "e7bf73ef.78973",
                "15fc6fc5.41655"
            ]
        ]
    },
    {
        "id": "15fc6fc5.41655",
        "type": "template",
        "z": "c23003c7.1c978",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De wasmachine is klaar.",
        "output": "str",
        "x": 1380,
        "y": 140,
        "wires": [
            [
                "92b6fff2.40bfa",
                "77080f2c.11b38",
                "2f76ff07.93816"
            ]
        ]
    },
    {
        "id": "1de77a16.189c66",
        "type": "stoptimer",
        "z": "c23003c7.1c978",
        "duration": "10",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 370,
        "y": 100,
        "wires": [
            [
                "3e4cd67e.efae1a"
            ],
            []
        ]
    },
    {
        "id": "624c4873.555098",
        "type": "stoptimer",
        "z": "c23003c7.1c978",
        "duration": "10",
        "units": "Second",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 1570,
        "y": 100,
        "wires": [
            [
                "ca2d6f4.4a1db9"
            ],
            []
        ]
    },
    {
        "id": "77080f2c.11b38",
        "type": "api-call-service",
        "z": "c23003c7.1c978",
        "name": "google say",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "tts",
        "service": "google_say",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.home_speaker"
        ],
        "data": "{\"message\":\"{{message}}\",\"language\":\"nl\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1750,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "2f76ff07.93816",
        "type": "link out",
        "z": "c23003c7.1c978",
        "name": "",
        "links": [
            "ebf4860d.603538"
        ],
        "x": 1695,
        "y": 240,
        "wires": []
    },
    {
        "id": "84dfbc214d4e3a8d",
        "type": "ha-binary-sensor",
        "z": "c23003c7.1c978",
        "name": "sensor washing machine",
        "entityConfig": "bdbe52c.932a5b",
        "version": 0,
        "state": "payload",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "allow",
        "outputProperties": [],
        "x": 1070,
        "y": 100,
        "wires": [
            [
                "48fe7380.0c049c"
            ]
        ]
    },
    {
        "id": "24ab3051.7c08e",
        "type": "server-state-changed",
        "z": "b13ca13c.9328e",
        "name": "state backdoor",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.recessed_door_sensor_gen5_window_door_is_open_2",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 160,
        "wires": [
            [
                "2231c04d.678c4"
            ]
        ]
    },
    {
        "id": "b2a6a7bd.0318b8",
        "type": "server-state-changed",
        "z": "b13ca13c.9328e",
        "name": "state front door",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.recessed_door_sensor_gen5_window_door_is_open",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 100,
        "wires": [
            [
                "4dbc6d3c.6b1e94"
            ]
        ]
    },
    {
        "id": "9b797c1b.4dc83",
        "type": "switch",
        "z": "b13ca13c.9328e",
        "name": "on/off",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 410,
        "y": 120,
        "wires": [
            [
                "e3f16390.e04ac"
            ],
            []
        ]
    },
    {
        "id": "5930459.94035bc",
        "type": "api-current-state",
        "z": "b13ca13c.9328e",
        "name": "home security is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.home_security",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 750,
        "y": 200,
        "wires": [
            [
                "29fb388f.6b0768",
                "743671d6.44575",
                "4a56a5d0.e5ef1c",
                "40140a3.8383df4"
            ],
            []
        ]
    },
    {
        "id": "743671d6.44575",
        "type": "delay",
        "z": "b13ca13c.9328e",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1220,
        "y": 320,
        "wires": [
            [
                "76dade0f.884bb"
            ]
        ]
    },
    {
        "id": "76dade0f.884bb",
        "type": "api-current-state",
        "z": "b13ca13c.9328e",
        "name": "home security is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.home_security",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1390,
        "y": 320,
        "wires": [
            [
                "1e0c9024.40fd9",
                "5bee85e2.5958fc"
            ],
            []
        ]
    },
    {
        "id": "1e0c9024.40fd9",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "turn on alarm",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.alarm"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1690,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "50a28070.5f3b8",
        "type": "api-current-state",
        "z": "b13ca13c.9328e",
        "name": "state cancel home security timer active",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "active",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "timer.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "timer.security",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 510,
        "y": 340,
        "wires": [
            [
                "3e130ee2.3c60c2"
            ],
            []
        ]
    },
    {
        "id": "3e130ee2.3c60c2",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "cancel home security timer",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "timer",
        "service": "cancel",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.home_security"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "data"
            }
        ],
        "queue": "none",
        "x": 800,
        "y": 340,
        "wires": [
            [
                "74c8186f.59ee08"
            ]
        ]
    },
    {
        "id": "29fb388f.6b0768",
        "type": "api-current-state",
        "z": "b13ca13c.9328e",
        "name": "outdoor is dark",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "dark",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.outdoor_light_dark",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 960,
        "y": 120,
        "wires": [
            [
                "3af8865a.e67f0a"
            ],
            []
        ]
    },
    {
        "id": "3af8865a.e67f0a",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "turn on light backyard front door",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_backyard_string_l",
            "light.shelly1_front_door"
        ],
        "data": "{\"brightness\":60}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1190,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "ef2d0bf8.6e4c38",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "persistent notification",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "persistent_notification",
        "service": "create",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"{{message}}\",\"title\":\"{{topic}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1960,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "f7d9db6.4177e28",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "notify",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "notify",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"{{message}}\",\"title\":\"{{topic}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1910,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "d60f34c7.e15c08",
        "type": "comment",
        "z": "b13ca13c.9328e",
        "name": "home security",
        "info": "",
        "x": 90,
        "y": 40,
        "wires": []
    },
    {
        "id": "5bee85e2.5958fc",
        "type": "template",
        "z": "b13ca13c.9328e",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Het alarm gaat af! Schakel beveiliging uit via Home Assistant of Google Home.",
        "output": "str",
        "x": 1680,
        "y": 320,
        "wires": [
            [
                "ef2d0bf8.6e4c38",
                "f7d9db6.4177e28",
                "3ac976e6.9a9d7a",
                "60473297.21616c"
            ]
        ]
    },
    {
        "id": "218b9cc3.1e7df4",
        "type": "server-state-changed",
        "z": "b13ca13c.9328e",
        "name": "state home securty",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.home_security",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 360,
        "wires": [
            [
                "f717f95f.430aa8"
            ]
        ]
    },
    {
        "id": "f717f95f.430aa8",
        "type": "switch",
        "z": "b13ca13c.9328e",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 270,
        "y": 360,
        "wires": [
            [
                "50a28070.5f3b8"
            ],
            [
                "50a28070.5f3b8",
                "2f8f5ff2.f712d"
            ]
        ]
    },
    {
        "id": "2f8f5ff2.f712d",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "turn off alarm",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.alarm"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 430,
        "y": 400,
        "wires": [
            [
                "7a028f41.56997"
            ]
        ]
    },
    {
        "id": "74c8186f.59ee08",
        "type": "change",
        "z": "b13ca13c.9328e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "reset",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 340,
        "wires": [
            [
                "743671d6.44575"
            ]
        ]
    },
    {
        "id": "4a56a5d0.e5ef1c",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "start alarm_countdown timer",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "timer",
        "service": "start",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.alarm_countdown"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1180,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "7a028f41.56997",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "cancel alarm countdown timer",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "timer",
        "service": "cancel",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "timer.alarm_countdown"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "data"
            }
        ],
        "queue": "none",
        "x": 650,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "3ac976e6.9a9d7a",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "google say",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "tts",
        "service": "google_say",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.home_speaker"
        ],
        "data": "{\"message\":\"{{message}}\",\"language\":\"nl\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1930,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "40140a3.8383df4",
        "type": "template",
        "z": "b13ca13c.9328e",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "De {{door}} is geopend met beveiliging aan. Schakel beveiliging uit via Home Assistant of Google Home.",
        "output": "str",
        "x": 1680,
        "y": 280,
        "wires": [
            [
                "3ac976e6.9a9d7a",
                "f7d9db6.4177e28",
                "ef2d0bf8.6e4c38",
                "60473297.21616c"
            ]
        ]
    },
    {
        "id": "4dbc6d3c.6b1e94",
        "type": "change",
        "z": "b13ca13c.9328e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "door",
                "pt": "msg",
                "to": "voordeur",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 100,
        "wires": [
            [
                "9b797c1b.4dc83"
            ]
        ]
    },
    {
        "id": "2231c04d.678c4",
        "type": "change",
        "z": "b13ca13c.9328e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "door",
                "pt": "msg",
                "to": "achterdeur",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 160,
        "wires": [
            [
                "9b797c1b.4dc83"
            ]
        ]
    },
    {
        "id": "e3f16390.e04ac",
        "type": "change",
        "z": "b13ca13c.9328e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Huis beveiliging",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 120,
        "wires": [
            [
                "5930459.94035bc"
            ]
        ]
    },
    {
        "id": "60473297.21616c",
        "type": "link out",
        "z": "b13ca13c.9328e",
        "name": "",
        "links": [
            "ebf4860d.603538"
        ],
        "x": 1875,
        "y": 380,
        "wires": []
    },
    {
        "id": "c1548a33.8b84e",
        "type": "server-state-changed",
        "z": "b13ca13c.9328e",
        "name": "state motion sensor backyard",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.pt2262_ef9bc6",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 540,
        "wires": [
            [
                "1fc8e81d.30a58"
            ]
        ]
    },
    {
        "id": "1fc8e81d.30a58",
        "type": "switch",
        "z": "b13ca13c.9328e",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 330,
        "y": 540,
        "wires": [
            [
                "c8c0e9cd.bff87",
                "2211e616.4f8a9a"
            ],
            [
                "dcd44f33.d800f"
            ]
        ]
    },
    {
        "id": "2a6cacb.90dec54",
        "type": "api-current-state",
        "z": "b13ca13c.9328e",
        "name": "state backyard string light",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shellydimmer_backyard_string_l",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1130,
        "y": 620,
        "wires": [
            [
                "2b8dd7fb.fee7e",
                "b3835587.ac057"
            ]
        ]
    },
    {
        "id": "d493d13f.c887b",
        "type": "api-current-state",
        "z": "b13ca13c.9328e",
        "name": "state barn door light",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.shelly1_barn_door",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1120,
        "y": 660,
        "wires": [
            [
                "2b8dd7fb.fee7e",
                "40686e04.986ca8"
            ]
        ]
    },
    {
        "id": "b3835587.ac057",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "turn on light backyard string",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shellydimmer_backyard_string_l"
        ],
        "data": "{\"brightness\":\"255\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1600,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "40686e04.986ca8",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "turn on light barn door",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.shelly1_barn_door"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1580,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "4a5afd1b.488c54",
        "type": "switch",
        "z": "b13ca13c.9328e",
        "name": "on / off",
        "property": "data.state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1390,
        "y": 720,
        "wires": [
            [
                "aad29463.bd8a28"
            ],
            [
                "4a7857bc.12e9d8"
            ]
        ]
    },
    {
        "id": "8ad8d1d.fddd9b",
        "type": "delay",
        "z": "b13ca13c.9328e",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 800,
        "y": 720,
        "wires": [
            [
                "42761224.de2a34"
            ]
        ]
    },
    {
        "id": "42761224.de2a34",
        "type": "change",
        "z": "b13ca13c.9328e",
        "name": "start hold",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "red",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 940,
        "y": 720,
        "wires": [
            [
                "2b8dd7fb.fee7e"
            ]
        ]
    },
    {
        "id": "aad29463.bd8a28",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "restore light on state",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{data.entity_id}}"
        ],
        "data": "{\"brightness\":\"{{data.attributes.brightness}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1580,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "4a7857bc.12e9d8",
        "type": "api-call-service",
        "z": "b13ca13c.9328e",
        "name": "restore light off state",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "{{data.entity_id}}"
        ],
        "data": "",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1580,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "4d92e029.14a6e",
        "type": "comment",
        "z": "b13ca13c.9328e",
        "name": "motion sensor backyard",
        "info": "motion sensor backyard",
        "x": 120,
        "y": 480,
        "wires": []
    },
    {
        "id": "c8c0e9cd.bff87",
        "type": "api-current-state",
        "z": "b13ca13c.9328e",
        "name": "outdoor is dark",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "dark",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.outdoor_light_dark",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 520,
        "y": 580,
        "wires": [
            [
                "3048fc65.e0e3f4"
            ],
            []
        ]
    },
    {
        "id": "5c5667e.353b698",
        "type": "template",
        "z": "b13ca13c.9328e",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Beweging in achtertuin gedetecteerd. Beveiliging staat aan. ",
        "output": "str",
        "x": 1080,
        "y": 540,
        "wires": [
            [
                "24fe4408.a81eb4"
            ]
        ]
    },
    {
        "id": "2211e616.4f8a9a",
        "type": "api-current-state",
        "z": "b13ca13c.9328e",
        "name": "persons is home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 520,
        "y": 540,
        "wires": [
            [
                "bc819a58.cf17e8"
            ],
            [
                "eeef05f0.3a6b8"
            ]
        ]
    },
    {
        "id": "5ce935e7.58275c",
        "type": "template",
        "z": "b13ca13c.9328e",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Beweging in achtertuin gedetecteerd. Niemand is aanwezig en gast staat uit.",
        "output": "str",
        "x": 1080,
        "y": 580,
        "wires": [
            [
                "24fe4408.a81eb4"
            ]
        ]
    },
    {
        "id": "3048fc65.e0e3f4",
        "type": "api-current-state",
        "z": "b13ca13c.9328e",
        "name": "state home security is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "input_boolean.home_security",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 850,
        "y": 620,
        "wires": [
            [
                "2a6cacb.90dec54",
                "d493d13f.c887b"
            ],
            []
        ]
    },
    {
        "id": "bc819a58.cf17e8",
        "type": "api-current-state",
        "z": "b13ca13c.9328e",
        "name": "state home security is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.home_security",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "input_boolean.home_security",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 850,
        "y": 540,
        "wires": [
            [
                "5c5667e.353b698"
            ],
            []
        ]
    },
    {
        "id": "dcd44f33.d800f",
        "type": "change",
        "z": "b13ca13c.9328e",
        "name": "send green to traffic",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "green",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 660,
        "wires": [
            [
                "2b8dd7fb.fee7e",
                "8ad8d1d.fddd9b"
            ]
        ]
    },
    {
        "id": "eeef05f0.3a6b8",
        "type": "api-current-state",
        "z": "b13ca13c.9328e",
        "name": "state guest is on",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 820,
        "y": 580,
        "wires": [
            [],
            [
                "5ce935e7.58275c"
            ]
        ]
    },
    {
        "id": "2b8dd7fb.fee7e",
        "type": "traffic",
        "z": "b13ca13c.9328e",
        "name": "traffic",
        "property_allow": "payload",
        "filter_allow": "green",
        "ignore_case_allow": false,
        "negate_allow": false,
        "send_allow": false,
        "property_stop": "payload",
        "filter_stop": "red",
        "ignore_case_stop": false,
        "negate_stop": false,
        "send_stop": false,
        "default_start": false,
        "differ": true,
        "x": 1270,
        "y": 720,
        "wires": [
            [
                "4a5afd1b.488c54"
            ]
        ]
    },
    {
        "id": "24fe4408.a81eb4",
        "type": "link out",
        "z": "b13ca13c.9328e",
        "name": "",
        "links": [
            "ebf4860d.603538"
        ],
        "x": 1295,
        "y": 560,
        "wires": []
    },
    {
        "id": "32df022c.a85eb6",
        "type": "server-state-changed",
        "z": "b13ca13c.9328e",
        "name": "state alarm",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.alarm",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": false,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "alarm",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "x": 80,
        "y": 860,
        "wires": [
            [
                "17fc6f2f.1f2ff9"
            ]
        ]
    },
    {
        "id": "726bf481.1a702c",
        "type": "comment",
        "z": "b13ca13c.9328e",
        "name": "restore lights state after alarm",
        "info": "",
        "x": 140,
        "y": 800,
        "wires": []
    },
    {
        "id": "17fc6f2f.1f2ff9",
        "type": "subflow:99804b5f.9adb6",
        "z": "b13ca13c.9328e",
        "name": "alarm lights",
        "env": [],
        "x": 250,
        "y": 860,
        "wires": []
    },
    {
        "id": "6429429b.d1375c",
        "type": "server-state-changed",
        "z": "98a989e.d6bca78",
        "name": "gas sensor state",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.dsmr_consumption_gas_currently_delivered",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "num",
        "haltifstate": "",
        "halt_if_type": "num",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 100,
        "wires": [
            [
                "3238627b.1b1f0e"
            ]
        ]
    },
    {
        "id": "3238627b.1b1f0e",
        "type": "switch",
        "z": "98a989e.d6bca78",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 250,
        "y": 100,
        "wires": [
            [
                "d99c251f.40c1c8"
            ]
        ]
    },
    {
        "id": "d99c251f.40c1c8",
        "type": "api-current-state",
        "z": "98a989e.d6bca78",
        "name": "group persons is not home",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "not_home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "group.persons",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "group.persons",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 440,
        "y": 100,
        "wires": [
            [
                "7da2532c.8f20fc"
            ],
            []
        ]
    },
    {
        "id": "7da2532c.8f20fc",
        "type": "api-current-state",
        "z": "98a989e.d6bca78",
        "name": "guest state is off",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.guest",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "gast",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 660,
        "y": 100,
        "wires": [
            [
                "496caddb.5ba724"
            ],
            []
        ]
    },
    {
        "id": "496caddb.5ba724",
        "type": "template",
        "z": "98a989e.d6bca78",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is {{payload}}m gas gemeten en niemand is aanwezig, controleer of het gas is uitgezet.",
        "output": "str",
        "x": 820,
        "y": 100,
        "wires": [
            [
                "121441a.65b76be"
            ]
        ]
    },
    {
        "id": "fac5f99c.1b7438",
        "type": "comment",
        "z": "98a989e.d6bca78",
        "name": "gas notification when nobody is in the house",
        "info": "",
        "x": 190,
        "y": 40,
        "wires": []
    },
    {
        "id": "121441a.65b76be",
        "type": "link out",
        "z": "98a989e.d6bca78",
        "name": "",
        "links": [
            "ebf4860d.603538"
        ],
        "x": 935,
        "y": 100,
        "wires": []
    },
    {
        "id": "317fcdab.4c33d2",
        "type": "ha-get-entities",
        "z": "d5421f8d.f7208",
        "name": "",
        "server": "4ba92433.2478cc",
        "version": 0,
        "rules": [
            {
                "property": "entity_id",
                "logic": "starts_with",
                "value": "climate.",
                "valueType": "str"
            }
        ],
        "output_type": "array",
        "output_empty_results": false,
        "output_location_type": "msg",
        "output_location": "payload",
        "output_results_count": 1,
        "x": 370,
        "y": 100,
        "wires": [
            [
                "c2cbbc4e.296d3"
            ]
        ]
    },
    {
        "id": "c2cbbc4e.296d3",
        "type": "split",
        "z": "d5421f8d.f7208",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 510,
        "y": 100,
        "wires": [
            [
                "415db966.920518"
            ]
        ]
    },
    {
        "id": "415db966.920518",
        "type": "switch",
        "z": "d5421f8d.f7208",
        "name": "",
        "property": "payload.entity_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "basement",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 630,
        "y": 100,
        "wires": [
            [],
            [
                "8d34e21d.b818f"
            ]
        ]
    },
    {
        "id": "8d34e21d.b818f",
        "type": "change",
        "z": "d5421f8d.f7208",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.attributes.current_temperature",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 100,
        "wires": [
            [
                "71d62d7c.0c49f4"
            ]
        ]
    },
    {
        "id": "71d62d7c.0c49f4",
        "type": "join",
        "z": "d5421f8d.f7208",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 930,
        "y": 100,
        "wires": [
            [
                "f553666a.3acb38"
            ]
        ]
    },
    {
        "id": "b108409c.24dae",
        "type": "api-current-state",
        "z": "d5421f8d.f7208",
        "name": "outdoor temperature",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 2,
        "halt_if": "payload",
        "halt_if_type": "msg",
        "halt_if_compare": "lt",
        "entity_id": "sensor.buienradar_temperature",
        "state_type": "num",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "buiten_temp",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 1360,
        "y": 100,
        "wires": [
            [
                "a179f96f.510228"
            ],
            []
        ]
    },
    {
        "id": "a7088cd0.05fa4",
        "type": "inject",
        "z": "d5421f8d.f7208",
        "name": "",
        "props": [],
        "repeat": "7200",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 70,
        "y": 100,
        "wires": [
            [
                "87defeb3.2f624"
            ]
        ]
    },
    {
        "id": "a179f96f.510228",
        "type": "template",
        "z": "d5421f8d.f7208",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Open ramen en deuren om het in huis af te laten koelen, binnen is de gemiddelde temperatuur {{payload}} Buiten is de temperatuur {{buiten_temp}}.",
        "output": "str",
        "x": 1540,
        "y": 100,
        "wires": [
            [
                "40bcda8e.5a9b94",
                "823092bd.a7ed7"
            ]
        ]
    },
    {
        "id": "40bcda8e.5a9b94",
        "type": "api-call-service",
        "z": "d5421f8d.f7208",
        "name": "app notification",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "persistent_notification",
        "service": "create",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"{{message}}\",\"title\":\"Ventilatie\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1700,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "eb9d5e14.c47ca",
        "type": "switch",
        "z": "d5421f8d.f7208",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "23",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1190,
        "y": 100,
        "wires": [
            [
                "b108409c.24dae"
            ]
        ]
    },
    {
        "id": "2bd65702.c33608",
        "type": "comment",
        "z": "d5421f8d.f7208",
        "name": "outdoor temperature is lower then indoor temperature",
        "info": "",
        "x": 220,
        "y": 40,
        "wires": []
    },
    {
        "id": "f553666a.3acb38",
        "type": "calculator",
        "z": "d5421f8d.f7208",
        "name": "",
        "inputMsgField": "payload",
        "outputMsgField": "payload",
        "operation": "avg",
        "constant": "",
        "round": true,
        "decimals": "1",
        "x": 1060,
        "y": 100,
        "wires": [
            [
                "eb9d5e14.c47ca"
            ]
        ]
    },
    {
        "id": "87defeb3.2f624",
        "type": "time-range-switch",
        "z": "d5421f8d.f7208",
        "name": "",
        "lat": "52.0245",
        "lon": "5.66701",
        "startTime": "06:00",
        "endTime": "00:00",
        "startOffset": 0,
        "endOffset": "0",
        "x": 210,
        "y": 100,
        "wires": [
            [
                "317fcdab.4c33d2"
            ],
            []
        ]
    },
    {
        "id": "823092bd.a7ed7",
        "type": "link out",
        "z": "d5421f8d.f7208",
        "name": "",
        "links": [
            "ebf4860d.603538"
        ],
        "x": 1635,
        "y": 140,
        "wires": []
    },
    {
        "id": "3bde0d42.2da3c2",
        "type": "server-state-changed",
        "z": "60541649.7e2a38",
        "name": "state updater on",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.updater",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 100,
        "wires": [
            [
                "b95490ba.69e6e"
            ],
            [
                "66e977c9.606d38"
            ]
        ]
    },
    {
        "id": "b95490ba.69e6e",
        "type": "template",
        "z": "60541649.7e2a38",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Versie {{data.new_state.attributes.newest_version}} van Home Assistant is beschikbaar \\n\\n[Release Notes]({{{data.new_state.attributes.release_notes}}})",
        "output": "str",
        "x": 280,
        "y": 100,
        "wires": [
            [
                "dc54cc2f.496df",
                "318a335e.4fd36c"
            ]
        ]
    },
    {
        "id": "66e977c9.606d38",
        "type": "api-call-service",
        "z": "60541649.7e2a38",
        "name": "app notification dismiss",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "persistent_notification",
        "service": "dismiss",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"notification_id\":\"updateHA\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 330,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "3a76fdcc.5c73f2",
        "type": "api-call-service",
        "z": "60541649.7e2a38",
        "name": "app notification",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "persistent_notification",
        "service": "create",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"{{message}}\",\"title\":\"{{topic}}\",\"notification_id\":\"{{notification_id}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 800,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "f1b0b55a.6c7178",
        "type": "comment",
        "z": "60541649.7e2a38",
        "name": "home assistant notification when there is a update available",
        "info": "",
        "x": 230,
        "y": 40,
        "wires": []
    },
    {
        "id": "dc54cc2f.496df",
        "type": "change",
        "z": "60541649.7e2a38",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Update",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "notification_id",
                "pt": "msg",
                "to": "updateHA",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 100,
        "wires": [
            [
                "3a76fdcc.5c73f2"
            ]
        ]
    },
    {
        "id": "318a335e.4fd36c",
        "type": "link out",
        "z": "60541649.7e2a38",
        "name": "",
        "links": [
            "ebf4860d.603538"
        ],
        "x": 555,
        "y": 140,
        "wires": []
    },
    {
        "id": "c053e3f3.16b41",
        "type": "comment",
        "z": "5a8d7bb1.6263b4",
        "name": "hacs update notification",
        "info": "",
        "x": 120,
        "y": 40,
        "wires": []
    },
    {
        "id": "96cdd263.e5c85",
        "type": "server-state-changed",
        "z": "5a8d7bb1.6263b4",
        "name": "HACS update",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.hacs",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "unknown",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 90,
        "y": 100,
        "wires": [
            [
                "1afb9699.b01d29"
            ],
            []
        ]
    },
    {
        "id": "1afb9699.b01d29",
        "type": "switch",
        "z": "5a8d7bb1.6263b4",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 250,
        "y": 100,
        "wires": [
            [
                "a5f6fc79.327cf"
            ],
            [
                "ef200ec6.3cf83"
            ]
        ]
    },
    {
        "id": "ef200ec6.3cf83",
        "type": "api-call-service",
        "z": "5a8d7bb1.6263b4",
        "name": "In APP Notify Dismiss",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "persistent_notification",
        "service": "dismiss",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"notification_id\":\"updateHACS\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 440,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "67e38125.08e3d",
        "type": "template",
        "z": "5a8d7bb1.6263b4",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{payload}} update(s) beschikbaar in de Home Assistant Community Store (hacs) \\n[Link](https://homeassistant.theautomation.nl/hacs)",
        "output": "str",
        "x": 580,
        "y": 100,
        "wires": [
            [
                "d9df32a2.60134",
                "6ebf508f.20c57"
            ]
        ]
    },
    {
        "id": "d9df32a2.60134",
        "type": "change",
        "z": "5a8d7bb1.6263b4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Update",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 730,
        "y": 100,
        "wires": [
            [
                "4045bbfd.b268e4"
            ]
        ]
    },
    {
        "id": "4045bbfd.b268e4",
        "type": "api-call-service",
        "z": "5a8d7bb1.6263b4",
        "name": "In APP Notify",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "notify",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"{{message}}\",\"title\":\"{{topic}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 890,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "a5f6fc79.327cf",
        "type": "stoptimer",
        "z": "5a8d7bb1.6263b4",
        "duration": "10",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 420,
        "y": 100,
        "wires": [
            [
                "67e38125.08e3d"
            ],
            []
        ]
    },
    {
        "id": "6ebf508f.20c57",
        "type": "link out",
        "z": "5a8d7bb1.6263b4",
        "name": "",
        "links": [
            "ebf4860d.603538"
        ],
        "x": 675,
        "y": 140,
        "wires": []
    },
    {
        "id": "dc93ddfe.5bd4a",
        "type": "comment",
        "z": "cde79c08.e4f488",
        "name": "notify when a smoke or co alarm goes on",
        "info": "notify when a message appears in pfsense",
        "x": 180,
        "y": 40,
        "wires": []
    },
    {
        "id": "743eb0e6.61b368",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "smoke co alarm test livingroom",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.zcombo_g_smoke_co_alarm_smoke_alarm_test",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 80,
        "wires": [
            [
                "2174c321b4d32ca8"
            ]
        ]
    },
    {
        "id": "bc9788a0.2fc028",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "smoke detected livingroom",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.zcombo_g_smoke_co_alarm_smoke_detected",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 260,
        "wires": [
            [
                "7cdcd90a.9cd33"
            ]
        ]
    },
    {
        "id": "3fdbb752.798ec8",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is rook gedecteerd in de {{location}}",
        "output": "str",
        "x": 800,
        "y": 300,
        "wires": [
            [
                "8f9a86a6.9ca938"
            ]
        ]
    },
    {
        "id": "acaf455.81dc638",
        "type": "change",
        "z": "cde79c08.e4f488",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Alarm",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "alarm",
                "pt": "msg",
                "to": "on",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1100,
        "y": 260,
        "wires": [
            [
                "8b811e89.d8907",
                "64dbfd97.f3e984",
                "b64a8e86.d9fa8",
                "3f462a6b.94f916",
                "4c1d6e3911c44200"
            ]
        ]
    },
    {
        "id": "7cdcd90a.9cd33",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location livingroom",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "woonkamer",
        "output": "str",
        "x": 430,
        "y": 260,
        "wires": [
            [
                "3fdbb752.798ec8"
            ]
        ]
    },
    {
        "id": "fd7b8a4d.52e6c8",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "smoke detected upstairs",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.zcombo_g_smoke_co_alarm_smoke_detected_2",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 300,
        "wires": [
            [
                "3f622d19.96609a"
            ]
        ]
    },
    {
        "id": "d75a3b89.b17828",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "smoke detected basement",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.zcombo_g_smoke_co_alarm_smoke_detected_3",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 130,
        "y": 340,
        "wires": [
            [
                "c5e700b.742ef"
            ]
        ]
    },
    {
        "id": "3f622d19.96609a",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location upstairs",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "hal boven",
        "output": "str",
        "x": 420,
        "y": 300,
        "wires": [
            [
                "3fdbb752.798ec8"
            ]
        ]
    },
    {
        "id": "c5e700b.742ef",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location basement",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "kelder",
        "output": "str",
        "x": 430,
        "y": 340,
        "wires": [
            [
                "3fdbb752.798ec8"
            ]
        ]
    },
    {
        "id": "8b811e89.d8907",
        "type": "api-call-service",
        "z": "cde79c08.e4f488",
        "name": "app notification",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "persistent_notification",
        "service": "create",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"{{message}}\",\"title\":\"{{topic}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1320,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "64dbfd97.f3e984",
        "type": "api-call-service",
        "z": "cde79c08.e4f488",
        "name": "push notification",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "notify",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"{{message}}\",\"title\":\"{{topic}}\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1320,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "b64a8e86.d9fa8",
        "type": "subflow:99804b5f.9adb6",
        "z": "cde79c08.e4f488",
        "name": "",
        "env": [],
        "x": 1310,
        "y": 320,
        "wires": []
    },
    {
        "id": "8f9a86a6.9ca938",
        "type": "switch",
        "z": "cde79c08.e4f488",
        "name": "on / off",
        "property": "alarm_state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 930,
        "y": 300,
        "wires": [
            [
                "acaf455.81dc638"
            ],
            [
                "56c87bdc.b016ac"
            ]
        ]
    },
    {
        "id": "56c87bdc.b016ac",
        "type": "change",
        "z": "cde79c08.e4f488",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "alarm",
                "pt": "msg",
                "to": "off",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1100,
        "y": 320,
        "wires": [
            [
                "b64a8e86.d9fa8"
            ]
        ]
    },
    {
        "id": "3f462a6b.94f916",
        "type": "link out",
        "z": "cde79c08.e4f488",
        "name": "",
        "links": [
            "ebf4860d.603538"
        ],
        "x": 1255,
        "y": 100,
        "wires": []
    },
    {
        "id": "4c1d6e3911c44200",
        "type": "api-call-service",
        "z": "cde79c08.e4f488",
        "name": "google say",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "tts",
        "service": "google_say",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.home_speaker"
        ],
        "data": "{\"message\":\"{{message}}\",\"language\":\"nl\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "all",
        "x": 1310,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "04d283125bc58145",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "smoke co alarm test hallway upstairs",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.zcombo_g_smoke_co_alarm_smoke_alarm_test_2",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 160,
        "y": 120,
        "wires": [
            [
                "091db6919a07bcbc"
            ]
        ]
    },
    {
        "id": "59e16a632268c9e7",
        "type": "api-call-service",
        "z": "cde79c08.e4f488",
        "name": "google say",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "tts",
        "service": "google_say",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "media_player.home_speaker"
        ],
        "data": "{\"message\":\"{{extra_message}}\",\"language\":\"nl\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "all",
        "x": 1030,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "0e7fa473b99890f7",
        "type": "server-state-changed",
        "z": "cde79c08.e4f488",
        "name": "smoke co alarm test ",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.zcombo_g_smoke_co_alarm_smoke_alarm_test_3",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 1,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "alarm_state",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 160,
        "wires": [
            [
                "05b4a765aa5d138e"
            ]
        ]
    },
    {
        "id": "2174c321b4d32ca8",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location livingroom",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "woonkamer",
        "output": "str",
        "x": 430,
        "y": 80,
        "wires": [
            [
                "3c51dd96d91e1bc6",
                "3fdbb752.798ec8"
            ]
        ]
    },
    {
        "id": "091db6919a07bcbc",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location upstairs",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "hal boven",
        "output": "str",
        "x": 420,
        "y": 120,
        "wires": [
            [
                "3fdbb752.798ec8",
                "3c51dd96d91e1bc6"
            ]
        ]
    },
    {
        "id": "05b4a765aa5d138e",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "location basement",
        "field": "location",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "kelder",
        "output": "str",
        "x": 430,
        "y": 160,
        "wires": [
            [
                "3fdbb752.798ec8",
                "3c51dd96d91e1bc6"
            ]
        ]
    },
    {
        "id": "3c51dd96d91e1bc6",
        "type": "template",
        "z": "cde79c08.e4f488",
        "name": "test message",
        "field": "extra_message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Dit is een test.",
        "output": "str",
        "x": 810,
        "y": 140,
        "wires": [
            [
                "59e16a632268c9e7",
                "67d33dcce29b9ba2"
            ]
        ]
    },
    {
        "id": "67d33dcce29b9ba2",
        "type": "delay",
        "z": "cde79c08.e4f488",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 800,
        "y": 220,
        "wires": [
            [
                "3fdbb752.798ec8"
            ]
        ]
    },
    {
        "id": "8e6b13dc.d113a",
        "type": "comment",
        "z": "6135b991.c53398",
        "name": "notify when a message appears in pfsense",
        "info": "notify when a message appears in pfsense",
        "x": 180,
        "y": 40,
        "wires": []
    },
    {
        "id": "4284f3ab.aadf5c",
        "type": "server-state-changed",
        "z": "6135b991.c53398",
        "name": "updates available",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.pfsense_lan_firmware_updates_available",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 100,
        "wires": [
            [
                "13d845d9.64571a"
            ],
            []
        ]
    },
    {
        "id": "7eedf77d.92d228",
        "type": "server-state-changed",
        "z": "6135b991.c53398",
        "name": "pending notices present",
        "server": "4ba92433.2478cc",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.pfsense_lan_pending_notices_present",
        "entityidfiltertype": "exact",
        "outputinitially": true,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": false,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 160,
        "wires": [
            [
                "f30c6f29.a7983"
            ],
            []
        ]
    },
    {
        "id": "f30c6f29.a7983",
        "type": "template",
        "z": "6135b991.c53398",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is probleem gemeld in [pfSense](https://pfsense.lan:444)",
        "output": "str",
        "x": 300,
        "y": 160,
        "wires": [
            [
                "1e3cf70c.21e239",
                "e39bfe51.c1032"
            ]
        ]
    },
    {
        "id": "1e3cf70c.21e239",
        "type": "link out",
        "z": "6135b991.c53398",
        "name": "",
        "links": [
            "ebf4860d.603538"
        ],
        "x": 415,
        "y": 160,
        "wires": []
    },
    {
        "id": "e39bfe51.c1032",
        "type": "api-call-service",
        "z": "6135b991.c53398",
        "name": "notify phone coen",
        "server": "4ba92433.2478cc",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "mobile_app_phone_coen",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"{{message}}\",\"title\":\"pfSense\"}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 490,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "13d845d9.64571a",
        "type": "template",
        "z": "6135b991.c53398",
        "name": "message",
        "field": "message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Er is een update beschikbaar voor [pfSense](https://pfsense.lan:444)",
        "output": "str",
        "x": 300,
        "y": 100,
        "wires": [
            [
                "e39bfe51.c1032",
                "1e3cf70c.21e239"
            ]
        ]
    },
    {
        "id": "ea9a621c.8439e",
        "type": "change",
        "z": "fa4b9474.ba9d68",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "message",
                "pt": "msg",
                "from": "\\n",
                "fromt": "str",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 180,
        "y": 100,
        "wires": [
            [
                "f220041d.e87868"
            ]
        ]
    },
    {
        "id": "2cebe279.474c9e",
        "type": "template",
        "z": "fa4b9474.ba9d68",
        "name": "time-and-message",
        "field": "tijd-en-message",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "{{mytime}}, {{{message}}}",
        "output": "str",
        "x": 560,
        "y": 100,
        "wires": [
            [
                "4fae69c4.0b11b8"
            ]
        ]
    },
    {
        "id": "4fae69c4.0b11b8",
        "type": "api-current-state",
        "z": "fa4b9474.ba9d68",
        "name": "get message_home_page_1",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.message_home_page_1",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "message_home_page_1",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 820,
        "y": 100,
        "wires": [
            [
                "3126f1eb.a88fae"
            ]
        ]
    },
    {
        "id": "3126f1eb.a88fae",
        "type": "api-current-state",
        "z": "fa4b9474.ba9d68",
        "name": "get message_home_page_2",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.message_home_page_2",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "message_home_page_2",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 820,
        "y": 160,
        "wires": [
            [
                "e837ef9b.ef73"
            ]
        ]
    },
    {
        "id": "e837ef9b.ef73",
        "type": "api-current-state",
        "z": "fa4b9474.ba9d68",
        "name": "get message_home_page_3",
        "server": "4ba92433.2478cc",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.message_home_page_3",
        "state_type": "str",
        "blockInputOverrides": true,
        "outputProperties": [
            {
                "property": "message_home_page_3",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "x": 820,
        "y": 220,
        "wires": [
            [
                "e19ea4086f70fd84"
            ]
        ]
    },
    {
        "id": "f220041d.e87868",
        "type": "simpletime",
        "z": "fa4b9474.ba9d68",
        "name": "",
        "mydate": true,
        "myymd": true,
        "myyear": true,
        "mymonth": true,
        "mymonthn": true,
        "mydom": true,
        "mydoy": true,
        "myday": true,
        "myhourpm": true,
        "myhour": true,
        "mytime": true,
        "mytimes": true,
        "myminute": true,
        "myminutes": true,
        "mysecond": true,
        "mymillis": true,
        "myepoch": true,
        "myrawdate": true,
        "mypm": true,
        "x": 380,
        "y": 100,
        "wires": [
            [
                "2cebe279.474c9e"
            ]
        ]
    },
    {
        "id": "55d39b39.8dcda4",
        "type": "comment",
        "z": "fa4b9474.ba9d68",
        "name": "messages to home assistant lovelace home dashboard",
        "info": "messages to home assistant lovelace home dashboard",
        "x": 220,
        "y": 40,
        "wires": []
    },
    {
        "id": "ebf4860d.603538",
        "type": "link in",
        "z": "fa4b9474.ba9d68",
        "name": "",
        "links": [
            "15aedd3a.a2e193",
            "cf34922.125b87",
            "6ebf508f.20c57",
            "318a335e.4fd36c",
            "823092bd.a7ed7",
            "756eefe7.33a9e",
            "a9687ab6.f40698",
            "121441a.65b76be",
            "4c169b88.d80854",
            "6646c95c.546ca8",
            "2f76ff07.93816",
            "9f9c99bd.1dfe08",
            "3c488237.d82a4e",
            "9bfeecdc.f723d",
            "60473297.21616c",
            "5841bec4.a2bed",
            "289089f4.e41b76",
            "61bb3627.3c73a8",
            "d72ab58.1d91948",
            "651b6e34.8b57d",
            "1e3cf70c.21e239",
            "cd181994.e2ccc8",
            "24fe4408.a81eb4",
            "3f462a6b.94f916",
            "ff76935b03fd415e"
        ],
        "x": 35,
        "y": 100,
        "wires": [
            [
                "ea9a621c.8439e"
            ]
        ]
    },
    {
        "id": "d7eb7b2f57d080f8",
        "type": "ha-sensor",
        "z": "fa4b9474.ba9d68",
        "name": "time-and-message -> sensor message_home_page_1",
        "entityConfig": "82e8bc89.afd6f",
        "version": 0,
        "state": "tijd-en-message",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 900,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "e19ea4086f70fd84",
        "type": "ha-sensor",
        "z": "fa4b9474.ba9d68",
        "name": "put sensor message_home_page_1 -> 2",
        "entityConfig": "11bdffba.e4da8",
        "version": 0,
        "state": "message_home_page_1",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 860,
        "y": 280,
        "wires": [
            [
                "e4ee339e4a52681a"
            ]
        ]
    },
    {
        "id": "e4ee339e4a52681a",
        "type": "ha-sensor",
        "z": "fa4b9474.ba9d68",
        "name": "put sensor message_home_page_2 -> 3",
        "entityConfig": "d5f7b717.f22508",
        "version": 0,
        "state": "message_home_page_2",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 860,
        "y": 340,
        "wires": [
            [
                "6678100341818708"
            ]
        ]
    },
    {
        "id": "6678100341818708",
        "type": "ha-sensor",
        "z": "fa4b9474.ba9d68",
        "name": "put sensor message_home_page_3 -> 4",
        "entityConfig": "14fad9e1.42e016",
        "version": 0,
        "state": "message_home_page_3",
        "stateType": "msg",
        "attributes": [],
        "inputOverride": "block",
        "outputProperties": [],
        "x": 860,
        "y": 400,
        "wires": [
            [
                "d7eb7b2f57d080f8"
            ]
        ]
    },
    {
        "id": "99f2a4c013e94c5b",
        "type": "inject",
        "z": "61bef8ab2a5befa2",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 560,
        "y": 340,
        "wires": [
            []
        ]
    }
]