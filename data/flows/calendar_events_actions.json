[
  {
    "id": "9605dd85.f395a",
    "type": "tab",
    "label": "calendar_events_actions",
    "disabled": false,
    "info": ""
  },
  {
    "id": "785845af.a1799c",
    "type": "server-state-changed",
    "z": "9605dd85.f395a",
    "name": "calendar prompt7",
    "server": "4ba92433.2478cc",
    "version": 3,
    "exposeToHomeAssistant": false,
    "haConfig": [
      {
        "property": "name",
        "value": ""
      },
      {
        "property": "icon",
        "value": ""
      }
    ],
    "entityidfilter": "calendar.prompt7",
    "entityidfiltertype": "exact",
    "outputinitially": true,
    "state_type": "str",
    "haltifstate": "",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "outputs": 1,
    "output_only_on_state_change": true,
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "ignorePrevStateNull": false,
    "ignorePrevStateUnknown": true,
    "ignorePrevStateUnavailable": true,
    "ignoreCurrentStateUnknown": true,
    "ignoreCurrentStateUnavailable": true,
    "outputProperties": [
      {
        "property": "data",
        "propertyType": "msg",
        "value": "",
        "valueType": "eventData"
      }
    ],
    "x": 100,
    "y": 100,
    "wires": [
      [
        "377073a9.cc38cc"
      ]
    ]
  },
  {
    "id": "6ad4cba8.7d5a14",
    "type": "schedex",
    "z": "9605dd85.f395a",
    "name": "schedule",
    "passthroughunhandled": false,
    "suspended": false,
    "lat": "",
    "lon": "",
    "ontime": "",
    "ontopic": "",
    "onpayload": "",
    "onoffset": "",
    "onrandomoffset": 0,
    "offtime": "",
    "offtopic": "",
    "offpayload": "",
    "offoffset": 0,
    "offrandomoffset": 0,
    "mon": true,
    "tue": true,
    "wed": true,
    "thu": true,
    "fri": true,
    "sat": true,
    "sun": true,
    "x": 660,
    "y": 100,
    "wires": [
      [
        "e9171ff7.af43b"
      ]
    ]
  },
  {
    "id": "377073a9.cc38cc",
    "type": "function",
    "z": "9605dd85.f395a",
    "name": "check word in message",
    "func": "// Written by Coen Stam\n\n// Check if new state contains word\nvar string = msg.data.new_state.attributes.message;\nvar word = \"DEVELOPMENT\";\n\n// If new state contains word return msg\nif (string.includes(word))\nreturn msg;",
    "outputs": 1,
    "noerr": 0,
    "initialize": "",
    "finalize": "",
    "x": 310,
    "y": 100,
    "wires": [
      [
        "cf80420b.1f783"
      ]
    ]
  },
  {
    "id": "cf80420b.1f783",
    "type": "function",
    "z": "9605dd85.f395a",
    "name": "set start time",
    "func": "// Written by Coen Stam\n\n// Create time from start_time attribute\nmsg.payload = {};\nmsg.payload.ontime = msg.data.new_state.attributes.start_time.substr(11, 5);\nreturn msg;\n",
    "outputs": 1,
    "noerr": 0,
    "initialize": "",
    "finalize": "",
    "x": 510,
    "y": 100,
    "wires": [
      [
        "6ad4cba8.7d5a14"
      ]
    ]
  },
  {
    "id": "e9171ff7.af43b",
    "type": "api-call-service",
    "z": "9605dd85.f395a",
    "name": "set temperature climate basement",
    "server": "4ba92433.2478cc",
    "version": 3,
    "debugenabled": false,
    "service_domain": "climate",
    "service": "set_temperature",
    "entityId": "climate.basement",
    "data": "{\"hvac_mode\":\"heat\",\"temperature\":19}",
    "dataType": "json",
    "mergecontext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 880,
    "y": 100,
    "wires": [
      []
    ]
  },
  {
    "id": "2c83e3ef.9f7cac",
    "type": "comment",
    "z": "9605dd85.f395a",
    "name": "schedule actions based on calendar events",
    "info": "schedule actions based on calendar events",
    "x": 180,
    "y": 40,
    "wires": []
  },
  {
    "id": "ea0f15a1.eeb268",
    "type": "server-state-changed",
    "z": "9605dd85.f395a",
    "name": "calendar lise",
    "server": "4ba92433.2478cc",
    "version": 3,
    "exposeToHomeAssistant": false,
    "haConfig": [
      {
        "property": "name",
        "value": ""
      },
      {
        "property": "icon",
        "value": ""
      }
    ],
    "entityidfilter": "calendar.lise",
    "entityidfiltertype": "exact",
    "outputinitially": true,
    "state_type": "str",
    "haltifstate": "",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "outputs": 1,
    "output_only_on_state_change": false,
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "ignorePrevStateNull": false,
    "ignorePrevStateUnknown": true,
    "ignorePrevStateUnavailable": true,
    "ignoreCurrentStateUnknown": true,
    "ignoreCurrentStateUnavailable": true,
    "outputProperties": [
      {
        "property": "payload",
        "propertyType": "msg",
        "value": "",
        "valueType": "entityState"
      },
      {
        "property": "data",
        "propertyType": "msg",
        "value": "",
        "valueType": "eventData"
      },
      {
        "property": "topic",
        "propertyType": "msg",
        "value": "",
        "valueType": "triggerId"
      }
    ],
    "x": 90,
    "y": 180,
    "wires": [
      [
        "e8b6ad98.7697a"
      ]
    ]
  },
  {
    "id": "e8b6ad98.7697a",
    "type": "function",
    "z": "9605dd85.f395a",
    "name": "check word in message",
    "func": "// Written by Coen Stam\n\n// Check if new state contains word\nvar string = msg.data.new_state.attributes.message;\nvar word = \"past op\";\n\n// If new state contains word return msg\nif (string.includes(word))\nreturn msg;",
    "outputs": 1,
    "noerr": 0,
    "initialize": "",
    "finalize": "",
    "x": 310,
    "y": 180,
    "wires": [
      [
        "66f59609.e2e228"
      ]
    ]
  },
  {
    "id": "66f59609.e2e228",
    "type": "function",
    "z": "9605dd85.f395a",
    "name": "set start time",
    "func": "// Written by Coen Stam\n\n// Create time from start_time attribute\nmsg.payload = {};\nmsg.payload.ontime = msg.data.new_state.attributes.start_time.substr(11, 5);\nreturn msg;\n",
    "outputs": 1,
    "noerr": 0,
    "initialize": "",
    "finalize": "",
    "x": 510,
    "y": 180,
    "wires": [
      [
        "9912da2f.1fd358"
      ]
    ]
  },
  {
    "id": "fd9328e7.a31568",
    "type": "api-call-service",
    "z": "9605dd85.f395a",
    "name": "turn on guest mode",
    "server": "4ba92433.2478cc",
    "version": 3,
    "debugenabled": false,
    "service_domain": "input_boolean",
    "service": "turn_on",
    "entityId": "input_boolean.guest",
    "data": "",
    "dataType": "jsonata",
    "mergecontext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 890,
    "y": 180,
    "wires": [
      []
    ]
  },
  {
    "id": "9912da2f.1fd358",
    "type": "schedex",
    "z": "9605dd85.f395a",
    "name": "schedule -90 min",
    "passthroughunhandled": false,
    "suspended": false,
    "lat": "",
    "lon": "",
    "ontime": "",
    "ontopic": "",
    "onpayload": "",
    "onoffset": "-90",
    "onrandomoffset": 0,
    "offtime": "",
    "offtopic": "",
    "offpayload": "",
    "offoffset": 0,
    "offrandomoffset": 0,
    "mon": true,
    "tue": true,
    "wed": true,
    "thu": true,
    "fri": true,
    "sat": true,
    "sun": true,
    "x": 690,
    "y": 180,
    "wires": [
      [
        "fd9328e7.a31568"
      ]
    ]
  }
]